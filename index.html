<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OGC® GeoPackage Encoding Standard</title>
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css">
<link rel="stylesheet" href="./asciidoctor-coderay.css">
</head>
<body class="book">
<div id="header">
</div>
<div id="content">
<div id="ogcname" class="paragraph">
<p>Open Geospatial Consortium<br></p>
</div>
<div id="ogcheading" class="paragraph">
<p>Publication Date: 2014-02-12<br>
Approval Date:   2014-01-19<br>
Submission Date: 2013-10-13<br>
External identifier of this OGC® document: <a href="http://www.opengis.net/doc/IS/geopackage/1.0">http://www.opengis.net/doc/IS/geopackage/1.0</a><br>
Reference number of this OGC® project document: OGC 12-128r10<br>
Version: 1.0<br>
Category: OGC® Encoding Standard<br>
Editor:   Paul Daisey</p>
</div>
<div class="sect1">
<h2 id="_ogc_geopackage_encoding_standard">OGC® GeoPackage Encoding Standard</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Copyright © 2014 Open Geospatial Consortium.<br>
To obtain additional rights of use, visit <a href="http://www.opengeospatial.org/legal/">http://www.opengeospatial.org/legal/</a><br></p>
</div>
<div class="paragraph">
<p><strong>Warning</strong></p>
</div>
<div class="paragraph">
<p>This document is an OGC Member approved international standard. This document is available on a royalty free, non-discriminatory basis. Recipients of this document are invited to submit, with their comments, notification of any relevant patent rights of which they are aware and to provide supporting documentation.</p>
</div>
<div class="paragraph">
<p>Document type:   	OGC® Publicly Available Standard<br>
Document subtype:   	Encoding Standard <br>
Document stage:   	Approved<br>
Document language: 	English<br></p>
</div>
<div class="sect1">
<h2 id="_">许可说明</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Permission is hereby granted by the Open Geospatial Consortium, ("Licensor"), free of charge and subject to the terms set forth below, to any person obtaining a copy of this Intellectual Property and any associated documentation, to deal in the Intellectual Property without restriction (except as set forth below), including without limitation the rights to implement, use, copy, modify, merge, publish, distribute, and/or sublicense copies of the Intellectual Property, and to permit persons to whom the Intellectual Property is furnished to do so, provided that all copyright notices on the intellectual property are retained intact and that each person to whom the Intellectual Property is furnished agrees to the terms of this Agreement.</p>
</div>
<div class="paragraph">
<p>If you modify the Intellectual Property, all copies of the modified Intellectual Property must include, in addition to the above copyright notice, a notice that the Intellectual Property includes modifications that have not been approved or adopted by LICENSOR.</p>
</div>
<div class="paragraph">
<p>THIS LICENSE IS A COPYRIGHT LICENSE ONLY, AND DOES NOT CONVEY ANY RIGHTS UNDER ANY PATENTS THAT MAY BE IN FORCE ANYWHERE IN THE WORLD.</p>
</div>
<div class="paragraph">
<p>THE INTELLECTUAL PROPERTY IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NONINFRINGEMENT OF THIRD PARTY RIGHTS. THE COPYRIGHT HOLDER OR HOLDERS INCLUDED IN THIS NOTICE DO NOT WARRANT THAT THE FUNCTIONS CONTAINED IN THE INTELLECTUAL PROPERTY WILL MEET YOUR REQUIREMENTS OR THAT THE OPERATION OF THE INTELLECTUAL PROPERTY WILL BE UNINTERRUPTED OR ERROR FREE. ANY USE OF THE INTELLECTUAL PROPERTY SHALL BE MADE ENTIRELY AT THE USER’S OWN RISK. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR ANY CONTRIBUTOR OF INTELLECTUAL PROPERTY RIGHTS TO THE INTELLECTUAL PROPERTY BE LIABLE FOR ANY CLAIM, OR ANY DIRECT, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES, OR ANY DAMAGES WHATSOEVER RESULTING FROM ANY ALLEGED INFRINGEMENT OR ANY LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR UNDER ANY OTHER LEGAL THEORY, ARISING OUT OF OR IN CONNECTION WITH THE IMPLEMENTATION, USE, COMMERCIALIZATION OR PERFORMANCE OF THIS INTELLECTUAL PROPERTY.</p>
</div>
<div class="paragraph">
<p>This license is effective until terminated. You may terminate it at any time by destroying the Intellectual Property together with all copies in any form. The license will also terminate if you fail to comply with any term or condition of this Agreement. Except as provided in the following sentence, no such termination of this license shall require the termination of any third party end-user sublicense to the Intellectual Property which is in force as of the date of notice of such termination. In addition, should the Intellectual Property, or the operation of the Intellectual Property, infringe, or in LICENSOR’s sole opinion be likely to infringe, any patent, copyright, trademark or other right of a third party, you agree that LICENSOR, in its sole discretion, may terminate this license without any compensation or liability to you, your licensees or any other party. You agree upon termination of any kind to destroy or cause to be destroyed the Intellectual Property together with all copies in any form, whether held by you or by any third party.</p>
</div>
<div class="paragraph">
<p>Except as contained in this notice, the name of LICENSOR or of any other holder of a copyright in all or part of the Intellectual Property shall not be used in advertising or otherwise to promote the sale, use or other dealings in this Intellectual Property without prior written authorization of LICENSOR or such copyright holder. LICENSOR is and shall at all times be the sole entity that may authorize you or any third party to use certification marks, trademarks or other special designations to indicate compliance with any LICENSOR standards or specifications.</p>
</div>
<div class="paragraph">
<p>This Agreement is governed by the laws of the Commonwealth of Massachusetts. The application to this Agreement of the United Nations Convention on Contracts for the International Sale of Goods is hereby expressly excluded. In the event any provision of this Agreement shall be deemed unenforceable, void or invalid, such provision shall be modified so as to make it valid and enforceable, and as so modified the entire Agreement shall remain in full force and effect. No decision, action or inaction by LICENSOR shall be construed to be a waiver of any rights or remedies available to it. None of the Intellectual Property or underlying information or technology may be downloaded or otherwise exported or reexported in violation of U.S. export laws and regulations. In addition, you are responsible for complying with any local laws in your jurisdiction which may impact your right to import, export or use the Intellectual Property, and you represent that you have complied with any regulations or registration procedures required by applicable law to make this license enforceable.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__2">专利请求</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Attention is drawn to the possibility that some of the elements of this document may be the subject of patent rights. The Open Geospatial Consortium Inc. shall not be held responsible for identifying any or all such patent rights.</em></p>
</div>
<div class="paragraph">
<p><em>Recipients of this document are requested to submit, with their comments, notification of any relevant patent claims or other intellectual property rights of which they may be aware that might be infringed by any implementation of the standard set forth in this document, and to provide supporting documentation.</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__3">摘要</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OGC® 编码标准定义了用于数据交换的GeoPackage协议，定义了GeoPackage SQLite扩展用于在多种比例尺级别直接使用矢量地理空间要素信息，以及地球影像、栅格地图的瓦片矩阵集合。直接使用意味着有能力以原生（native）的格式访问和更新数据，而不需要中间格式转换（例如，通过API），这样能确保数据模型和数据集的完整性，以及在对来自各个不同的客户端的请求进行响应时，返回完全相同的访问、更新结果。GeoPackage不论在企业级还是在个人计算机环境中都支持互操作，而当通讯连接不稳定、带宽有限时，对移动设备（例如手机、平板电脑）格外有用。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__4">关键字</h2>
<div class="sectionbody">
<div class="paragraph">
<p>ogcdoc, geopackage, sqllite, raster, tiles, vector, feature, data, storage, exchange, mobile, smartphone, tablet</p>
</div>
<div id="toc" class="toc2">
<div id="toctitle" class="title">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_ogc_geopackage_encoding_standard">OGC® GeoPackage Encoding Standard</a></li>
<li>
<ul class="sectlevel1">
<li><a href="#_">许可说明</a></li>
<li><a href="#__2">专利请求</a></li>
<li><a href="#__3">摘要</a></li>
<li><a href="#__4">关键字</a></li>
<li><a href="#__5">介绍</a></li>
<li><a href="#__6">1. 基础</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#__7">1.1. 核心</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_sqlite">1.1.1. SQLite 容器</a></li>
<li><a href="#spatial_ref_sys">1.1.2. 空间参考系统</a></li>
<li><a href="#__15">1.1.3. 内容</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#__19">2. 可选项</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#__20">2.1. 要素</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#sfsql_intro">2.1.1. 简单要素的SQL访问介绍</a></li>
<li><a href="#__21">2.1.2. 内容</a></li>
<li><a href="#gpb_format">2.1.3. 几何编码</a></li>
<li><a href="#sql_geometry_types">2.1.4. SQL几何类型</a></li>
<li><a href="#__27">2.1.5. 几何要素列</a></li>
<li><a href="#feature_user_tables">2.1.6. 矢量要素用户数据表</a></li>
</ul>
</li>
<li><a href="#tiles">2.2. 瓦片</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#__34">2.2.1. 瓦片矩阵介绍</a></li>
<li><a href="#__35">2.2.2. 内容</a></li>
<li><a href="#zoom_levels">2.2.3. Zoom Levels</a></li>
<li><a href="#tile_enc_png">2.2.4. Tile Encoding PNG</a></li>
<li><a href="#tile_enc_jpeg">2.2.5. Tile Encoding JPEG</a></li>
<li><a href="#__42">2.2.6. 瓦片矩阵集合</a></li>
<li><a href="#tile_matrix">2.2.7. 瓦片矩阵</a></li>
<li><a href="#tiles_user_tables">2.2.8. 瓦片金字塔数据表</a></li>
</ul>
</li>
<li><a href="#_schema">2.3. Schema</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_schema_2">2.3.1. Schema 介绍</a></li>
<li><a href="#__47">2.3.2. 数据列</a></li>
<li><a href="#__50">2.3.3. 数据列约束</a></li>
</ul>
</li>
<li><a href="#_metadata">2.4. Metadata</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_introduction">2.4.1. Introduction</a></li>
<li><a href="#_metadata_table">2.4.2. Metadata Table</a></li>
<li><a href="#_metadata_reference_table">2.4.3. Metadata Reference Table</a></li>
</ul>
</li>
<li><a href="#_extension_mechanism">2.5. Extension Mechanism</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_introduction_2">2.5.1. Introduction</a></li>
<li><a href="#_extensions">2.5.2. Extensions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_registered_extensions">3. Registered Extensions</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_features">3.1. Features</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#gpkg_geometry_types_extension">3.1.1. GeoPackage Geometry Types Extension</a></li>
<li><a href="#gpkg_user_geometry_types_extension">3.1.2. User-Defined Geometry Types Extension</a></li>
<li><a href="#_rtree_spatial_indexes">3.1.3. RTree Spatial Indexes</a></li>
<li><a href="#_geometry_type_triggers">3.1.4. Geometry Type Triggers</a></li>
<li><a href="#_srs_id_triggers">3.1.5. SRS_ID Triggers</a></li>
</ul>
</li>
<li><a href="#_tiles">3.2. Tiles</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_zoom_levels">3.2.1. Zoom Levels</a></li>
<li><a href="#tile_enc_webp">3.2.2. Tile Encoding WEBP</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_security_considerations">4. Security Considerations</a></li>
<li><a href="#abstract_test_suite"> Annex A: Conformance / Abstract Test Suite (Normative)</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_base">A.1. Base</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_core">A.1.1. Core</a></li>
</ul>
</li>
<li><a href="#_options">A.2. Options</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_features_2">A.2.1. Features</a></li>
<li><a href="#_tiles_2">A.2.2. Tiles</a></li>
<li><a href="#_schema_3">A.2.3. Schema</a></li>
<li><a href="#_metadata_2">A.2.4. Metadata</a></li>
<li><a href="#_extension_mechanism_2">A.2.5. Extension Mechanism</a></li>
</ul>
</li>
<li><a href="#_registered_extensions_2">A.3. Registered Extensions</a></li>
<li>
<ul class="sectlevel3">
<li><a href="#_features_3">A.3.1. Features</a></li>
<li><a href="#_tiles_3">A.3.2. Tiles</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#background_and_context"> Annex B: Background and Context (Normative)</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_background">B.1. Background</a></li>
<li><a href="#_document_terms_and_definitions">B.2. Document terms and definitions</a></li>
<li><a href="#_conventions">B.3. Conventions</a></li>
<li><a href="#_submitting_organizations_informative">B.4. Submitting Organizations (Informative)</a></li>
<li><a href="#_document_contributor_contact_points_informative">B.5. Document contributor contact points (Informative)</a></li>
<li><a href="#_revision_history_informative">B.6. Revision History (Informative)</a></li>
<li><a href="#_changes_to_the_ogc_abstract_specification">B.7. Changes to the OGC® Abstract Specification</a></li>
<li><a href="#_changes_to_ogc_implementation_standards">B.8. Changes to OGC® Implementation Standards</a></li>
<li><a href="#_potential_future_work_informative">B.9. Potential Future Work (Informative)</a></li>
<li><a href="#_uml_notation">B.10. UML Notation</a></li>
<li><a href="#_geopackage_tables_detailed_diagram">B.11. GeoPackage Tables Detailed Diagram</a></li>
<li><a href="#_geopackage_minimal_tables_for_features_diagram">B.12. GeoPackage Minimal Tables for Features Diagram</a></li>
<li><a href="#_geopackage_minimal_tables_for_tiles_diagram">B.13. GeoPackage Minimal Tables for Tiles Diagram</a></li>
</ul>
</li>
<li><a href="#table_definition_sql"> Annex C: Table Definition SQL (Normative)</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_gpkg_spatial_ref_sys">C.1. gpkg_spatial_ref_sys</a></li>
<li><a href="#_gpkg_contents">C.2. gpkg_contents</a></li>
<li><a href="#_gpkg_geometry_columns">C.3. gpkg_geometry_columns</a></li>
<li><a href="#_sample_feature_table_informative">C.4. sample_feature_table (Informative)</a></li>
<li><a href="#_gpkg_tile_matrix_set">C.5. gpkg_tile_matrix_set</a></li>
<li><a href="#_gpkg_tile_matrix">C.6. gpkg_tile_matrix</a></li>
<li><a href="#_sample_tile_pyramid_informative">C.7. sample_tile_pyramid (Informative)</a></li>
<li><a href="#_gpkg_data_columns">C.8. gpkg_data_columns</a></li>
<li><a href="#_gpkg_data_column_constraints">C.9. gpkg_data_column_constraints</a></li>
<li><a href="#_gpkg_metadata">C.10. gpkg_metadata</a></li>
<li><a href="#_gpkg_metadata_reference">C.11. gpkg_metadata_reference</a></li>
<li><a href="#_gpkg_extensions">C.12. gpkg_extensions</a></li>
</ul>
</li>
<li><a href="#_trigger_definition_sql_informative"> Annex D: Trigger Definition SQL (Informative)</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_gpkg_tile_matrix_2">D.1. gpkg_tile_matrix</a></li>
<li><a href="#_metadata_3">D.2. metadata</a></li>
<li><a href="#_metadata_reference">D.3. metadata_reference</a></li>
<li><a href="#_sample_feature_table">D.4. sample_feature_table</a></li>
<li><a href="#_sample_tile_pyramid">D.5. sample_tile_pyramid</a></li>
</ul>
</li>
<li><a href="#geometry_types"> Annex E: Geometry Types (Normative)</a></li>
<li><a href="#tiles_factor2_example_appendix"> Annex F: Tiles Zoom Times Two Example (Informative)</a></li>
<li><a href="#metadata_example_appendix"> Annex G: Hierarchical Metadata Example (Informative)</a></li>
<li><a href="#raster_or_tile_metadata_example_appendix"> Annex H: Raster or Tile Metadata Example (Informative)</a></li>
<li><a href="#extension_template"> Annex I: GeoPackage Extension Template (Normative)</a></li>
<li><a href="#extension_geometry_types"> Annex J: GeoPackage Geometry Types Extension Template (Normative)</a></li>
<li><a href="#extension_geometry_encoding"> Annex K: User-Defined Geometry Types Encoding Extension Template (Normative)</a></li>
<li><a href="#extension_rtree"> Annex L: RTree Spatial Index Extension (Normative)</a></li>
<li><a href="#extension_geometry_type_triggers"> Annex M: Geometry Type Triggers Extension (Normative)</a></li>
<li><a href="#extension_geometry_srsid_triggers"> Annex N: Geometry SRS ID Triggers Extension (Normative)</a></li>
<li><a href="#extension_zoom_other_intervals"> Annex O: Zoom Other Intervals Extension (Normative)</a></li>
<li><a href="#extension_tiles_webp"> Annex P: Tiles Encoding WebP Extension (Normative)</a></li>
<li><a href="#_normative_references_normative"> Annex Q: Normative References (Normative)</a></li>
<li><a href="#_bibliography_informative"> Annex R: Bibliography (Informative)</a></li>
</ul>
</li>
</ul>
</div>

</div>
</div>
<div class="sect1">
<h2 id="__5">介绍</h2>
<div class="sectionbody">
<div class="paragraph">
<p>移动设备用户在网络连接中断或是受限的环境下，获取和操作地图/地理信息服务时会遇到一些挑战，一是存储能力有限，另外也缺乏开放的空间数据格式来支持移动应用。目前的情况是，每个地图/地理信息应用都可能有自己专有的地理数据库，这些专有的地理数据库可能包含相同的地理数据，这样就造成了可用存储空间的浪费（移动设备的存储空间往往是有限的），当地理数据在不同的地图/地理信息应用之间按同一视图共享时，还要求应用程序进行定制以适应地理数据转换、复制和同步的需求。此外，许多现有的地理数据库是与平台绑定的，这就意味着不同平台的用户在共享数据时必须进行转换。</p>
</div>
<div class="paragraph">
<p>为了克服这些挑战，有效地支撑多样的地图/地理信息应用（例如固定产品分发、本地数据收集、地理空间分析），我们需要开放的Geopackage（GPKG）数据容器、API和清单，它们需要是基于标准的、独立于应用程序的、独立于平台的、轻便的、可互操作的、以及自描述的。
考虑到移动手持设备缺乏足够的处理能力和电量寿命来有效地处理复杂的地理产品的生产和分析任务，本标准期望使GeoPackage在COTS（Commercial-off-the-shelf，商用现成品）以及开源软件中得到广泛采纳和使用，不仅应用到企业级生产平台中，更重要的是应用到移动手持设备中<a href="#B1">[B1]</a> <a href="#B2">[B2]</a>。
通过接入GPKG文件，应用程序能充分利用GPKG的特性，当前很少有程序能充分利用所有的GPKG特性。</p>
</div>
<div class="paragraph">
<p>OGC®  编码标准定义了用于数据交换的GeoPackage协议，定义了GeoPackage SQLite扩展用于在多种比例尺级别直接使用矢量地理空间要素信息，以及地球影像、栅格地图的瓦片矩阵集合。直接使用意味着有能力以原生（native）的格式访问和更新数据，而不需要中间格式转换（例如，通过API），这样能确保数据模型和数据集的完整性，以及在对来自各个不同的客户端的请求进行响应时，返回完全相同的访问、更新结果。</p>
</div>
<div class="paragraph">
<p><strong>GeoPackage</strong>是一个独立于平台的SQLite <a href="#5">[5]</a>数据库文件，它包含了GeoPackage数据和元数据表（如<a href="#geopackage_tables_figure">GeoPackage 表概述</a> 所示），这些内容有详细的规则定义，完整的声明，格式限制和内容约束。GeoPackage 允许的内容在本文档中进行了完整的定义。</p>
</div>
<div class="paragraph">
<p><strong>扩展的GeoPackage</strong>在<strong>GeoPackage</strong>基础上包含了额外的数据要素（表或列）或SQL结构（数据类型、方法、索引、约束或触发器），这些额外的数据要素或SQL结构在本编码规范中没有指定。</p>
</div>
<div class="paragraph">
<p><strong>GeoPackage</strong> 可能为“空”（矢量要素和/或瓦片矩阵金字塔对应的数据表中没有记录），也可能包含一个或多个矢量要素类型的记录，以及一个或多个瓦片金字塔（tile matrix pyramid）类型的影像瓦片。GeoPackage元数据能够描述GeoPackage的数据内容，以及确定同步外部数据时的源和目标。
GeoPackage可能包含几何要素的空间索引，以及用于维护索引、确保内容约束的SQL触发器（triggers）。</p>
</div>
<div class="paragraph">
<p><strong>Geopackage SQLite配置项</strong>由SQLite 3软件库和一组编译和运行时的配置项组成。</p>
</div>
<div class="paragraph">
<p><strong>Geopackage SQLite 扩展</strong>是一个支持SQLite加载的扩展项，可能提供SQL功能<a href="#12">[12]</a> 以支持支持空间索引和SQL触发器，SQL触发器与确定配置需求的SQLite库关联，为访问GeoPackage文件提供SQL API<a href="#1">[1]</a> <a href="#2">[2]</a> <a href="#3">[3]</a> <a href="#4">[4]</a>。
本标准不解决<a href="#background_and_context">Background and Context (Normative)</a>中<a href="#_potential_future_work">[_potential_future_work]</a>条款的问题，它们可能在本规范的后续版本或其他规范中解决。</p>
</div>
<div id="geopackage_tables_figure" class="imageblock">
<div class="content">
<img src="geopackage-overview.png" alt="GeoPackage Tables">
</div>
<div class="title">Figure 1. GeoPackage 表概述</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__6">1. 基础</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="#_options">Options</a>中所做的规定以及<a href="#_registered_extensions">Registered Extensions</a>中指定的扩展展示了本规范具备的功能。所有以gpkg_*开头的表、视图，以及本标准中指定的存储瓦片的用户数据表，都应该只有规定的列和表约束。存储要素的用户数据表中除了有这些规定的列，还可能有其他列。本标准中所有的表名和列名都应该使用小写。</p>
</div>
<div class="sect2">
<h3 id="__7">1.1. 核心</h3>
<div class="paragraph">
<p>每个<strong>GeoPackage</strong>和<strong>GeoPackage SQLite</strong>都应该实现附属条款中定义的核心功能以及本条款中的需求陈述。</p>
</div>
<div class="sect3">
<h4 id="_sqlite">1.1.1. SQLite 容器</h4>
<div class="paragraph">
<p>SQLite软件库提供了一个自包含的、单文件、跨平台的、服务器无关的、事务性的、开源的RDBMS（关系数据库管理系统）容器。
为了使用SQLite软件库，GeoPackage规范定义了一个SQL数据库schema。
使用SQLite作为GeoPackage的基础简化了GeoPackage文件的生产、分发和使用，同时确保了Geopackage文件中的数据完整性。</p>
</div>
<div class="paragraph">
<p>“自包含”是指容器软件几乎不需要外部库或操作系统的支持。
 “单文件”是指在支持文件系统的计算平台中，容器在没有被任何软件打开时，在一个文件系统中只由一个独立文件构成。
“跨平台”指的是一个计算平台中创建和装载数据的容器文件，可能在另一个平台中被使用和更新，即使这两个平台位于不同的操作系统、文件系统甚至有不同的字节顺序（endian）约定。
 “服务器无关”指的是RDBMS容器的实现不需要任何中间服务器进程，就能被应用软件直接访问。
 “事务性”是指在程序崩溃、操作系统崩溃以及断电的情况下，RDBMS仍能确保对容器内数据的所有修改都具备 原子性(Atomicity）、一致性（Consistency）、隔离性（Isolation）和持久性（Durability）。</p>
</div>
<div class="sect4">
<h5 id="__8">1.1.1.1. 数据</h5>
<div class="sect5">
<h6 id="__9">1.1.1.1.1. 文件格式</h6>
<div id="_requirement-1" class="quoteblock">
<div class="title">Requirement 1</div>
<blockquote>
一个GeoPackage应该是一个 <a href="http://www.sqlite.org/">SQLite</a> <a href="#5">[5]</a>数据库文件，该数据库文件应使用 <a href="http://sqlite.org/fileformat2.html">3.x版本的SQLite文件格式</a> <a href="#6">[6]</a> <a href="#7">[7]</a>。
GeoPackage文件用ASCII格式 <a href="#B4">[B4]</a>打开的前16个字节应该包含“SQLite format 3” <span class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</span> 字符串。 <span class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</span>
</blockquote>
</div>
<div id="_requirement-2" class="quoteblock">
<div class="title">Requirement 2</div>
<blockquote>
GeoPackage的SQLite数据库头（header）中，平台ID（application id）字段应该包含0x47503130（ASCII转码后为“GP10”）来表明文件为GeoPackage 1.0版本。<span class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnote_3" title="View footnote.">3</a>]</span>
</blockquote>
</div>
<div class="paragraph">
<p>GeoPackage的最大存储空间约为140TB。在实际应用写文件的时候，因受到文件系统的影响，存储空间可能更小。很多移动设备的外部存储卡需要使用FAT32格式化，而FAT32文件系统也限制了GeoPackage单个文件的最大存储空间为4GB。</p>
</div>
</div>
<div class="sect5">
<h6 id="__10">1.1.1.1.2. 文件扩展名</h6>
<div id="_requirement-3" class="quoteblock">
<div class="title">Requirement 3</div>
<blockquote>
GeoPackage文件的扩展名为“*.gpkg”。
</blockquote>
</div>
<div class="paragraph">
<p>推荐扩展的GeoPackage文件使用扩展名“*.gpkx”，但GeoPackage规范并不做规定。</p>
</div>
</div>
<div class="sect5">
<h6 id="__11">1.1.1.1.3. 文件内容</h6>
<div id="_requirement-4" class="quoteblock">
<div class="title">Requirement 4</div>
<blockquote>
GeoPackage文件应该只包含数据要素、SQL元素、以及GeoPackage扩展，按照本标准要求，GeoPackage扩展应该带有“gpkg”作者名字。
</blockquote>
</div>
<div class="paragraph">
<p>为了保证应用程序之间最大的互操作性，GeoPackage文件不应包含本标准之外的数据要素（表或列）、SQL元素（数据类型，索引，约束或触发器）、以及扩展。
本规范中的扩展GeoPackage文件（Extended GeoPackages）是指SQLite数据库不仅使用了GeoPackage规范中规定的基本元素，还对这些元素进行了扩展。</p>
</div>
<div id="_requirement-5" class="quoteblock">
<div class="title">Requirement 5</div>
<blockquote>
GeoPackage数据表中的列仅可以使用<a href="#table_column_data_types">GeoPackage 数据类型</a>中规定的数据类型进行声明。
</blockquote>
</div>
<table id="table_column_data_types" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 1. GeoPackage 数据类型</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">数据类型</th>
<th class="tableblock halign-left valign-top">大小与说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOOLEAN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">标识true或false的布尔值，在SQLite中存储为INTEGER类型，0表示true，1标识false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TINYINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8位补码表示的整数。在SQLite中存储为INTEGER类型，取值范围为[-128, 127]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SMALLINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16位补码表示的整数。在SQLite中存储为INTEGER类型，取值范围为[-32768, 32767]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MEDIUMINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32位补码表示的整数。在SQLite中存储为INTEGER类型，取值范围为[-2147483648, 2147483647]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT, INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64位补码表示的整数。在SQLite中存储为INTEGER类型，取值范围为[-9223372036854775808, 9223372036854775807]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FLOAT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IEEE 32位浮点数。在SQLite中存储为REAL类型，取值需要能被4个字节的IEEE浮点数表示</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE, REAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IEEE 64位浮点数。在SQLite中存储为REAL类型</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT{(maxchar_count)}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UTF-8或UTF-16编码的变长字符串，编码类型取决于PRAGMA encoding指令（参见：http://www.sqlite.org/pragma.html#pragma_encoding）。maxchar_count是可选的，它限定了字符串长度。如果未指定，则字符串长度是无限的。限制字符串长度是为了更好的表达信息，当字符串过长时，应用程序可能会把字符串截断。定义maxchar_count使应用程序能够根据字符串长度上限进行最佳处理。在SQLite中存储为TEXT类型</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLOB{(max_size)}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">变长的二进制数据。max_size是可选的，它限定了数据的二进制长度。如果未指定，则长度是无限的。数据大小提供了信息参考。定义max_size使应用程序能够根据数据大小上限进行最佳处理。在SQLite中存储为BLOB类型</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;geometry_type_name&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">几何对象（Geometry）根据<a href="#_geometry_encoding">Geometry Encoding</a> 进行编码。 &lt;geometry type_name&gt; 是符合2.1.3条款的<a href="#geometry_types">Geometry Types (Normative)</a>所列的其中一个几何类型，或是符合3.1.2条款和 <a href="#extension_geometry_encoding">User-Defined Geometry Types Encoding Extension Template (Normative)</a>的用户自定义几何类型。XY、XYZ、XYM和XYZM类型的几何对象使用的是同一数据类型。在SQLite中存储为BLOB类型</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601标准的日期字符串，字符串格式为YYYY-MM-DD，使用UTF-8或UTF-16编码。参见TEXT类型。在SQLite中存储为TEXT类型</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATETIME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO-8601标准的日期/时间字符串，字符串格式为YYYY-MM-DDTHH：MM：SS.SSSZ，T用作分隔符，后缀Z表示DATETIME为协调世界时（UTC）,字符串使用UTF-8或UTF-16编码。参见TEXT类型。在SQLite中存储为TEXT类型</p></td>
</tr>
</tbody>
</table>

</div>
<div class="sect5">
<h6 id="__12">1.1.1.1.4. 文件完整性</h6>
<div id="_requirement-6" class="quoteblock">
<div class="title">Requirement 6</div>
<blockquote>
对GeoPackage文件中运行SQLite的PRAGMA integrity_check命令，应该返回“ok”。
</blockquote>
</div>
<div id="_requirement-7" class="quoteblock">
<div class="title">Requirement 7</div>
<blockquote>
对GeoPackage文件中运行SQLite的PRAGMA foreign_key_check命令，不传参数时应该返回空的结果集，表示该GeoPackage文件的所有外键（foreign key）都有效。
</blockquote>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_api">1.1.1.2. API</h5>
<div class="sect5">
<h6 id="api_sql">1.1.1.2.1. 结构化查询语言（SQL）</h6>
<div id="_requirement-8" class="quoteblock">
<div class="title">Requirement 8</div>
<blockquote>
GeoPackage的SQLite配置应该通过 <a href="http://www.sqlite.org/download.html">SQLite 3.x版本</a> <a href="#6">[6]</a> 的软件API，提供对GeoPackage内容的SQL访问方式。<span class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnote_4" title="View footnote.">4</a>]</span>
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="__gpkg_sqlite">1.1.1.2.2. 每个GPKG的SQLite配置</h6>
<div class="paragraph">
<p><a href="http://www.sqlite.org/download.html">SQLite</a> <a href="#8">[8]</a> 库有许多http://www.sqlite.org/compile.html[编译]和http://www.sqlite.org/pragma.html[运行] 时参数，在针对不同用途配置SQLite时可能被使用。
GeoPackage规范中的元素在运行时依赖于SQLite功能的可用性，本条款规定了编译和运行时，哪些参数可以使用，哪些参数不允许使用。</p>
</div>
<div id="_requirement-9" class="quoteblock">
<div class="title">Requirement 9</div>
<blockquote>
每个GeoPackge的SQLite配置都应该符合<a href="#every_gpkg_sqlite_config_table">每个GeoPackage的SQLite配置</a>中指定的SQLite编译和运行时参数说明。
</blockquote>
</div>
<table id="every_gpkg_sqlite_config_table" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 2. 每个GeoPackage的SQLite配置</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setting</th>
<th class="tableblock halign-left valign-top">参数</th>
<th class="tableblock halign-left valign-top">应该 / 不应该</th>
<th class="tableblock halign-left valign-top">Discussion</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">compile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SQLITE_OMIT_*</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">不应该</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">不应该包括任何 <a href="http://www.sqlite.org/compile.html#omitfeatures">http://www.sqlite.org/compile.html#omitfeatures</a> 中的OMIT参数</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">run</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PRAGMA foreign_keys</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">不应该 (关闭)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">外键约束用来维持GeoPackage引用的完整性</p></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="sect3">
<h4 id="spatial_ref_sys">1.1.2. 空间参考系统</h4>
<div class="sect4">
<h5 id="__13">1.1.2.1. 数据</h5>
<div class="sect5">
<h6 id="spatial_ref_sys_data_table_definition">1.1.2.1.1. 表的定义</h6>
<div id="_requirement-10" class="quoteblock">
<div class="title">Requirement 10</div>
<blockquote>
GeoPackage应该包含一个<code>gpkg_spatial_ref_sys</code>表，<code>gpkg_spatial_ref_sys</code>表必须符合 1.1.2.1.1 <a href="#spatial_ref_sys_data_table_definition">表的定义</a>、表 <a href="#gpkg_spatial_ref_sys_cols">空间参考系统表的定义</a> 和表<a href="#gpkg_spatial_ref_sys_sql">gpkg_spatial_ref_sys Table Definition SQL</a>的规定。
</blockquote>
</div>
<div class="paragraph">
<p>表<code>gpkg_spatial_ref_sys</code>是标准SQL schema中描述简单要素（参见下面的<a href="#sfsql_intro">简单要素的SQL访问介绍</a> 条款）的第一个部分。它包含的坐标参考系定义被GeoPackage的<code>gpkg_contents</code> 和 <code>gpkg_geometry_columns</code>表引用，来将用户表中的矢量、瓦片数据与地球上的真实位置联系起来。</p>
</div>
<div class="paragraph">
<p><code>gpkg_geometry_columns</code>表包含了SQL/MM (ISO 13249-3) <a href="#12">[12]</a>中规定的最少列，如下面的表<a href="#gpkg_spatial_ref_sys_cols">空间参考系统表的定义</a> 所示，这些列包含了定义空间参考系所需的数据。
这个表的视图（Views）被用来使 <a href="http://www.iso.org/iso/home/store/catalogue_ics/catalogue_detail_ics.htm?csnumber=53698">SQL/MM</a> <a href="#12">[12]</a> (参见 表<a href="#sqlmm_gpkg_spatial_ref_sys_sql">SQL/MM View of gpkg_spatial_ref_sys Definition SQL (Informative)</a>)和OGC <a href="http://portal.opengeospatial.org/files/?artifact_id=25354">Simple Features SQL</a> <a href="#9">[9]</a><a href="#10">[10]</a><a href="#11">[11]</a> (Table 21) 规范保持兼容。</p>
</div>
<table id="gpkg_spatial_ref_sys_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 3. 空间参考系统表的定义</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column Name</th>
<th class="tableblock halign-left valign-top">Column Type</th>
<th class="tableblock halign-left valign-top">Column Description</th>
<th class="tableblock halign-left valign-top">Null</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>srs_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">空间参考系统（SRS）的名称</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>srs_id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoPackage中，SRS的唯一ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>organization</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">定义SRS的组织的名称（不区分大小写），例如EPSG 或 epsg</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>organization_coordsys_id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">由<code>organization</code>组织分配SRS数字ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>definition</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">描述SRS的Well-known Text（WKT） <a href="#32">[32]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SRS的描述</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>参见 <a href="#gpkg_spatial_ref_sys_sql">gpkg_spatial_ref_sys Table Definition SQL</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="__14">1.1.2.1.2. 表数据的取值</h6>
<div class="paragraph">
<p>表gpkg_spatial_ref_sys中，表示WKT值的列应该定义几何要素和栅格瓦片所使用的空间坐标系（SRS），当SRS未知时表示为 undefined（参见<a href="#_requirement-11">Requirement 11</a>）。WKT的值应该由<a href="#32">[32]</a> 条款7中指定的EBNF syntax构成，应该包含可选的&lt;authority&gt; EBNF entities，非WGS-84的WKT值应该包含可选的 &lt;to wgs84&gt; EBNF entities。WKT值可能会省略可选的 &lt;to wgs84&gt; 和 &lt;twin axes&gt;  EBNF entities。任何指定的&lt;authority&gt;中（比如<a href="#13">[13]</a><a href="#14">[14]</a>），都可能获取到EBNF的名称和数值。例如，通过<a href="#spatial_ref_sys_data_values_default">[spatial_ref_sys_data_values_default]</a>测试方法的第(3)步的返回值，就可以测试WGS-84的定义，WGS-84的定义参见<a href="#_requirement-11">Requirement 11</a>：</p>
</div>
<div id="_requirement-11" class="quoteblock">
<div class="title">Requirement 11</div>
<blockquote>
GeoPackage中的表<code>gpkg_spatial_ref_sys</code>应该包含至少3条记录，一条记录表示 <a href="http://www.google.com/search?as_q=WGS-84">WGS-84</a> <a href="#15">[15]</a>坐标系，该记录的organization为http://www.epsg.org/Geodetic.html[EPSG] 或 epsg <a href="#B3">[B3]</a>，<code>organization_coordsys_id</code> 为 <a href="http://www.epsg-registry.org/report.htm?type=selection&amp;entity=urn:ogc:def:crs:EPSG::4326&amp;reportDetail=long&amp;title=WGS%2084&amp;style=urn:uuid:report-style:default-with-code&amp;style_name=OGP%20Default%20With%20Code">4326</a> <a href="#13">[13]</a><a href="#14">[14]</a>；一条记录表示未定义的笛卡尔坐标系，该记录的<code>srs_id</code>值为-1，<code>organization</code>值为“NONE”，<code>organization_coordsys_id</code>值为-1，<code>definition</code>值为“undefined”；一条记录表示未定义的地理坐标系，该记录的<code>srs_id</code>值为0，<code>organization</code>值为“NONE”，<code>organization_coordsys_id</code>值为0，<code>definition</code>值为“undefined”
</blockquote>
</div>
<div id="_requirement-12" class="quoteblock">
<div class="title">Requirement 12</div>
<blockquote>
GeoPackage中的表<code>gpkg_spatial_ref_sys</code>应该包含Geopackage中的要素和瓦片用到的所有空间坐标系。
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__15">1.1.3. 内容</h4>
<div class="sect4">
<h5 id="__16">1.1.3.1. 数据</h5>
<div class="sect5">
<h6 id="__17">1.1.3.1.1. 表定义</h6>
<div id="_requirement-13" class="quoteblock">
<div class="title">Requirement 13</div>
<blockquote>
GeoPackage应该包含一个<code>gpkg_contents</code>表，<code>gpkg_contents</code>表必须符合表 <a href="#gpkg_contents_cols">内容表或视图的定义</a> 和表<a href="#gpkg_contents_sql">gpkg_contents Table Definition SQL</a>的规定。
</blockquote>
</div>
<div class="paragraph">
<p>Geopackage中的空间数据是可访问和（或）更新的，表<code>gpkg_contents</code>的目的就是提供具有可识别性和描述性的信息，以便于应用程序将这些数据以更直观简洁的方式在用户面前展示出来。</p>
</div>
<table id="gpkg_contents_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 4. 内容表或视图的定义</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">列名</th>
<th class="tableblock halign-left valign-top">类型</th>
<th class="tableblock halign-left valign-top">描述</th>
<th class="tableblock halign-left valign-top">Null</th>
<th class="tableblock halign-left valign-top">默认值</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">瓦片或要素表的名字</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>data_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">存储在表中的数据类型，“features”表示<a href="#features">[features]</a>类型，“tiles”表示<a href="#tiles">瓦片</a>类型，或是一个自定义值，表示扩展的Geopackage中其他类型的数据</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>identifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">table_name的内容标识符（如短名称）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">table_name的内容描述</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">“”</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>last_change</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATETIME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ISO 8601格式的时间戳，格式为<em>%Y-%m-%dT%H:%M:%fZ</em>，可通过strftime函数获取当前时间。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strftime('%Y-%m-%dT%H:%M:%fZ', 'now')</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>min_x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">table_name表中所有数据的边界框的最小 x 值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>min_y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">table_name表中所有数据的边界框的最小 y 值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max_x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">table_name表中所有数据的边界框的最大 x 值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max_y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">table_name表中所有数据的边界框的最大 y 值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>srs_id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">空间参考系ID：参见<code>gpkg_spatial_ref_sys.srs_id</code>; 当<code>data_type</code> 为features时,应该与<code>gpkg_geometry_columns.srs_id</code>匹配;当<code>data_type</code>为tiles时, 应该与<code>gpkg_tile_matrix_set.srs_id</code>匹配。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FK</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>表<code>gpkg_contents</code>的目的是提供GeoPackage文件中所有地理空间数据的列表。
<code>data_type</code>列指定了地理空间数据的类型。
Bounding box(<code>min_x</code>, <code>min_y</code>, <code>max_x</code>, <code>max_y</code>)提供了翔实的边界框（而不是必要的最小边界）。
当<code>srs_id</code>列的值表示的是地理坐标系（CRS）时，边界框的min/max x/y值的单位是度；当<code>srs_id</code>列的值表示的时投影坐标系（CRS）时，边界框的min/max x/y值的单位由该坐标系决定。</p>
</div>
<div class="paragraph">
<p>参见 <a href="#gpkg_contents_sql">gpkg_contents Table Definition SQL</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="__18">1.1.3.1.2. 表中数据值</h6>
<div id="_requirement-14" class="quoteblock">
<div class="title">Requirement 14</div>
<blockquote>
表<code>gpkg_contents</code>的<code>table_name</code>列的取值应该是一个SQLite表名或视图名。
</blockquote>
</div>
<div id="_requirement-15" class="quoteblock">
<div class="title">Requirement 15</div>
<blockquote>
表<code>gpkg_contents</code>的<code>last_change</code>列的取值应该符合 <a href="http://www.iso.org/iso/catalogue_detail?csnumber=40874">ISO 8601</a> <a href="#29">[29]</a> 规范，应该是一个包含UTC 小时, 分钟, 秒，以及秒的小数部分的完整的日期字符串，并应该带有‘Z’ (‘zulu’)后缀来标识时间为协调世界时（UTC）。<span class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnote_5" title="View footnote.">5</a>]</span>
</blockquote>
</div>
<div id="_requirement-16" class="quoteblock">
<div class="title">Requirement 16</div>
<blockquote>
表<code>gpkg_contents</code>的<code>srs_id</code>列的值应该与表<code>gpkg_spatial_ref_sys</code>的<code>srs_id</code>列的值对应。
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__19">2. 可选项</h2>
<div class="sectionbody">
<div class="paragraph">
<p>本章节中描述的可选要求都依赖于上述<a href="#_base">Base</a>章节中定义的必选要求。
本章节中的每个子条款都是能在GeoPackage中使用的独立功能模块。这些模块是可选的。
GeoPackage中可以使用一个或多个本章节中定义的可选模块，没有被使用的可选表可以忽略。
但GeoPackage文件中至少要包含一个要素数据表或瓦片数据表，它们各自要符合<a href="#features">[features]</a>和<a href="#tiles">瓦片</a>的定义。</p>
</div>
<div id="_requirement-17" class="quoteblock">
<div class="title">Requirement 17</div>
<blockquote>
A GeoPackage SHALL contain features per clause <a href="#features">[features]</a> and/or tiles per clause <a href="#tiles">瓦片</a> and row(s) in the <code>gpkg_contents</code> table with lowercase <code>data_type</code> column values of “features” and/or “tiles” describing the user data tables.
GeoPackage应该包含由<a href="#features">[features]</a>定义的要素和（或）由<a href="#tiles">瓦片</a>定义的瓦片，并且在<code>gpkg_contents</code>表中，小写<code>data_type</code>的列的值应该包含“features”和（或）“tiles”，表示数据表为要素数据表或瓦片数据表。
</blockquote>
</div>
<div class="sect2">
<h3 id="__20">2.1. 要素</h3>
<div class="sect3">
<h4 id="sfsql_intro">2.1.1. 简单要素的SQL访问介绍</h4>
<div class="paragraph">
<p>矢量要素数据表达具有地理位置信息的地物，包括类似行政区划的概念对象，诸如道路、河流的现实对象，以及它们包含的具体信息。
在通过关系型数据库的SQL语句存储、访问和使用地理空间要素/几何对象方面，已经有许多国际标准<a href="#9">[9]</a><a href="#10">[10]</a><a href="#11">[11]</a><a href="#12">[12]</a> 。
在GeoPackage文件中，表<code>gpkg_spatial_ref_sys</code>是SQL schema中描述矢量要素的第一个部分，参见<a href="#spatial_ref_sys">空间参考系统</a>一节。
SQL schema中描述矢量要素的其他部分定义如下。</p>
</div>
<div class="paragraph">
<p>GeoPackage中，“简单”要素是通过 SQL/MM (ISO 13249-3) <a href="#12">[12]</a>几何模型中的线性几何子集来表达的，如下图 <a href="#core_geometry_model_figure">核心几何模型</a> 所示。</p>
</div>
<div id="core_geometry_model_figure" class="imageblock">
<div class="content">
<img src="core-geometry-model.png" alt="Core geometry model">
</div>
<div class="title">Figure 2. 核心几何模型</div>
</div>
<div class="paragraph">
<p>这个标准对具体的（非抽象的）几何对象类型做了限制，必须为2，3或4维坐标空间（R2，R3和R4）中的0，1或2维二维对象。
R2中的几何对象的点拥有x和y坐标。
R3中的几何对象的点拥有x、y、z坐标，或x、y、m坐标。
R4中的几何对象的点拥有x、y、z和m坐标。
真实坐标由点所属的坐标系决定。
几何对象中的所有点应该属于同一个坐标系。</p>
</div>
<div class="paragraph">
<p>几何要素可包括z坐标值。Z表示传统上的第三个维度（例如，3D）。
在地理信息系统（GIS）中，通常是指海拔高度。
例如，在地图中可以使用x、y值来表示一座山峰在地球上的位置，使用z值来表示这座山峰的高度。</p>
</div>
<div class="paragraph">
<p>几何要素可包括m坐标值。
m值在实际应用中，表示与参考点的距离。
例如，一个水系网可以被表示为具有m坐标的多线性值，m值表示当前位置距水源头的距离。</p>
</div>
<div class="paragraph">
<p>根据本标准中几何类型的定义，所有的几何对象都必须是拓扑闭合的，
例如，所有的几何对象都有拓扑边界，边界用点集合表示。这并不影响它们的表达，
在其他应用场景下（例如拓扑展现），可以使用同样类型的开放版本。</p>
</div>
<div class="paragraph">
<p>每种几何类型的简要说明如下，更详细的说明可在更详细的说明可参见ISO 13249-3 <a href="#12">[12]</a>。</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Geometry:  几何类型继承关系的根。</p>
</li>
<li>
<p>Point:在空间中的一个位置。每个点都有一个X和Y坐标。点可以选择包含一个Z和/或M值。</p>
</li>
<li>
<p>Curve:所有1维几何类型的基本类型。1维几何要素是有长度但没有面积的几何要素。
Curve如果不与自身相交（在起点和终点除外），则认为它是简单曲线。
当曲线的起点和终点重合，则认为它是闭合曲线。
一个简单、闭合的curve（曲线）被称为环（ring）。</p>
</li>
<li>
<p>LineString: 在空间连接两个或多个点的曲线。</p>
</li>
<li>
<p>Surface: 面，所有2维几何类型的基本类型，2维几何类型是一种具有面积的几何类型。</p>
</li>
<li>
<p>CurvePolygon:由一个外环和零个或多个内环所组成的平面。每个环都是曲线（Curve）类型的。</p>
</li>
<li>
<p>Polygon: 当CurvePolygon中的每个环都是简单、闭合的LineString类型时，它被称为Polygon。</p>
</li>
<li>
<p>GeometryCollection: 零个或多个几何对象的集合。</p>
</li>
<li>
<p>MultiSurface: GeometryCollection中的每个几何对象都是Surface类型时，它被称为MultiSurface。</p>
</li>
<li>
<p>MultiPolygon: GeometryCollection中的每个几何对象都是Polygon类型时，它被称为MultiPolygon。</p>
</li>
<li>
<p>MultiCurve: GeometryCollection中的每个几何对象都是Curve类型时，它被称为MultiCurve。</p>
</li>
<li>
<p>MultiLineString: GeometryCollection中的每个几何对象都是LineString类型时，它被称为MultiLineString。</p>
</li>
<li>
<p>MultiPoint: GeometryCollection中的每个几何对象都是Point类型时，它被称为MultiPoint。</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="__21">2.1.2. 内容</h4>
<div class="sect4">
<h5 id="__22">2.1.2.1. 数据</h5>
<div class="sect5">
<h6 id="__23">2.1.2.1.1. 表内容 – 要素行</h6>
<div id="_requirement-18" class="quoteblock">
<div class="title">Requirement 18</div>
<blockquote>
用户数据表或视图中的每个矢量要素都应该包括值为小写“features”的列。
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gpb_format">2.1.3. 几何编码</h4>
<div class="sect4">
<h5 id="__24">2.1.3.1. 数据</h5>
<div class="sect5">
<h6 id="gpb_data_blob_format">2.1.3.1.1. BLOB 格式</h6>
<div id="_requirement-19" class="quoteblock">
<div class="title">Requirement 19</div>
<blockquote>
GeoPackage必须要在所有要素表中以SQL BLOBS 存储几何要素，这些几何要素可以有或没有可选的海拔（Z）和/或测量（M）的值，
SQL BLOBS使用的是表<a href="#gpb_spec">GeoPackage SQL Geometry Binary Format</a>和条款<a href="#gpb_data_blob_format">BLOB 格式</a>中指定的StandardGeoPackageBinary格式。
</blockquote>
</div>
<div id="gpb_spec" class="listingblock">
<div class="title">GeoPackage SQL Geometry Binary Format</div>
<div class="content">
<pre>GeoPackageBinaryHeader {
  byte[2] magic = 0x4750; <i class="conum" data-value="1"></i><b>(1)</b>
  byte version;           <i class="conum" data-value="2"></i><b>(2)</b>
  byte flags;             <i class="conum" data-value="3"></i><b>(3)</b>
  int32 srs_id;
  double[] envelope;      <i class="conum" data-value="4"></i><b>(4)</b>
}

StandardGeoPackageBinary {
  GeoPackageBinaryHeader header; <i class="conum" data-value="5"></i><b>(5)</b>
  WKBGeometry geometry;          <i class="conum" data-value="6"></i><b>(6)</b>
}</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><em>GP</em> in ASCII</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>8-bit无符号整数, 0 = version 1</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>参见 <a href="#flags_layout">bit layout of GeoPackageBinary flags byte</a></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>参见下面的最小外接矩阵标识码说明</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The X bit in the header flags field must be set to 0.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>参见 ISO 13249-3 <a href="#12">[12]</a> 的 5.1.46 章节 <span class="footnote">[<a id="_footnoteref_6" class="footnote" href="#_footnote_6" title="View footnote.">6</a>]</span><span class="footnote">[<a id="_footnoteref_7" class="footnote" href="#_footnote_7" title="View footnote.">7</a>]</span><span class="footnote">[<a id="_footnoteref_8" class="footnote" href="#_footnote_8" title="View footnote.">8</a>]</span></td>
</tr>
</table>
</div>
<table id="flags_layout" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 5. bit layout of GeoPackageBinary flags byte</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">bit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>flag bits use:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>R: 保留位，供将来使用;设置为0</p>
</li>
<li>
<p>X: GeoPackageBinary 类型</p>
<div class="ulist">
<ul>
<li>
<p>0: StandardGeoPackageBinary. 参见下面章节</p>
</li>
<li>
<p>1: ExtendedGeoPackageBinary. 参见 <a href="#extension_geometry_encoding">User-Defined Geometry Types Encoding Extension Template (Normative)</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Y: 几何对象是否为空的标识</p>
<div class="ulist">
<ul>
<li>
<p>0: 非空几何对象</p>
</li>
<li>
<p>1: 空的几何对象</p>
</li>
</ul>
</div>
</li>
<li>
<p>E: 最小外接矩形的标识码 (3-bit无符号整数)</p>
<div class="ulist">
<ul>
<li>
<p>0: 没有外接矩形 (space saving slower indexing option), 0 bytes</p>
</li>
<li>
<p>1: 外接矩形用[minx, maxx, miny, maxy]表示, 32 bytes</p>
</li>
<li>
<p>2: 外接矩形用[minx, maxx, miny, maxy, minz, maxz]表示, 48 bytes</p>
</li>
<li>
<p>3: 外接矩形用[minx, maxx, miny, maxy, minm, maxm]表示, 48 bytes</p>
</li>
<li>
<p>4: 外接矩形用[minx, maxx, miny, maxy, minz, maxz, minm, maxm]表示, 64 bytes</p>
</li>
<li>
<p>5-7: 非法</p>
</li>
</ul>
</div>
</li>
<li>
<p>B: header值的字节顺序(1-bit Boolean)</p>
<div class="ulist">
<ul>
<li>
<p>0: 高字节序 (高位字节排放在前面)</p>
</li>
<li>
<p>1: 低字节序 (低位字节排放在前面)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>ISO 13249-3 <a href="#12">[12]</a>中定义的WKB（well-known binary）并没有为空的点集提供标准编码（例如，WKT(Well-known text)中的空点）。在GeoPackage中，这些点应该被表示为IEEE-754标准的沉寂NaN（quite NaN）值，GeoPackage应使用高字节序0x7ff8000000000000或低字节序0x000000000000f87f来为NaN值进行二进制编码。</p>
</div>
<div class="paragraph">
<p>当GeoPackage中的WKBGeometry的二进制值为空时，要么最小外接矩形的内容标识符为0，代表没有最小外接矩形，要么最小外接矩形的值为NaN，表示空点。</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sql_geometry_types">2.1.4. SQL几何类型</h4>
<div class="sect4">
<h5 id="__25">2.1.4.1. 数据</h5>
<div class="sect5">
<h6 id="__26">2.1.4.1.1. 核心类型</h6>
<div id="_requirement-20" class="quoteblock">
<div class="title">Requirement 20</div>
<blockquote>
GeoPackage要素表中存储的几何对象，类型应该是表<a href="#geometry_types">Geometry Types (Normative)</a>、<a href="#geometry_types_core">Geometry Type Codes (Core)</a>中基本类型（Geometry, Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, GeomCollection），应该使用GeoPackageBinary几何编码格式进行二进制编码。
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__27">2.1.5. 几何要素列</h4>
<div class="sect4">
<h5 id="__28">2.1.5.1. 数据</h5>
<div class="sect5">
<h6 id="__29">2.1.5.1.1. 表定义</h6>
<div id="_requirement-21" class="quoteblock">
<div class="title">Requirement 21</div>
<blockquote>
在GeoPackage中，如果表<code>gpkg_contents</code>的<code>data_type</code>列有“feature”值，那么也应该存在一个名为<code>gpkg_geometry_columns</code>的表或可更新视图，有关<code>gpkg_geometry_columns</code>表的说明参见 <a href="#gpkg_geometry_columns_cols">Geometry Columns Table or View Definition</a> 和 <a href="#gpkg_geometry_columns_sql">gpkg_geometry_columns Table Definition SQL</a>。
</blockquote>
</div>
<div class="paragraph">
<p>表<code>gpkg_geometry_columns</code>是对应GeoPackage矢量要素的SQL schema的第二个部分（component），该表用于标识存储要素数据的表中，哪一列存储的是几何对象。</p>
</div>
<table id="gpkg_geometry_columns_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 6. Geometry Columns Table or View Definition</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">包含几何对象的表名</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK, FK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>column_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">表中存储几何对象的列名</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>geometry_type_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">取值参见附录<a href="#geometry_types">Geometry Types (Normative)</a>中的表 <a href="#geometry_types_core">Geometry Type Codes (Core)</a> 或表 <a href="#geometry_types_extension">Geometry Type Codes (Extension)</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>srs_id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">空间参考系统 ID: <code>gpkg_spatial_ref_sys.srs_id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>z</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TINYINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0：禁止z值; 1：z值必须有; 2：z值可选</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>m</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TINYINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0：禁止m值; 1：m值必须有; 2：m值可选</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>表<code>gpkg_geometry_columns</code>中的<code>srs_id</code>作为外键（FK）与表<code>gpkg_spatial_ref_sys</code>的主键<code>srs_id</code>关联，确保了要素表中的几何对象都属于指定的坐标系。</p>
</div>
<div class="paragraph">
<p>上述表（或视图）的视图（Views）可以使SQL/MM<a href="#12">[12]</a> <a href="#sqlmm_gpkg_geometry_columns_sql">SQL/MM View of gpkg_geometry_columns Definition SQL (Informative)</a>标准兼容OGC Simple Features SQL <a href="#9">[9]</a><a href="#10">[10]</a><a href="#11">[11]</a> <a href="#sfsql_gpkg_geometry_columns_sql">SF/SQL VIEW of gpkg_geometry_columns Definition SQL (Informative)</a>标准。</p>
</div>
<div class="paragraph">
<p>参见 <a href="#gpkg_geometry_columns_sql">gpkg_geometry_columns Table Definition SQL</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="__30">2.1.5.1.2. 表数据值</h6>
<div id="_requirement-22" class="quoteblock">
<div class="title">Requirement 22</div>
<blockquote>
在GeoPackage中，针对每个矢量要素表（<a href="#feature_user_tables">矢量要素用户数据表</a>节），<code>gpkg_geometry_columns</code>表（或可更新视图）都应该包含一行记录来标识该矢量要素表的哪一列存储的是几何对象。
</blockquote>
</div>
<div id="_requirement-23" class="quoteblock">
<div class="title">Requirement 23</div>
<blockquote>
表<code>gpkg_geometry_columns</code> 中<code>table_name</code> 列的值必须与表<code>gpkg_contents</code> 中<code>table_name</code>列值为<em>features</em>的记录的<code>table_name</code>值一一对应。
</blockquote>
</div>
<div id="_requirement-24" class="quoteblock">
<div class="title">Requirement 24</div>
<blockquote>
表<code>gpkg_geometry_columns</code>中某条记录的<code>column_name</code>列值，必须是该条记录中<code>table_name</code>列所对应的表或视图中的一个列名。
</blockquote>
</div>
<div id="_requirement-25" class="quoteblock">
<div class="title">Requirement 25</div>
<blockquote>
表<code>gpkg_geometry_columns</code>中<code>geometry_type_name</code>列的值必须是附录 <a href="#geometry_types">Geometry Types (Normative)</a> 中大写的几何类型名字之一。
</blockquote>
</div>
<div id="_requirement-26" class="quoteblock">
<div class="title">Requirement 26</div>
<blockquote>
表<code>gpkg_geometry_columns</code>中<code>srs_id</code>列的值必须能在表<code>gpkg_spatial_ref_sys</code>的<code>srs_id</code>列中找到。
</blockquote>
</div>
<div id="_requirement-27" class="quoteblock">
<div class="title">Requirement 27</div>
<blockquote>
表<code>gpkg_geometry_columns</code>中的z值必须是0, 1或2。
</blockquote>
</div>
<div id="_requirement-28" class="quoteblock">
<div class="title">Requirement 28</div>
<blockquote>
表<code>gpkg_geometry_columns</code>中的m值必须是0, 1或2。
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="feature_user_tables">2.1.6. 矢量要素用户数据表</h4>
<div class="sect4">
<h5 id="__31">2.1.6.1. 数据</h5>
<div class="sect5">
<h6 id="__32">2.1.6.1.1. 表定义</h6>
<div class="paragraph">
<p>在GeoPackage文件中，上面的<a href="#sfsql_intro">简单要素的SQL访问介绍</a>章节描述的是SQL schema中描述矢量要素的第三个部分。
包括几何对象在内的要素属性，在要素表中对应的是列。
要素记录在要素表中对应的是行。<span class="footnote">[<a id="_footnoteref_9" class="footnote" href="#_footnote_9" title="View footnote.">9</a>]</span></p>
</div>
<div id="requirement_feature_integer_pk" class="quoteblock">
<div class="title">Requirement 29</div>
<blockquote>
GeoPackage可以有包含有矢量要素的表或可更新的视图。
在GeoPackage中，每个这样的要素表或视图都必须有一个INTEGER类型的列，该列的约束必须是<em>PRIMARY KEY AUTOINCREMENT</em>，
参见 <a href="#example_feature_table_cols">EXAMPLE : Sample Feature Table or View Definition</a>和<a href="#example_feature_table_sql">sample_feature_table Table Definition SQL (Informative)</a> 。
</blockquote>
</div>
<div class="paragraph">
<p>通过表<code>gpkg_metadata_reference</code>（参见<a href="#_metadata_reference_table">Metadata Reference Table</a>）中的rowid <a href="#B5">[B5]</a> 值，要素表的integer主键可以将要素与表<code>gpkg_metadata</code>中的元数据记录关联起来。</p>
</div>
<div id="_requirement-30" class="quoteblock">
<div class="title">Requirement 30</div>
<blockquote>
要素表有且仅有一个几何要素列。
</blockquote>
</div>
<div class="paragraph">
<p>非GeoPackage标准的要素数据模型中，每个要素表中可能包含多个几何对象列，这种要素表可以按几何对象类型转换为多个独立的符合GeoPackage标准的要素表，这些独立的要素表可通过interger类型的主键值可以构成一个整体视图，这个整体视图与原有的非GeoPackage标准的要素数据模型拥有同样的列定义。</p>
</div>
<table id="example_feature_table_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 7. EXAMPLE : Sample Feature Table or View Definition</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Null</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">自动增量主键</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>geometry</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GEOMETRY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeoPackage Geometry 符合GeoPackage规范的几何要素</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>text_attribute</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">要素的文本属性</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>real_attribute</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REAL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">要素的Real属性</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>boolean_attribute</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOOLEAN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">要素的布尔属性</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>raster_or_photo</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLOB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">区域图片</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>参见 <a href="#example_feature_table_sql">sample_feature_table Table Definition SQL (Informative)</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="__33">2.1.6.1.2. 表数据值</h6>
<div class="paragraph">
<p>几何要素存储在几何对象列中，几何对象列由表<code>gpkg_geometry_columns</code>中的<code>geometry_column</code>列值指定，列值为<code>geometry_column</code>列值的小写形式。表<code>gpkg_geometry_columns</code>的定义参见<a href="#_geometry_columns">Geometry Columns</a>。</p>
</div>
<div class="paragraph">
<p>由表<code>gpkg_geometry_columns</code>的<code>geometry_type_name</code>标识的几何要素类型必须是 <a href="#geometry_types">Geometry Types (Normative)</a>中的其中一个 。</p>
</div>
<div id="_requirement-31" class="quoteblock">
<div class="title">Requirement 31</div>
<blockquote>
要素表中的几何对象类型由表<code>gpkg_geometry_columns</code>的<code>geometry_type_name</code>列确定，为该列值的大写形式，要素表的几何对象列应该存储该类型的几何对象<span class="footnote">[<a id="_footnoteref_10" class="footnote" href="#_footnote_10" title="View footnote.">10</a>]</span>。
</blockquote>
</div>
<div class="paragraph">
<p><a href="#geometry_types">Geometry Types (Normative)</a>中的几何对象都是可继承的，在<a href="#core_geometry_model_figure">核心几何模型</a>中展示了部分继承关系。
例如：如果表<code>gpkg_geometry_columns</code>中列<code>geometry_type_name</code>表示的几何类型没有子类型，如POINT，那么对应的要素表中的几何对象可能只有该类型一种。
如果表<code>gpkg_geometry_columns</code>中列<code>geometry_type_name</code>表示的几何类型有子类型，如GEOMCOLLECTION，那么对应的要素表中的几何对象，可能只有该类型一种，也可能是该类型的直接或间接子类型等多种。
如果<code>geometry_type_name</code>是GEOMETRY （几何类型继承关系的根），那么对应的要素表中的几何对象，可能是任意几何类型。</p>
</div>
<div class="paragraph">
<p>几何要素包不包含可选的高程（Z）和/或测量（M）值，不会改变它的类型或类型的继承关系。</p>
</div>
<div class="paragraph">
<p>几何对象列的空间参考系类型是由表<code>gpkg_geometry_columns</code>中的<code>srs_id</code>标识的，值为表<code>gpkg_spatial_ref_sys</code>的<code>srs_id</code>列的其中一个值。</p>
</div>
<div id="_requirement-32" class="quoteblock">
<div class="title">Requirement 32</div>
<blockquote>
要素表中几何对象的空间参考系，必须与表<code>gpkg_geometry_columns</code>中<code>srs_id</code>值保持一致。
</blockquote>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tiles">2.2. 瓦片</h3>
<div class="sect3">
<h4 id="__34">2.2.1. 瓦片矩阵介绍</h4>
<div class="paragraph">
<p>有关存储、索引、访问和描述金子塔中瓦片的商业和开源规则多种多样，然而，很不幸，在这个领域并没有形成标准的约定、国家标准或国际标准。
此外，不同的影像文件格式有不同的表述特性，也各自包含不同的自描述元数据。</p>
</div>
<div class="paragraph">
<p>瓦片数据/元数据存储模型和约定从两个方面直接支撑GeoPackage文件中瓦片的使用。首先，现有应用中的数据表可能遵循的是其他接口约定，它们描述了如何在这些数据表的最顶层创建数据/元数据模型的SQL视图；其次，它们在数据集和记录的级别包含和暴露了大量元数据信息，从而允许应用程序在不解析所有影像的情况下，利用GeoPackage数据挖掘数据细节。</p>
</div>
<div class="paragraph">
<p>GeoPackage瓦片存储模型可以直接通过SQLite数据库中的SQL表实现，这种方法性能最高；也可以通过在已有SQLite瓦片存储中的数据表顶层，通过SQL视图实现，这种方法具有高适应性和低耦合的特征，更有利于标准的传播。</p>
</div>
<div class="paragraph">
<p>同一个容器中，GeoPackage可以在不通的数据表或视图中存储多个栅格和瓦片金字塔数据集。
<span class="footnote">[<a id="_footnoteref_11" class="footnote" href="#_footnote_11" title="View footnote.">11</a>]</span>
“Tile pyramid（瓦片金字塔）” 指的是在不同缩放级别下，瓦片表示的是不同空间范围、具备不同分辨率，这种金字塔形结构的概念，以及瓦片数据本身。
“Tile matrix（瓦片矩阵）” 指的是在指定的缩放级别下，瓦片组成的行和列。这些瓦片在同一缩放级别下表示相同的空间范围、具备相同的分辨率 。
“Tile matrix set（瓦片矩阵集合）”指的是瓦片金字塔层次结构的定义。</p>
</div>
<div class="paragraph">
<p>实现瓦片数据/元数据存储模型的表或视图，会在接下来的子章节中分别阐述和探讨。</p>
</div>
</div>
<div class="sect3">
<h4 id="__35">2.2.2. 内容</h4>
<div class="sect4">
<h5 id="__36">2.2.2.1. 数据</h5>
<div class="sect5">
<h6 id="__37">2.2.2.1.1. 内容表 – 瓦片列</h6>
<div id="_requirement-33" class="quoteblock">
<div class="title">Requirement 33</div>
<blockquote>
 <code>gpkg_contents</code> 表必须对于每个瓦片金字塔用户数据表或视图 都对应包含一条记录， 这条记录中要包含 名为<code>data_type</code> 列，且列值为 “tiles”.
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="zoom_levels">2.2.3. Zoom Levels</h4>
<div class="paragraph">
<p>在GeoPackage中,瓦片矩阵集中有不同级别的瓦片矩阵图层， 缩放级别是指与瓦片矩阵图层相对应的从0到n的有序整形数字，用于标识不同的瓦片矩阵图层。随着缩放级别的递增，每个瓦片所代表的实际空间范围会变小，空间分辨率却会越高，图像也会更加清晰。
相邻缩放级别间递增或递减，值相差1。像素大小是一个真实数字，单位为瓦片图像空间参考系的地形单位，这个真实数字规定了一个像素所代表的现实世界区域大小。
在一个瓦片矩阵集中，影响某些或所有相邻的缩放级别之间像素大小的因素包括：固定倍率、不同倍率或倍率间隔数。
在使用最普遍的“两倍缩放（zoom times two）”惯例中，所有相邻缩放级别的像素大小相差2倍，如下面<a href="#tiles_factor2_example_appendix">Tiles Zoom Times Two Example (Informative)</a> 中所展示的那样。
“多倍缩放（ zoom other intervals ）”惯例中，使用不同的倍率或不规则间隔得到的像素大小，是为了栅格数据直观的图像显示或为了与全球通用的图像产品的原始坐标大小保持一致 。
参见 WMTS <a href="#16">[16]</a> Annex E，这是两种惯例的另外示例 。</p>
</div>
<div class="sect4">
<h5 id="__38">2.2.3.1. 数据</h5>
<div class="sect5">
<h6 id="__39">2.2.3.1.1. 两倍缩放</h6>
<div id="_requirement-34" class="quoteblock">
<div class="title">Requirement 34</div>
<blockquote>
在一个有瓦片金字塔的GeoPackage中，默认情况下<span class="footnote">[<a id="_footnoteref_12" class="footnote" href="#_footnote_12" title="View footnote.">12</a>]</span>，瓦片矩阵表中相邻缩放级别的像素大小相差2倍。
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tile_enc_png">2.2.4. Tile Encoding PNG</h4>
<div class="sect4">
<h5 id="__40">2.2.4.1. 数据</h5>
<div class="sect5">
<h6 id="_mime_type_png">2.2.4.1.1. MIME Type PNG</h6>
<div id="_requirement-35" class="quoteblock">
<div class="title">Requirement 35</div>
<blockquote>
在GeoPackage中，瓦片金字塔数据表中的瓦片数据如果不是 <a href="http://www.ietf.org/rfc/rfc2046.txt">MIME type</a> <a href="http://www.jpeg.org/public/jfif.pdf">image/jpeg</a> <a href="#17">[17]</a><a href="#18">[18]</a><a href="#19">[19]</a>类型，那么默认就是 <a href="http://www.iana.org/assignments/media-types/index.html">MIME type</a> <a href="http://libpng.org/pub/png/">image/png</a> <a href="#20">[20]</a><a href="#21">[21]</a>类型。<span class="footnote">[<a id="_footnoteref_13" class="footnote" href="#_footnote_13" title="View footnote.">13</a>]</span>
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tile_enc_jpeg">2.2.5. Tile Encoding JPEG</h4>
<div class="sect4">
<h5 id="__41">2.2.5.1. 数据</h5>
<div class="sect5">
<h6 id="_mime_type_jpeg">2.2.5.1.1. MIME Type JPEG</h6>
<div id="_requirement-36" class="quoteblock">
<div class="title">Requirement 36</div>
<blockquote>
在GeoPackage中，瓦片金字塔数据表中的瓦片数据如果不是 <a href="http://www.iana.org/assignments/media-types/index.html">MIME type</a> <a href="http://libpng.org/pub/png/">image/png</a> <a href="#20">[20]</a><a href="#21">[21]</a>类型，那么默认就是 <a href="http://www.ietf.org/rfc/rfc2046.txt">MIME type</a> <a href="http://www.jpeg.org/public/jfif.pdf">image/jpeg</a> <a href="#17">[17]</a><a href="#18">[18]</a><a href="#19">[19]</a>类型。<span class="footnote">[<a id="_footnoteref_14" class="footnote" href="#_footnote_14" title="View footnote.">14</a>]</span>
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__42">2.2.6. 瓦片矩阵集合</h4>
<div class="sect4">
<h5 id="__43">2.2.6.1. 数据</h5>
<div class="sect5">
<h6 id="tile_matrix_set_data_table_definition">2.2.6.1.1. 表定义</h6>
<div id="_requirement-37" class="quoteblock">
<div class="title">Requirement 37</div>
<blockquote>
包含瓦片金字塔数据表的Geopackage文件，必须有一个<code>gpkg_tile_matrix_set</code>表或视图，<code>gpkg_tile_matrix_set</code>表或视图需要符合<a href="#tile_matrix_set_data_table_definition">表定义</a>章节、表<a href="#gpkg_tile_matrix_set_cols">瓦片矩阵集合的表或视图定义</a> 和表<a href="#gpkg_tile_matrix_set_sql">gpkg_tile_matrix_set Table Creation SQL</a>的规定。
</blockquote>
</div>
<table id="gpkg_tile_matrix_set_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 8. 瓦片矩阵集合的表或视图定义</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column Name</th>
<th class="tableblock halign-left valign-top">Column Type</th>
<th class="tableblock halign-left valign-top">Column Description</th>
<th class="tableblock halign-left valign-top">Null</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">瓦片金字塔数据表名</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK, FK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>srs_id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">空间参考系ID: gpkg_spatial_ref_sys.srs_id</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>min_x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">table_name表中所有数据的边界框的最小 x 值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>min_y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">table_name表中所有数据的边界框的最小 y 值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max_x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">table_name表中所有数据的边界框的最大 x 值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max_y</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">table_name表中所有数据的边界框的最大 y 值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>表gpkg_tile_matrix_set（或可更新视图）为瓦片金字塔数据表中的所有瓦片定义了最小的边界框(min_x, min_y, max_x, max_y)，以及空间参考系(srs_id)。</p>
</div>
<div class="paragraph">
<p>参见 <a href="#gpkg_tile_matrix_set_sql">gpkg_tile_matrix_set Table Creation SQL</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="clause_tile_matrix_set_table_data_values">2.2.6.1.2. 表数据值</h6>
<div class="paragraph">
<p>瓦片金字塔数据表对应的表gpkg_tile_matrix_set（或可更新视图）定义的最小边界框必须是精确的。这样以来，根据表 gpkg_tile_matrix table 或视图中的数据表中的瓦片行列号，瓦片金字塔中独立瓦片的边界框坐标可以计算出来。
例如，因为Geopackage遵循左上角瓦片作为坐标原点的约定（参见<a href="#clause_tile_matrix_table_data_values">表数据的取值</a>），所以，在表gpkg_tile_matrix_set的table_name列对应的瓦片金字塔数据表中，无论哪个缩放级别，(min_x, max_y)位置一定是的瓦片(0,0)的左上角坐标。</p>
</div>
<div id="_requirement-38" class="quoteblock">
<div class="title">Requirement 38</div>
<blockquote>
<code>gpkg_tile_matrix_set</code> 的 <code>table_name</code>列的值必须与表<code>gpkg_contents</code>中数据类型为"tiles"的记录的<code>table_name</code>列值一一对应。
</blockquote>
</div>
<div id="_requirement-39" class="quoteblock">
<div class="title">Requirement 39</div>
<blockquote>
针对每个瓦片金字塔数据表，gpkg_tile_matrix_set表或视图都必须包含一条记录。
</blockquote>
</div>
<div id="_requirement-40" class="quoteblock">
<div class="title">Requirement 40</div>
<blockquote>
<code>gpkg_tile_matrix_set</code>的<code>srs_id</code> 列的值必须与<code>gpkg_spatial_ref_sys</code>的<code>srs_id</code>列值一一对应。
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tile_matrix">2.2.7. 瓦片矩阵</h4>
<div class="sect4">
<h5 id="__44">2.2.7.1. 数据</h5>
<div class="sect5">
<h6 id="tile_matrix_data_table_definition">2.2.7.1.1. 表的定义</h6>
<div id="_requirement-41" class="quoteblock">
<div class="title">Requirement 41</div>
<blockquote>
包含瓦片金字塔数据表的GeoPackage，应包含一个<code>gpkg_tile_matrix</code>表或视图，<code>gpkg_tile_matrix</code>表或视图要符合2.2.7.1.1 <a href="#tile_matrix_data_table_definition">表的定义</a>、表<a href="#gpkg_tile_matrix_cols">瓦片矩阵元数据表或视图的定义</a>以及表 <a href="#gpkg_tile_matrix_sql">gpkg_tile_matrix Table Creation SQL</a>的规定。
</blockquote>
</div>
<table id="gpkg_tile_matrix_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 9. 瓦片矩阵元数据表或视图的定义</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column Name</th>
<th class="tableblock halign-left valign-top">Column Type</th>
<th class="tableblock halign-left valign-top">Column Description</th>
<th class="tableblock halign-left valign-top">Null</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">瓦片金字塔用户数据表的表名</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK, FK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zoom_level</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 &#8656; <code>zoom_level</code> &#8656; max_level for <code>table_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>matrix_width</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在当前缩放级别下，瓦片矩阵的列数。（&gt;=1）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>matrix_height</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在当前缩放级别下，瓦片矩阵的行数。（&gt;=1）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tile_width</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在当前缩放级别下，瓦片的宽度（以像素为单位）。（&gt;=1）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tile_height</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">在当前缩放级别下，瓦片的高度（以像素为单位。（&gt;=1）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pixel_x_size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">以t_table_name 的srid单位表示，默认单位是米（srid为0时）。（&gt;=0）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>pixel_y_size</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DOUBLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">以t_table_name 的srid单位表示，默认单位是米（srid为0时）。（&gt;=0）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><code>gpkg_tile_matrix</code>表或可更新的视图记录了每个tiles表中每个缩放级别下的tile matrix的结构。GeoPackage不仅允许包含正方形的瓦片，也允许包含长方形的瓦片（例如，为了更好的表达两极地区）。瓦片金字塔允许有这样的缩放级别：相邻级别分辨率相差2倍、相邻级别分辨率变化不规律、或者相邻级别分辨率变化虽然规律，但不是相差2倍。</p>
</div>
<div class="paragraph">
<p>See <a href="#gpkg_tile_matrix_sql">gpkg_tile_matrix Table Creation SQL</a></p>
</div>
</div>
<div class="sect5">
<h6 id="clause_tile_matrix_table_data_values">2.2.7.1.2. 表数据的取值</h6>
<div id="_requirement-42" class="quoteblock">
<div class="title">Requirement 42</div>
<blockquote>
<code>gpkg_tile_matrix</code>表中的 <code>table_name</code> 列的值，应该与<code>gpkg_contents</code>表中，<code>data_type</code>值为“tiles”的行的table_name值一一对应。
</blockquote>
</div>
<div id="_requirement-43" class="quoteblock">
<div class="title">Requirement 43</div>
<blockquote>
<code>gpkg_tile_matrix</code>表或视图应该针对每一个缩放级别包含一行记录，该行记录对应的瓦片金字塔数据或视图应该包含一个或多个瓦片。
</blockquote>
</div>
<div class="paragraph">
<p>在瓦片金字塔数据表中，缩放级别中没有瓦片时，<code>gpkg_tile_matrix</code>表或视图中也可以有对应的记录行。</p>
</div>
<div class="paragraph">
<p>GeoPackages 遵循最常用的惯例，如 <a href="http://portal.opengeospatial.org/files/?artifact_id=35326">WMTS</a> <a href="#16">[16]</a>所指定，瓦片的原点在左上，缩放到“whole world”级别 下对应的比例尺是最小比例尺，对应的缩放级别为 0 级 <span class="footnote">[<a id="_footnoteref_15" class="footnote" href="#_footnote_15" title="View footnote.">15</a>]</span>。
瓦片坐标（0,0）通常指在任何缩放级别下 tile matrix的左上角，该左上角的瓦片可以不是实际存在的。</p>
</div>
<div id="_requirement-44" class="quoteblock">
<div class="title">Requirement 44</div>
<blockquote>
<code>gpkg_tile_matrix</code>表中<code>zoom_level</code>这一列的值不能为负值
</blockquote>
</div>
<div id="_requirement-45" class="quoteblock">
<div class="title">Requirement 45</div>
<blockquote>
<code>gpkg_tile_matrix</code>表中<code>matrix_width</code>这一列的值必须大于0
</blockquote>
</div>
<div id="_requirement-46" class="quoteblock">
<div class="title">Requirement 46</div>
<blockquote>
<code>gpkg_tile_matrix</code>表中<code>matrix_height</code>这一列的值必须大于0
</blockquote>
</div>
<div id="_requirement-47" class="quoteblock">
<div class="title">Requirement 47</div>
<blockquote>
<code>gpkg_tile_matrix</code>表中<code>tile_width</code> 这一列的值必须大于0
</blockquote>
</div>
<div id="_requirement-48" class="quoteblock">
<div class="title">Requirement 48</div>
<blockquote>
<code>gpkg_tile_matrix</code>表中<code>tile_height</code> 这一列的值必须大于0
</blockquote>
</div>
<div id="_requirement-49" class="quoteblock">
<div class="title">Requirement 49</div>
<blockquote>
<code>gpkg_tile_matrix</code>表中<code>pixel_x_size</code>这一列的值必须大于0
</blockquote>
</div>
<div id="_requirement-50" class="quoteblock">
<div class="title">Requirement 50</div>
<blockquote>
<code>gpkg_tile_matrix</code>表中<code>pixel_ y _size</code>这一列的值必须大于0
</blockquote>
</div>
<div id="_requirement-51" class="quoteblock">
<div class="title">Requirement 51</div>
<blockquote>
<code>gpkg_tile_matrix</code>表中，当<code>zoom_level</code>列升序排列时，<code>pixel_x_size</code> 和<code>pixel_y_size</code>列的值应该为降序排列。
</blockquote>
</div>
<div class="paragraph">
<p>0级别或者其它缩放级别可能有瓦片，也可能没有瓦片。 <span class="footnote">[<a id="_footnoteref_16" class="footnote" href="#_footnote_16" title="View footnote.">16</a>]</span>
这意味着<code>tile matrix set</code> 可以是稀疏的，例如，在一个确定的缩放级别 下，并不是所有位置都包含瓦片。
<span class="footnote">[<a id="_footnoteref_17" class="footnote" href="#_footnote_17" title="View footnote.">17</a>]</span>这并不影响<code>gpkg_contents</code>表中该缩放级别对应记录的空间范围（由min_x、min_y、max_x、max_y列的值确定），也不影响<code>gpkg_tile_matrix_set</code>表中该缩放级别对应记录的精确空间范围（由min_x、min_y、max_x、max_y列的值确定），更不会影响该缩放级别的瓦片矩阵宽和高。 <span class="footnote">[<a id="_footnoteref_18" class="footnote" href="#_footnote_18" title="View footnote.">18</a>]</span></p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tiles_user_tables">2.2.8. 瓦片金字塔数据表</h4>
<div class="sect4">
<h5 id="__45">2.2.8.1. 数据</h5>
<div class="sect5">
<h6 id="tiles_user_tables_data_table_definition">2.2.8.1.1. 表定义</h6>
<div id="_requirement-52" class="quoteblock">
<div class="title">Requirement 52</div>
<blockquote>
GeoPackage中的每个瓦片矩阵集（tile matrix set）必须存储在独立的瓦片金字塔数据表或可更新的视图（view）中。这些数据表或视图必须具备唯一的名称，必须包含类型为INTGER的名为“id”的列，该列必须有<em>PRIMARY KEY AUTOINCREMENT</em>列约束。参见2.2.8.1.1 <a href="#tiles_user_tables_data_table_definition">表定义</a>、<a href="#example_tiles_table_cols">瓦片金字塔数据表或视图定义</a> 以及 <a href="#example_tiles_table_insert_sql">EXAMPLE: tiles table Insert Statement (Informative)</a>中的规定。
</blockquote>
</div>
<table id="example_tiles_table_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 10. 瓦片金字塔数据表或视图定义</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column Name</th>
<th class="tableblock halign-left valign-top">Column Type</th>
<th class="tableblock halign-left valign-top">Column Description</th>
<th class="tableblock halign-left valign-top">Null</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">自动增长的主键（primary key）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>zoom_level</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">min(zoom_level) &#8656; <code>zoom_level</code> &#8656; max(zoom_level) for <code>t_table_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tile_column</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">大于0，小于gpkg_tile_matrix表的matrix_width值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tile_row</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">大于0，小于gpkg_tile_matrix表的matrix_height值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tile_data</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BLOB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">条款<a href="#tile_enc_png">Tile Encoding PNG</a>, <a href="#tile_enc_jpeg">Tile Encoding JPEG</a>, <a href="#tile_enc_webp">Tile Encoding WEBP</a>, <a href="#tile_enc_tiff">[tile_enc_tiff]</a>, <a href="#tile_enc_nitf">[tile_enc_nitf]</a>中定义的影像 MIME 类型。</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>参见 <a href="#example_tiles_table_sql">EXAMPLE: tiles table Create Table SQL (Informative)</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="__46">2.2.8.1.2. 表数据取值</h6>
<div class="paragraph">
<p>每个瓦片金字塔用户数据表或视图 <span class="footnote">[<a id="_footnoteref_19" class="footnote" href="#_footnote_19" title="View footnote.">19</a>]</span>都可以包含多个瓦片矩阵，这些瓦片矩阵对应第0级或更多缩放级别，每个缩放级别对应不同的空间分辨率（地图比例尺）。</p>
</div>
<div id="_requirement-53" class="quoteblock">
<div class="title">Requirement 53</div>
<blockquote>
在GeoPackage文件中，<code>gpkg_tile_matrix</code>(tm)表中的每个不同的<code>table_name</code>所对应的瓦片金字塔（tp）数据表中， <code>zoom_level</code>列的值应该符合以下条件：min(tm.zoom_level) &#8656; tp.zoom_level &#8656; max(tm.zoom_level)
</blockquote>
</div>
<div id="_requirement-54" class="quoteblock">
<div class="title">Requirement 54</div>
<blockquote>
在GeoPackage文件中，<code>gpkg_tile_matrix</code> (tm)表中的每个不同的<code>table_name</code>所对应的瓦片金字塔（tp）数据表中， tile_column列的值应该符合以下条件：当tm和tp的<code>zoom_level</code> 列值相同时，0 &#8656; tp.tile_column &#8656; tm.matrix_width – 1。
</blockquote>
</div>
<div id="_requirement-55" class="quoteblock">
<div class="title">Requirement 55</div>
<blockquote>
在GeoPackage文件中，<code>gpkg_tile_matrix</code> (tm)表中的每个不同的<code>table_name</code>所对应的瓦片金字塔（tp）数据表中， tile_row列的值应该符合以下条件：当tm和tp的<code>zoom_level</code> 列值相同时，0 &#8656; tp.tile_row &#8656; tm.matrix_height – 1。
</blockquote>
</div>
<div class="paragraph">
<p>同一缩放级别的所有瓦片都具有相同的<code>pixel_x_size</code>和<code>pixel_y_size</code>值，缩放级别对应瓦片表，以及瓦片表的<code>pixel_x_size</code>和<code>pixel_y_size</code>值是在gpkg_tile_matrix表中指定的。<span class="footnote">[<a id="_footnoteref_20" class="footnote" href="#_footnote_20" title="View footnote.">20</a>]</span></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_schema">2.3. Schema</h3>
<div class="sect3">
<h4 id="_schema_2">2.3.1. Schema 介绍</h4>
<div class="paragraph">
<p>schema选项提供了一种描述GeoPackage表列的方法，它可以比SQL表定义得到更多的细节。通过schema选项可以更加友好的呈现现有GeoPackage数据，也可以实现数据有效性验证。</p>
</div>
</div>
<div class="sect3">
<h4 id="__47">2.3.2. 数据列</h4>
<div class="sect4">
<h5 id="__48">2.3.2.1. 数据</h5>
<div class="sect5">
<h6 id="schema_data_columns_table_definition">2.3.2.1.1. 表定义</h6>
<div id="_requirement-56" class="quoteblock">
<div class="title">Requirement 56</div>
<blockquote>
GeoPackage 中可以包含一个名为<code>gpkg_data_columns</code>的表或可更新视图。表或视图的定义需要符合<a href="#schema_data_columns_table_definition">表定义</a>章节、表<a href="#gpkg_data_columns_cols">Data Columns Table or View Definition</a> 和表<a href="#gpkg_data_columns_sql">gpkg_data_columns Table Definition SQL</a>的规定。
</blockquote>
</div>
<table id="gpkg_data_columns_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 11. Data Columns Table or View Definition</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column Name</th>
<th class="tableblock halign-left valign-top">Column Type</th>
<th class="tableblock halign-left valign-top">Column Description</th>
<th class="tableblock halign-left valign-top">Null</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">视图或要素表名</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>column_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">列名</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">column_name列目录可读标识符(e.g. 短名称)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>title</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">column_name列目录可读正式标题</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">table_name列内容可读描述</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mime_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果为BLOB类型，则column_name为http://www.iana.org/assignments/media-types/index.html[MIME] <a href="#21">[21]</a> 类型，如果为NULL，则为其它类型</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>constraint_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">要区分大小写的约束名，与<code>gpkg_data_column_constraints</code>表中的约束名一一对应</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>GeoPackage应用程序可以<span class="footnote">[<a id="_footnoteref_21" class="footnote" href="#_footnote_21" title="View footnote.">21</a>]</span>使用表<code>gpkg_data_columns</code>存储精简的应用程序schema标识、描述、和http://www.iana.org/assignments/media-types/index.html[MIME] <a href="#21">[21]</a> 类型<span class="footnote">[<a id="_footnoteref_22" class="footnote" href="#_footnote_22" title="View footnote.">22</a>]</span>信息，这些信息与矢量要素数据表和瓦片矩阵数据表的列相关，有了这些信息，通过SQLite的sqlite_master表、以及table_info(table_name) SQL指令，就可以获取附加数据。
<code>gpkg_data_columns</code>数据可以提供更具体的列数据类型、取值范围、特定应用结构和语义信息，这些内容使用户界面展示的信息更丰富，使用户更有效地判断GeoPackage内容是否适合特定用途。</p>
</div>
<div class="paragraph">
<p>参见 <a href="#gpkg_data_columns_sql">gpkg_data_columns Table Definition SQL</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="__49">2.3.2.1.2. 表数据值</h6>
<div id="_requirement-57" class="quoteblock">
<div class="title">Requirement 57</div>
<blockquote>
<code>gpkg_data_columns</code>表<code>table_name</code>列的值应该与<code>gpkg_contents</code> 表<code>table_name</code> 列的值一一对应。
</blockquote>
</div>
<div id="_requirement-58" class="quoteblock">
<div class="title">Requirement 58</div>
<blockquote>
<code>gpkg_data_columns</code>表记录中的<code>table_name</code>列值标识了一个SQLite表或视图，同一记录中的<code>column_name</code>列值应该为该SQLite表或视图中的一个列名。
</blockquote>
</div>
<div id="_requirement-59" class="quoteblock">
<div class="title">Requirement 59</div>
<blockquote>
<code>gpkg_data_columns</code>表<code>constraint_name</code>列值可能为 NULL，如果不为NULL，则该列值应该取自表gpkg_data_column_constraints的constraint_name列，且区分大小写。
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__50">2.3.3. 数据列约束</h4>
<div class="sect4">
<h5 id="__51">2.3.3.1. 数据</h5>
<div class="sect5">
<h6 id="data_column_constraints_table_definition">2.3.3.1.1. 表定义</h6>
<div id="_requirement-60" class="quoteblock">
<div class="title">Requirement 60</div>
<blockquote>
GeoPackage中可能包含名为 “gpkg_data_column_constraints” 的表或可更新视图。如果有，它应该符合章节2.3.3.1.1 <a href="#data_column_constraints_table_definition">表定义</a>, <a href="#gpkg_data_column_constraints_cols">Data Column Constraints Table or View Definition</a> 和 <a href="#gpkg_data_column_constraints_sql">gpkg_data_columns Table Definition SQL</a>的规定。
</blockquote>
</div>
<div class="paragraph">
<p><code>gpkg_data_column_constraints</code>表中的数据可以为值为基本数据类型的列指定约束限制。<code>constraint_name</code>列与章节<a href="#gpkg_data_columns_cols">Data Columns Table or View Definition</a>中定义的<code>gpkg_data_columns</code> 表的<code>constraint_name</code>列一一对应。</p>
</div>
<table id="gpkg_data_column_constraints_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 12. Data Column Constraints Table or View Definition</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column Name</th>
<th class="tableblock halign-left valign-top">Column Type</th>
<th class="tableblock halign-left valign-top">Column Description</th>
<th class="tableblock halign-left valign-top">Null</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>constraint_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">区分大小写的约束名</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>constraint_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">约束类型，取值的小写形式为<em>range</em> 、 <em>enum</em> 或<em>glob</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>value</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">类型为<em>enum</em>或<em>glob</em>的值，区分大小写，当<code>constraint_type</code>为<em>range</em>时，取值为NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>min</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUMERIC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‘range’（值域）的下限值，当<code>constraint_type</code>为‘enum’ 或‘glob’ 时，值为NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minIsInclusive</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOOLEAN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果min值不在‘range’（值域）范围内，<code>minIsInclusive</code>的值则为0（false）,反之则为1（true）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>max</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NUMERIC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‘range’（值域）的上限值，当<code>constraint_type</code>为‘enum’ 或‘glob’ 时，值为NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxIsInclusive</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOOLEAN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">如果max值不在‘range’（值域）范围内，<code>maxIsInclusive</code>的值则为0（false）,反之则为1（true）</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">对于ranges或globs,描述约束; 对于enums（枚举）, 则描述enum值</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><em>min和max列被定义为NUMERIC类型，是为了能够表示数值数据列（数据类型由表1定义）的值域。这是 Req 5中阐明的数据类型规则的唯一一次例外。</em></p>
</div>
<div class="paragraph">
<p>参见<a href="#gpkg_data_column_constraints_sql">gpkg_data_columns Table Definition SQL</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="__52">2.3.3.1.2. 表数据值</h6>
<div class="paragraph">
<p>gpkg_data_column_constraints表中constraint_type列的值指定了约束的类型，值的小写形式为："range", "enum", 或"glob" (文本模式匹配)。
value列的值区分大小写，当constraint_type列值为"enum"时，value列的值为合法的枚举值；当constraint_type列值为"glob"时，value列的值为模式匹配字符串；当constraint_type列值为"range"时，value列的值为NULL。
在constraint_name值相同，且constraint_type值为"enum"的所有记录中，value列值的集合包含了constraint_name约束的所有可能的枚举值。
constraint_type列值为"range"的记录中，min和max列的值分别指定了值域的有效最大值和最小值，constraint_type 列值为"enum"或"glob"的记录中，min和max列的值为NULL。
如果值域包含min和max值，则minIsInclusive 和 maxIsInclusive列值为1，反之minIsInclusive和 maxIsInclusive列值为0。如果constraint_type的值为 "enum"或 "glob"，则minIsInclusive和 maxIsInclusive列值为NULL。
在应用程序更新GeoPackage数据值时，这些限制可能会被SQL触发器或代码强制执行。</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 13. 列约束示范数据</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">constraint_name</th>
<th class="tableblock halign-left valign-top">constraint_type</th>
<th class="tableblock halign-left valign-top">value</th>
<th class="tableblock halign-left valign-top">min</th>
<th class="tableblock halign-left valign-top">minIsInclusive</th>
<th class="tableblock halign-left valign-top">max</th>
<th class="tableblock halign-left valign-top">maxIsInclusive</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampleRange</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">range</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampleEnum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampleEnum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampleEnum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampleEnum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampleEnum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sampleGlob</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">glob</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[1-2][0-9][0-9][0-9]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
</tr>
</tbody>
</table>

<div id="_requirement-61" class="quoteblock">
<div class="title">Requirement 61</div>
<blockquote>
<code>gpkg_data_column_constraints</code> 表可能为空。如果它包含数据，则小写的<code>constraint_type</code>列值只能为"range"、"enum"或"glob"之一。
</blockquote>
</div>
<div id="_requirement-62" class="quoteblock">
<div class="title">Requirement 62</div>
<blockquote>
在gpkg_data_column_constraints表中，constraint_type列值为"range"或"glob"的记录，constraint_name值必须是唯一的。
</blockquote>
</div>
<div id="_requirement-63" class="quoteblock">
<div class="title">Requirement 63</div>
<blockquote>
<code>gpkg_data_column_constraints</code>表可能为空。如果它包括constraint_type列值为"range"的记录，那这些记录的<code>value</code>列的值应该NULL。
</blockquote>
</div>
<div id="_requirement-64" class="quoteblock">
<div class="title">Requirement 64</div>
<blockquote>
<code>gpkg_data_column_constraints</code>表可能是空的。如果它包括<code>constraint_type</code>列值为"range"的记录，那么这些行的<code>min</code>列和<code>max</code>列的值应该不为 NULL，且<code>min</code>列值小于<code>max</code>列值。
</blockquote>
</div>
<div id="_requirement-65" class="quoteblock">
<div class="title">Requirement 65</div>
<blockquote>
<code>gpkg_data_column_constraints</code>表可能为空。如果它包括<code>constraint_type</code>列值为"range"的记录，那么这些行的<code>minIsInclusive</code>列和<code>maxIsInclusive</code>列的值应该为0或者1。
</blockquote>
</div>
<div id="_requirement-66" class="quoteblock">
<div class="title">Requirement 66</div>
<blockquote>
<code>gpkg_data_column_constraints</code>表可能为空。如果它包括<code>constraint_type</code>列值为"enum"或"glob"的记录，那么这些记录的<code>min</code>，<code>max</code>，<code>minIsInclusive</code>和<code>maxIsInclusive</code>列的值应该为NULL。
</blockquote>
</div>
<div id="_requirement-67" class="quoteblock">
<div class="title">Requirement 67</div>
<blockquote>
<code>gpkg_data_column_constraints</code>表可能为空。如果它包括<code>constraint_type</code>列值为"enum"或"glob"的记录，那这些记录的<code>value</code>列的值应该不是 NULL。
</blockquote>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_metadata">2.4. Metadata</h3>
<div class="sect3">
<h4 id="_introduction">2.4.1. Introduction</h4>
<div class="paragraph">
<p>Two tables in a GeoPackage provide a means of storing metadata in MIME <a href="#21">[21]</a> encodings that are defined in accordance with any authoritative metadata specifications, and relating it to the features, rasters, and tiles data in a GeoPackage.
These tables are intended to provide the support necessary to implement the hierarchical metadata model defined in ISO 19115 <a href="#28">[28]</a>, Annex B B.5.25 MD_ScopeCode, <a href="#metadata_example_appendix">Hierarchical Metadata Example (Informative)</a> and <a href="#raster_or_tile_metadata_example_appendix">Raster or Tile Metadata Example (Informative)</a>, so that as GeoPackage data is captured and updated, the most local and specific detailed metadata changes associated with the new or modified data MAY be captured separately, and referenced to existing global and general metadata.</p>
</div>
<div class="paragraph">
<p>The <code>gpkg_metadata</code> table that contains metadata is described in clause <a href="#_metadata_table">Metadata Table</a>, and the <code>gpkg_metadata_reference</code> table that relates <code>gpkg_metadata</code> to GeoPackage data is described in clause <a href="#_metadata_reference_table">Metadata Reference Table</a>.
There is no GeoPackage requirement that such metadata be provided or that defined metadata be structured in a hierarchical fashion <span class="footnote">[<a id="_footnoteref_23" class="footnote" href="#_footnote_23" title="View footnote.">23</a>]</span> with more than one level, only that if it is, these tables SHALL be used. Such metadata <span class="footnote">[<a id="_footnoteref_24" class="footnote" href="#_footnote_24" title="View footnote.">24</a>]</span> and data that relates it to GeoPackage contents SHALL NOT be stored in other tables.</p>
</div>
</div>
<div class="sect3">
<h4 id="_metadata_table">2.4.2. Metadata Table</h4>
<div class="sect4">
<h5 id="_data">2.4.2.1. Data</h5>
<div class="sect5">
<h6 id="metadata_table_table_definition">2.4.2.1.1. Table Definition</h6>
<div id="_requirement-68" class="quoteblock">
<div class="title">Requirement 68</div>
<blockquote>
A GeoPackage MAY contain a table named gpkg_metadata. If present it SHALL be defined per clause 2.4.2.1.1 <a href="#metadata_table_table_definition">Table Definition</a>, <a href="#gpkg_metadata_cols">Metadata Table Definition</a> and <a href="#gpkg_metadata_sql">gpkg_metadata Table Definition SQL</a>.
</blockquote>
</div>
<div class="paragraph">
<p>The first component of GeoPackage metadata is the <code>gpkg_metadata</code> table that MAY contain metadata in MIME <a href="#21">[21]</a> encodings structured in accordance with any authoritative metadata specification, such as ISO 19115 <a href="#28">[28]</a>, ISO 19115-2 <a href="#B6">[B6]</a>, ISO 19139 <a href="#B7">[B7]</a>, Dublin Core <a href="#B8">[B8]</a>, CSDGM <a href="#B10">[B10]</a>, DDMS <a href="#B12">[B12]</a>, NMF/NMIS <a href="#B13">[B13]</a>, etc.
The GeoPackage interpretation of what constitutes “metadata” is a broad one that includes UML models <a href="#B14">[B14]</a> encoded in XMI <a href="#B15">[B15]</a>, GML Application Schemas <a href="#30">[30]</a>, ISO 19110 feature catalogues <a href="#B18">[B18]</a>, OWL <a href="#B20">[B20]</a> and SKOS <a href="#B21">[B21]</a> taxonomies, etc.</p>
</div>
<table id="gpkg_metadata_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 14. Metadata Table Definition</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column Name</th>
<th class="tableblock halign-left valign-top">Column Type</th>
<th class="tableblock halign-left valign-top">Column Description</th>
<th class="tableblock halign-left valign-top">Null</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata primary key</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>md_scope</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Case sensitive name of the data scope to which this metadata applies; see <a href="#metadata_scopes">Metadata Scopes</a> below</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">‘dataset’</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>md_standard_uri</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">URI <a href="#23">[23]</a> reference to the metadata structure definition authority <span class="footnote">[<a id="_footnoteref_25" class="footnote" href="#_footnote_25" title="View footnote.">25</a>]</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mime_type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MIME <a href="#21">[21]</a> encoding of metadata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">text/xml <a href="#24">[24]</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadata</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">metadata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">’’</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>The md_standard_uri data value provides an identifier for the metadata structure (schema) specified by its definition authority.
The structure (schema) information could be in whatever encoding is used by the definition authority, e.g. UML <a href="#B14">[B14]</a>, or IDEF1x <a href="#B16">[B16]</a>, or XML/Schema <a href="#25">[25]</a><a href="#26">[26]</a><a href="#27">[27]</a>, or RDF/S <a href="#B19">[B19]</a>.</p>
</div>
<div class="paragraph">
<p>See <a href="#gpkg_metadata_sql">gpkg_metadata Table Definition SQL</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_table_data_values">2.4.2.1.2. Table Data Values</h6>
<div class="paragraph">
<p>The <code>md_scope</code> column in the <code>gpkg_metadata</code> table is the name of the applicable scope for the contents of the metadata column for a given row.
The list of valid scope names and their definitions is provided in <a href="#metadata_scopes">Metadata Scopes</a> below.
The initial contents of this table were obtained from the ISO 19115 <a href="#40">[40]</a>, Annex B B.5.25 MD_ScopeCode code list, which was extended <span class="footnote">[<a id="_footnoteref_26" class="footnote" href="#_footnote_26" title="View footnote.">26</a>]</span> for use in the GeoPackage specification by addition of entries with “NA” as the scope code column in <a href="#gpkg_metadata_cols">Metadata Table Definition</a>.</p>
</div>
<table id="metadata_scopes" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 15. Metadata Scopes</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name (md_scope)</th>
<th class="tableblock halign-left valign-top">Scope Code</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata information scope is undefined</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">fieldSession</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">012</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to the field session</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collectionSession</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">004</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to the collection session</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">series</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">006</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to the (dataset) series <span class="footnote">[<a id="_footnoteref_27" class="footnote" href="#_footnote_27" title="View footnote.">27</a>]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">005</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to the (geographic feature) dataset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">featureType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">010</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to a feature type (class)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">009</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to a feature (instance)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">attributeType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">002</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to the attribute class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">001</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to the characteristic of a feature (instance)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">016</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to a tile, a spatial subset of geographic data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">015</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to a copy or imitation of an existing or hypothetical object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">catalog</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata applies to a feature catalog <span class="footnote">[<a id="_footnoteref_28" class="footnote" href="#_footnote_28" title="View footnote.">28</a>]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">schema</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata applies to an application schema <span class="footnote">[<a id="_footnoteref_29" class="footnote" href="#_footnote_29" title="View footnote.">29</a>]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">taxonomy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata applies to a taxonomy or knowledge system <span class="footnote">[<a id="_footnoteref_30" class="footnote" href="#_footnote_30" title="View footnote.">30</a>]</span></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">software</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">013</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to a computer program or routine</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">014</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to a capability which a service provider entity makes available to a service user entity through a set of interfaces that define a behaviour, such as a use case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">collectionHardware</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">003</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to the collection hardware class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">nonGeographicDataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">007</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to non-geographic data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">dimensionGroup</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">008</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information applies to a dimension group</p></td>
</tr>
</tbody>
</table>

<div id="_requirement-69" class="quoteblock">
<div class="title">Requirement 69</div>
<blockquote>
Each <code>md_scope</code> column value in a <code>gpkg_metadata</code> table or updateable view SHALL be one of the name column values from <a href="#metadata_scopes">Metadata Scopes</a>.
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_metadata_reference_table">2.4.3. Metadata Reference Table</h4>
<div class="sect4">
<h5 id="_data_2">2.4.3.1. Data</h5>
<div class="sect5">
<h6 id="metadata_reference_table_table_definition">2.4.3.1.1. Table Definition</h6>
<div id="_requirement-70" class="quoteblock">
<div class="title">Requirement 70</div>
<blockquote>
A GeoPackage that contains a <code>gpkg_metadata</code> table SHALL contain a <code>gpkg_metadata_reference</code> table per clause 2.4.3.1.1 <a href="#metadata_reference_table_table_definition">Table Definition</a>, <a href="#gpkg_metadata_reference_cols">Metadata Reference Table Definition (Table Name: gpkg_metadata_reference)</a> and <a href="#gpkg_metadata_reference_sql">gpkg_metadata_reference Table Definition SQL</a>.
</blockquote>
</div>
<div class="paragraph">
<p>The second component of GeoPackage metadata is the <code>gpkg_metadata_reference</code> table that links metadata in the <code>gpkg_metadata</code> table to data in the feature, and tiles tables defined in clauses 2.1.6 and 2.2.7.
The <code>gpkg_metadata_reference</code> table is not required to contain any rows.</p>
</div>
<table id="gpkg_metadata_reference_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 16. Metadata Reference Table Definition (Table Name: gpkg_metadata_reference)</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column Name</th>
<th class="tableblock halign-left valign-top">Col Type</th>
<th class="tableblock halign-left valign-top">Column Description</th>
<th class="tableblock halign-left valign-top">Null</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reference_scope</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lowercase metadata reference scope; one of ‘geopackage’, ‘table’,‘column’, ’row’, ’row/col’</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the table to which this metadata reference applies, or NULL for reference_scope of ‘geopackage’.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>column_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the column to which this metadata reference applies; NULL for <code>reference_scope</code> of ‘geopackage’,‘table’ or ‘row’, or the name of a column in the <code>table_name</code> table for <code>reference_scope</code> of ‘column’ or ‘row/col’</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>row_id_value</code> <span class="footnote">[<a id="_footnoteref_31" class="footnote" href="#_footnote_31" title="View footnote.">31</a>]</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL for <code>reference_scope</code> of ‘geopackage’, ‘table’ or ‘column’, or the rowed of a row record in the <code>table_name</code> table for <code>reference_scope</code> of ‘row’ or ‘row/col’</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timestamp</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DATETIME</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">timestamp value in ISO 8601 format as defined by the strftime function '%Y-%m-%dT%H:%M:%fZ' format string applied to the current time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">strftime('%Y-%m-%dT%H:%M:%fZ', 'now')</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>md_file_id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gpkg_metadata</code> table id column value for the metadata to which this <code>gpkg_metadata_reference</code> applies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>md_parent_id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gpkg_metadata</code> table id column value for the hierarchical parent <code>gpkg_metadata</code> for the <code>gpkg_metadata</code> to which this <code>gpkg_metadata_reference</code> applies, or NULL if <code>md_file_id</code> forms the root of a metadata hierarchy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FK</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>Every row in <code>gpkg_metadata_reference</code> that has null value as <code>md_parent_id</code> forms the root of a metadata hierarchy.<span class="footnote">[<a id="_footnoteref_32" class="footnote" href="#_footnote_32" title="View footnote.">32</a>]</span></p>
</div>
<div class="paragraph">
<p>See <a href="#table_definition_sql">Table Definition SQL (Normative)</a> clause <a href="#gpkg_metadata_reference_sql">gpkg_metadata_reference Table Definition SQL</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_table_data_values_2">2.4.3.1.2. Table Data Values</h6>
<div id="_requirement-71" class="quoteblock">
<div class="title">Requirement 71</div>
<blockquote>
Every <code>gpkg_metadata_reference</code> table reference scope column value SHALL be one of ‘geopackage’, ‘table’, ‘column’, ’row’, ’row/col’ in lowercase.
</blockquote>
</div>
<div id="_requirement-72" class="quoteblock">
<div class="title">Requirement 72</div>
<blockquote>
Every <code>gpkg_metadata_reference</code> table row with a <code>reference_scope</code> column value of ‘geopackage’ SHALL have a <code>table_name</code> column value that is NULL.
Every other <code>gpkg_metadata_reference</code> table row SHALL have a <code>table_name</code> column value that references a value in the <code>gpkg_contents</code> <code>table_name</code> column.
</blockquote>
</div>
<div id="_requirement-73" class="quoteblock">
<div class="title">Requirement 73</div>
<blockquote>
Every <code>gpkg_metadata_reference</code> table row with a <code>reference_scope</code> column value of ‘geopackage’,‘table’ or ‘row’ SHALL have a <code>column_name</code> column value that is NULL.
Every other <code>gpkg_metadata_reference</code> table row SHALL have a <code>column_name</code> column value that contains the name of a column in the SQLite table or view identified by the <code>table_name</code> column value.
</blockquote>
</div>
<div id="_requirement-74" class="quoteblock">
<div class="title">Requirement 74</div>
<blockquote>
Every <code>gpkg_metadata_reference</code> table row with a <code>reference_scope</code> column value of ‘geopackage’, ‘table’ or ‘column’ SHALL have a <code>row_id_value</code> column value that is NULL.
Every other <code>gpkg_metadata_reference</code> table row SHALL have a <code>row_id_value</code> column value that contains the ROWID of a row in the SQLite table or view identified by the <code>table_name</code> column value.
</blockquote>
</div>
<div id="_requirement-75" class="quoteblock">
<div class="title">Requirement 75</div>
<blockquote>
Every <code>gpkg_metadata_reference</code> table row timestamp column value SHALL be in ISO 8601 <a href="#29">[29]</a> format containing a complete date plus UTC hours, minutes, seconds and a decimal fraction of a second, with a ‘Z’ (‘zulu’) suffix indicating UTC.<span class="footnote">[<a id="_footnoteref_33" class="footnote" href="#_footnote_33" title="View footnote.">33</a>]</span>
</blockquote>
</div>
<div id="_requirement-76" class="quoteblock">
<div class="title">Requirement 76</div>
<blockquote>
Every <code>gpkg_metadata_reference</code> table row <code>md_file_id</code> column value SHALL be an id column value from the <code>gpkg_metadata</code> table.
</blockquote>
</div>
<div id="_requirement-77" class="quoteblock">
<div class="title">Requirement 77</div>
<blockquote>
Every <code>gpkg_metadata_reference</code> table row <code>md_parent_id</code> column value that is NOT NULL SHALL be an id column value from the <code>gpkg_metadata</code> table that is not equal to the <code>md_file_id</code> column value for that row.
</blockquote>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_extension_mechanism">2.5. Extension Mechanism</h3>
<div class="sect3">
<h4 id="_introduction_2">2.5.1. Introduction</h4>
<div class="paragraph">
<p>A GeoPackage extension is a set of one or more requirements clauses that are documented by filling out the GeoPackage Extension Template in <a href="#extension_template">GeoPackage Extension Template (Normative)</a>. A GeoPackage Extension either profiles / extends existing requirements clauses in the geopackage specification or adds new requirements clauses. Existing requirement clause extension examples include additional geometry types, additional SQL geometry functions, and additional tile image formats. New requirement clause extension examples include spatial indexes, triggers, additional tables, other BLOB column encodings, and other SQL functions.</p>
</div>
<div class="paragraph">
<p>GeoPackage extensions are identified by a name of the form &lt;author&gt;_&lt;extension name&gt; where &lt;author&gt; indicates the person or organization that developed and maintains the extension.
The author value “gpkg” is reserved for GeoPackage extensions that are developed and maintained by OGC and used in Geopackages.
Implementers use their own author names to register other extensions<span class="footnote">[<a id="_footnoteref_34" class="footnote" href="#_footnote_34" title="View footnote.">34</a>]</span> used in Extended GeoPackages.</p>
</div>
</div>
<div class="sect3">
<h4 id="_extensions">2.5.2. Extensions</h4>
<div class="sect4">
<h5 id="_data_3">2.5.2.1. Data</h5>
<div class="sect5">
<h6 id="extensions_table_definition">2.5.2.1.1. Table Definition</h6>
<div id="_requirement-78" class="quoteblock">
<div class="title">Requirement 78</div>
<blockquote>
A GeoPackage MAY contain a table or updateable view named gpkg_extensions.
If present this table SHALL be defined per clause 2.5.2.1.1 <a href="#extensions_table_definition">Table Definition</a>, <a href="#gpkg_extensions_cols">GeoPackage Extensions Table or View Definition (Table or View Name: gpkg_extensions)</a> and <a href="#gpkg_extensions_sql">gpkg_extensions Table Definition SQL</a>.
</blockquote>
</div>
<div class="paragraph">
<p>The <code>gpkg_extensions</code> table or updateable view in a GeoPackage is used to indicate that a particular extension applies to a GeoPackage, a table in a GeoPackage or a column of a table in a GeoPackage.
An application that access a GeoPackage can query the <code>gpkg_extensions</code> table instead of the contents of all the user data tables to determine if it has the required capabilitiesto read or write to tables with extensions, and to “fail fast” and return an error message if it does not.</p>
</div>
<table id="gpkg_extensions_cols" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 17. GeoPackage Extensions Table or View Definition (Table or View Name: gpkg_extensions)</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Column Name</th>
<th class="tableblock halign-left valign-top">Col Type</th>
<th class="tableblock halign-left valign-top">Column Description</th>
<th class="tableblock halign-left valign-top">Null</th>
<th class="tableblock halign-left valign-top">Key</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>table_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the table that requires the extension. When NULL, the extension is required for the entire GeoPackage. SHALL NOT be NULL when the column_name is not NULL.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>column_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the column that requires the extension. When NULL, the extension is required for the entire table.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>extension_name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The case sensitive name of the extension that is required, in the form &lt;author&gt;_&lt;extension_name&gt;.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unique</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>definition</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Definition of the extension in the form specfied by the template in <a href="#extension_template">GeoPackage Extension Template (Normative)</a> or reference thereto.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>scope</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indicates scope of extension effects on readers / writers: <em>read-write</em> or <em>write-only</em> in lowercase.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>See <a href="#gpkg_extensions_sql">gpkg_extensions Table Definition SQL</a>.</p>
</div>
</div>
<div class="sect5">
<h6 id="_table_data_values_3">2.5.2.1.2. Table Data Values</h6>
<div id="_requirement-79" class="quoteblock">
<div class="title">Requirement 79</div>
<blockquote>
Every extension of a GeoPackage SHALL be registered in a corresponding row in the gpkg_extensions table.
The absence of a gpkg_extensions table or the absence of rows in gpkg_extnsions table SHALL both indicate the absence of extensions to a GeoPackage.
</blockquote>
</div>
<div id="_requirement-80" class="quoteblock">
<div class="title">Requirement 80</div>
<blockquote>
Values of the <code>gpkg_extensions</code> <code>table_name</code> column SHALL reference values in the <code>gpkg_contents</code> <code>table_name</code> column or be NULL.
They SHALL NOT be NULL for rows where the <code>column_name</code> value is not NULL.
</blockquote>
</div>
<div id="_requirement-81" class="quoteblock">
<div class="title">Requirement 81</div>
<blockquote>
The <code>column_name</code> column value in a <code>gpkg_extensions</code> row SHALL be the name of a column in the table specified by the <code>table_name</code> column value for that row, or be NULL.
</blockquote>
</div>
<div id="_requirement-82" class="quoteblock">
<div class="title">Requirement 82</div>
<blockquote>
Each <code>extension_name</code> column value in a <code>gpkg_extensions</code> row SHALL be a unique case sensitive value of the form &lt;author&gt;_&lt;extension_name&gt; where &lt;author&gt; indicates the person or organization that developed and
maintains the extension. The valid character set for &lt;author&gt; SHALL be [a-zA-Z0-9].
The valid character set for &lt;extension_name&gt; SHALL be [a-zA-Z0-9_].
An <code>extension_name</code> for the “gpkg” author name SHALL be one of those defined in this encoding standard or in an OGC Best Practices Document that extends it.
</blockquote>
</div>
<div class="paragraph">
<p>Complete examples of how to fill out the GeoPackage Extension Template in <a href="#extension_template">GeoPackage Extension Template (Normative)</a> are provided by Annex L through Annex P.
The definition column value in a <code>gpkg_extensions</code> row for those extensions SHALL contain the Annex name as a reference.</p>
</div>
<div class="paragraph">
<p>Partial examples of how to fill out the GeoPackage Extension Template in <a href="#extension_template">GeoPackage Extension Template (Normative)</a> are provided by the templates in <a href="#extension_geometry_types">GeoPackage Geometry Types Extension Template (Normative)</a> and <a href="#extension_geometry_encoding">User-Defined Geometry Types Encoding Extension Template (Normative)</a>.
Extension definitions created using those template and other extension definitions MAY be provided in the definition column, preferably as ASCII text, or as a reference such as a URI <a href="#23">[23]</a> or email address whereby the definition may be obtained.</p>
</div>
<div id="_requirement-83" class="quoteblock">
<div class="title">Requirement 83</div>
<blockquote>
The definition column value in a <code>gpkg_extensions</code> row SHALL contain or reference the text that results from documenting an extension by filling out the GeoPackage Extension Template in <a href="#extension_template">GeoPackage Extension Template (Normative)</a>.
</blockquote>
</div>
<div class="paragraph">
<p>Some extensions do not impose any additional requirements on software that accesses a GeoPackage in a read-only fashion.
An example of this is an extension that defines an SQL trigger that uses a non-standard SQL function defined in a GeoPackage SQLite Extension.
Triggers are only invoked when data is written to the GeoPackage, so usage of this type of extension can be safely ignored for read-only access.
This is indicated by a gpkg_extensions.scope column value of “write_only”.</p>
</div>
<div id="_requirement-84" class="quoteblock">
<div class="title">Requirement 84</div>
<blockquote>
The scope column value in a <code>gpkg_extensions</code> row SHALL be lowercase "read-write" for an extension that affects both readers and writers, or "write-only" for an extension that affects only writers.
</blockquote>
</div>
<div class="paragraph">
<p>The author value “gpkg” is reserved for GeoPackage extensions that are developed and maintained by OGC.
Requirements for extension names for the “gpkg” author name are defined in the clauses listed in 14 below.
GeoPackage implementers use their own author names to register other extensions.</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_registered_extensions">3. Registered Extensions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This clause specifies requirements for GeoPackage extensions.
Definitions of those extensions in the form specified by the template in <a href="#extension_template">GeoPackage Extension Template (Normative)</a> are provided in Annexes J through P.</p>
</div>
<div class="sect2">
<h3 id="_features">3.1. Features</h3>
<div class="paragraph">
<p>The extensions defined in the following sub clauses MAY be implemented in a GeoPackage that implements features per clause <a href="#features">[features]</a>.</p>
</div>
<div class="sect3">
<h4 id="gpkg_geometry_types_extension">3.1.1. GeoPackage Geometry Types Extension</h4>
<div class="sect4">
<h5 id="_data_4">3.1.1.1. Data</h5>
<div class="paragraph">
<p>This extension of clause <a href="#sql_geometry_types">SQL几何类型</a> partially described in <a href="#extension_geometry_types">GeoPackage Geometry Types Extension Template (Normative)</a> defines additional geometry types.</p>
</div>
<div class="sect5">
<h6 id="_extension_types">3.1.1.1.1. Extension Types</h6>
<div id="_requirement-85" class="quoteblock">
<div class="title">Requirement 85</div>
<blockquote>
A GeoPackage MAY store feature table geometries with the extended non-linear geometry types (CircularString, CompoundCurve, CurvePolygon, MultiCurve, MultiSurface, Curve, Surface) in <a href="#geometry_types">Geometry Types (Normative)</a>.
If it does so, they SHALL be encoded in the GeoPackageBinary geometry format.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_extensions_types_extensions_name">3.1.1.1.2. Extensions Types - Extensions Name</h6>
<div id="_requirement-86" class="quoteblock">
<div class="title">Requirement 86</div>
<blockquote>
An extension name to specify a feature geometry extension type SHALL be defined for the “gpkg” author name using the “gpkg_geom_&lt;gname&gt;” template where &lt;gname&gt; is the uppercase name of the extension geometry type from <a href="#geometry_types">Geometry Types (Normative)</a> used in a GeoPackage.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_extensions_types_extensions_row">3.1.1.1.3. Extensions Types - Extensions Row</h6>
<div id="_requirement-87" class="quoteblock">
<div class="title">Requirement 87</div>
<blockquote>
A GeoPackage that contains a gpkg_geometry_columns table or updateable view with row records that specify extension geometry_type_name column values SHALL contain a gpkg_extensions table that contains row records with table_name and column_name values from the gpkg_geometry_columns row records that identify extension type uses, and extension_name column values for each of those geometry types constructed per clause 3.1.1.1.2.
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="gpkg_user_geometry_types_extension">3.1.2. User-Defined Geometry Types Extension</h4>
<div class="sect4">
<h5 id="_data_5">3.1.2.1. Data</h5>
<div class="paragraph">
<p>This extension of clauses <a href="#gpb_format">几何编码</a>, <a href="#sql_geometry_types">SQL几何类型</a> and <a href="#gpkg_geometry_types_extension">GeoPackage Geometry Types Extension</a> partially described in <a href="#extension_geometry_encoding">User-Defined Geometry Types Encoding Extension Template (Normative)</a> enables encoding of additional user-defined geometry types in ExtendedGeoPackageBinary format in an Extended GeoPackage.</p>
</div>
<div class="sect5">
<h6 id="_extensions_encoding">3.1.2.1.1. Extensions Encoding</h6>
<div id="_requirement-88" class="quoteblock">
<div class="title">Requirement 88</div>
<blockquote>
The ExtendedGeoPackageBinary format defined in <a href="#extension_geometry_encoding">User-Defined Geometry Types Encoding Extension Template (Normative)</a> SHALL be used to encode geometry types other than those specified in clauses <a href="#sql_geometry_types">SQL几何类型</a> and <a href="#gpkg_geometry_types_extension">GeoPackage Geometry Types Extension</a> and listed in <a href="#geometry_types">Geometry Types (Normative)</a>.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_extensions_encoding_extensions_name">3.1.2.1.2. Extensions Encoding - Extensions Name</h6>
<div id="user_defined_geometry_ext_name_req" class="quoteblock">
<div class="title">Requirement 89</div>
<blockquote>
An extension name to specify a feature geometry extension type encoded in the ExtendedGeoPackageBinary format SHALL be defined for an author name that is NOT “gpkg” using the “&lt;author_name&gt;_geom_&lt;gname&gt; template where &lt;gname&gt; is the uppercase name of an extension geometry type NOT listed in <a href="#geometry_types">Geometry Types (Normative)</a> used in a GeoPackage.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_extensions_encoding_extensions_row">3.1.2.1.3. Extensions Encoding - Extensions Row</h6>
<div id="_requirement-90" class="quoteblock">
<div class="title">Requirement 90</div>
<blockquote>
An Extended GeoPackage that contains a gpkg_geometry_columns table or updateable view with row records that specify extension geometry_type_name column values other than those specified in clauses <a href="#sql_geometry_types">SQL几何类型</a> and 3.1.1 and listed in <a href="#geometry_types">Geometry Types (Normative)</a> SHALL contain a gpkg_extensions table that contains row records with table_name and column_name values from the gpkg_geometry_columns row records that identify extension type uses, and extension_name column values for each of those geometry type constructed per clause 3.1.2.1.2.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_geometry_columns_geometry_type_name">3.1.2.1.4. Geometry Columns Geometry Type Name</h6>
<div id="_requirement-91" class="quoteblock">
<div class="title">Requirement 91</div>
<blockquote>
The <code>geometry_type_name</code> value in a <code>gpkg_geometry_columns</code> row SHALL be the <a href="#user_defined_geometry_ext_name_req">Requirement 89</a> extension name in uppercase.
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_rtree_spatial_indexes">3.1.3. RTree Spatial Indexes</h4>
<div class="sect4">
<h5 id="_data_6">3.1.3.1. Data</h5>
<div class="paragraph">
<p>This extension described in <a href="#extension_rtree">RTree Spatial Index Extension (Normative)</a> adds a new capability for spatially indexing columns with geometries encoded per clause <a href="#gpb_format">几何编码</a> and <a href="#gpkg_user_geometry_types_extension">User-Defined Geometry Types Extension</a>.</p>
</div>
<div class="sect5">
<h6 id="_spatial_indexes_implementation">3.1.3.1.1. Spatial Indexes Implementation</h6>
<div class="paragraph">
<p>Spatial indexes provide a significant performance advantage for searches with basic envelope spatial criteria that return subsets of the rows in a feature table with a non-trivial number (thousands or more) of rows.<span class="footnote">[<a id="_footnoteref_35" class="footnote" href="#_footnote_35" title="View footnote.">35</a>]</span></p>
</div>
<div id="_requirement-92" class="quoteblock">
<div class="title">Requirement 92</div>
<blockquote>
A GeoPackage SHALL implement spatial indexes on feature table geometry columns as specified in clause 3.1.3.1.1 using the SQLite Virtual Table RTrees and triggers specified in <a href="#extension_rtree">RTree Spatial Index Extension (Normative)</a>.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_spatial_indexes_extensions_name">3.1.3.1.2. Spatial Indexes - Extensions Name</h6>
<div id="_requirement-93" class="quoteblock">
<div class="title">Requirement 93</div>
<blockquote>
The “gpkg_rtree_index” extension name SHALL be used as a gpkg_extensions table extension name column value to specify implementation of spatial indexes on a geometry column.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_spatial_indexes_extensions_row">3.1.3.1.3. Spatial Indexes - Extensions Row</h6>
<div id="_requirement-94" class="quoteblock">
<div class="title">Requirement 94</div>
<blockquote>
A GeoPackage that implements spatial indexes SHALL have a gpkg_extensions table that contains a row for each spatially indexed column with extension_name “gpkg_rtree_index”, the table_name of the table with a spatially indexed column, and the column_name of the spatially indexed column.
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_geometry_type_triggers">3.1.4. Geometry Type Triggers</h4>
<div class="sect4">
<h5 id="_data_7">3.1.4.1. Data</h5>
<div class="paragraph">
<p>This extension described in <a href="#extension_geometry_type_triggers">Geometry Type Triggers Extension (Normative)</a> adds a new geometry type triggers capability for columns with geometries encoded per clause <a href="#gpb_format">几何编码</a> and <a href="#gpkg_user_geometry_types_extension">User-Defined Geometry Types Extension</a>.</p>
</div>
<div class="sect5">
<h6 id="_geometry_type_triggers_implementation">3.1.4.1.1. Geometry Type Triggers – Implementation</h6>
<div id="_requirement-95" class="quoteblock">
<div class="title">Requirement 95</div>
<blockquote>
A GeoPackage SHALL include the SQL insert and update triggers specified in <a href="#extension_geometry_type_triggers">Geometry Type Triggers Extension (Normative)</a> on every geometry column to enforce the geometry type values specified for those columns in the gpkg_geometry_columns table.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_geometry_type_triggers_extensions_name">3.1.4.1.2. Geometry Type Triggers – Extensions Name</h6>
<div id="_requirement-96" class="quoteblock">
<div class="title">Requirement 96</div>
<blockquote>
The “gpkg_geometry_type_trigger” extension name SHALL be used as a gpkg_extensions table extension name column value to specify implementation of geometry type triggers.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_geometry_type_triggers_extensions_row">3.1.4.1.3. Geometry Type Triggers – Extensions Row</h6>
<div id="_requirement-97" class="quoteblock">
<div class="title">Requirement 97</div>
<blockquote>
A GeoPackage that implements geometry type triggers on geometry columns SHALL contain a gpkg_extensions table that contains a row for each such geometry column with extension_name “gpkg_geometry_type_trigger”, table_name of the feature table with a geometry column, and column_name of the geometry column.
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_srs_id_triggers">3.1.5. SRS_ID Triggers</h4>
<div class="sect4">
<h5 id="_data_8">3.1.5.1. Data</h5>
<div class="paragraph">
<p>This extension described in <a href="#extension_geometry_srsid_triggers">Geometry SRS ID Triggers Extension (Normative)</a> adds a new srs_id triggers capability for columns with geometries encoded per clause <a href="#gpb_format">几何编码</a> and <a href="#gpkg_user_geometry_types_extension">User-Defined Geometry Types Extension</a>.</p>
</div>
<div class="sect5">
<h6 id="_srs_id_triggers_implementation">3.1.5.1.1. SRS_ID Triggers – Implementation</h6>
<div id="_requirement-98" class="quoteblock">
<div class="title">Requirement 98</div>
<blockquote>
A GeoPackage SHALL include the SQL insert and update triggers specified in <a href="#extension_geometry_srsid_triggers">Geometry SRS ID Triggers Extension (Normative)</a> on every geometry column to enforce the srs_id values specified for those columns in the <code>gpkg_geometry_columns</code> table.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_srs_id_triggers_extensions_name">3.1.5.1.2. SRS_ID Triggers – Extensions Name</h6>
<div id="_requirement-99" class="quoteblock">
<div class="title">Requirement 99</div>
<blockquote>
The “gpkg_srs_id_trigger” extension name SHALL be used as a gpkg_extensions table extension name column value to specify implementation of SRS_ID triggers specified in <a href="#extension_geometry_srsid_triggers">Geometry SRS ID Triggers Extension (Normative)</a>.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_srs_id_triggers_extensions_row">3.1.5.1.3. SRS_ID Triggers – Extensions Row</h6>
<div id="_requirement-100" class="quoteblock">
<div class="title">Requirement 100</div>
<blockquote>
A GeoPackage that implements srs_id triggers on feature table geometry columns SHALL contain a gpkg_extensions table that contains a row for each geometry column with extension_name “gpkg_srs_id_trigger”, table_name of the feature table with a geometry column, and column_name of the geometry column.
</blockquote>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_tiles">3.2. Tiles</h3>
<div class="paragraph">
<p>The extensions defined in the following sub clauses MAY be implemented in a GeoPackage that implements tiles per clause <a href="#tiles">瓦片</a>.</p>
</div>
<div class="sect3">
<h4 id="_zoom_levels">3.2.1. Zoom Levels</h4>
<div class="sect4">
<h5 id="_data_9">3.2.1.1. Data</h5>
<div class="paragraph">
<p>This extension of clause <a href="#zoom_levels">Zoom Levels</a> described in <a href="#extension_zoom_other_intervals">Zoom Other Intervals Extension (Normative)</a> allows zoom level intervals other than a factor of two.</p>
</div>
<div class="sect5">
<h6 id="_zoom_other_intervals">3.2.1.1.1. Zoom Other Intervals</h6>
<div class="paragraph">
<p>Tile pyramid user data tables MAY have pixel sizes that vary by irregular intervals or by regular intervals other than a factor of two (the default) between adjacent zoom levels.</p>
</div>
</div>
<div class="sect5">
<h6 id="_zoom_other_extensions_name">3.2.1.1.2. Zoom Other – Extensions Name</h6>
<div id="_requirement-101" class="quoteblock">
<div class="title">Requirement 101</div>
<blockquote>
The “gpkg_zoom_other” extension name SHALL be used as a gpkg_extensions table extension name column value to specify implementation of other zoom intervals on a tile pyramid user data table as specified in <a href="#extension_zoom_other_intervals">Zoom Other Intervals Extension (Normative)</a>.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_zoom_other_extensions_row">3.2.1.1.3. Zoom Other – Extensions Row</h6>
<div id="_requirement-102" class="quoteblock">
<div class="title">Requirement 102</div>
<blockquote>
A GeoPackage that implements other zoom intervals SHALL have a gpkg_extensions table that contains a row for each tile pyramid user data table with other zoom intervals with extension_name “gpkg_zoom_other”, the table_name of the table with other zoom intervals, and the “tile_data” column_name.
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="tile_enc_webp">3.2.2. Tile Encoding WEBP</h4>
<div class="sect4">
<h5 id="_data_10">3.2.2.1. Data</h5>
<div class="paragraph">
<p>This extension of clauses <a href="#tile_enc_png">Tile Encoding PNG</a> and <a href="#tile_enc_jpeg">Tile Encoding JPEG</a> described in <a href="#extension_tiles_webp">Tiles Encoding WebP Extension (Normative)</a> allows encoding of tile images in WebP format.</p>
</div>
</div>
<div class="sect4">
<h5 id="_webp_mime_type">3.2.2.2. WEBP MIME Type</h5>
<div class="paragraph">
<p>A GeoPackage that contains a tile pyramid user data table that contains tile data MAY store tile_data in MIME type image/x-webp <a href="#22">[22]</a>.</p>
</div>
<div class="sect5">
<h6 id="_webp_extensions_name">3.2.2.2.1. WEBP&#8201;&#8212;&#8201;Extensions Name</h6>
<div id="_requirement-103" class="quoteblock">
<div class="title">Requirement 103</div>
<blockquote>
The "gpkg_webp" extension name SHALL be used as a gpkg_extensions table extension name column value to specify storage of tile pyramid images in WEBP format as specified in <a href="#extension_tiles_webp">Tiles Encoding WebP Extension (Normative)</a>.
</blockquote>
</div>
</div>
<div class="sect5">
<h6 id="_webp_extensions_row">3.2.2.2.2. WEBP&#8201;&#8212;&#8201;Extensions Row</h6>
<div id="_requirement-104" class="quoteblock">
<div class="title">Requirement 104</div>
<blockquote>
A GeoPackage that contains tile pyramid user data tables with tile_data columns that contain images in WEBP format SHALL contain a gpkg_extensions table that contains row records with table_name values for each such table, “tile_data” column_name values and extension_name column values of “gpkg_webp”.
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_security_considerations">4. Security Considerations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Security considerations for implementations utilizing GeoPackages are in the domain of the implementing application, deployment platform, operating system and networking environment.
The GeoPackage specification does not place any constraints on application, platform, operating system level or network security.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="abstract_test_suite"> Annex A: Conformance / Abstract Test Suite (Normative)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_base">A.1. Base</h3>
<div class="sect3">
<h4 id="_core">A.1.1. Core</h4>
<div class="sect4">
<h5 id="_sqlite_container">A.1.1.1. SQLite Container</h5>
<div class="sect5">
<h6 id="_data_11">A.1.1.1.1. Data</h6>
<div class="paragraph">
<p><strong>File Format</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/container/data/file_format</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the Geopackage is an SQLite version_3 database</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Pass if the first 16 bytes of the file contain “SQLite format 3” in ASCII.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.1.1.1 Req 1:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/container/data/file_format/application_id</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the SQLite database header application id field indicates GeoPackage version 1.0</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Pass if the application id field of the SQLite database header contains “GP10” in ASCII.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.1.1.1 Req 2:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>File Extension Name</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/container/data/file_extension_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the geopackage extension is ".gpkg"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Pass if the geopackage file extension is ".gpkg"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.1.1.2 Req 3:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>File Contents</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/container/data/file_contents</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the Geopackage only contains specified contents</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>For each gpkg_* table_name</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>PRAGMA table_info(table_name)</p>
</li>
<li>
<p>Continue if returns an empty result set</p>
</li>
<li>
<p>Fail if column definitions returned by PRAGMA table_info do not match column definitions for the table in Annex C.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Do test /opt/features/vector_features/data/feature_table_integer_primary_key</p>
</li>
<li>
<p>Do test /opt/features/vector/features/data/feature_table_one_geometry_column</p>
</li>
<li>
<p>Do test /opt/tiles/contents/data/tiles_row</p>
</li>
<li>
<p>SELECT extension_name FROM gpkg_contents</p>
</li>
<li>
<p>For each row from #4</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if the substring before the first “_” is not “gpkg”</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.1.1.3 Req 4:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/container/data/table_data_types</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the data types of GeoPackage columns include only the types specified by <a href="#table_column_data_types">[table_column_data_types]</a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p><code>SELECT table_name FROM gpkg_contents WHERE data_type = ‘features’</code></p>
</li>
<li>
<p>Not testable if returns empty set</p>
</li>
<li>
<p>For each row table name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>PRAGMA table_info(table_name)</p>
</li>
<li>
<p>Fail if returns empty set</p>
</li>
<li>
<p>For each row type column value</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Fail if value is not one of the data type names specified by <a href="#table_column_data_types">[table_column_data_types]</a></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><a href="#table_column_data_types">[table_column_data_types]</a> Req 5:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Integrity Check</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/container/data/file_integrity</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the geopackage  passes the SQLite integrity check.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Pass if PRAGMA integrity_check returns “ok"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause <a href="#file_integrity">[file_integrity]</a> Req 6:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/container/data/foreign_key_integrity</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the geopackage passes the SQLite foreign_key_check.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Pass if PRAGMA foreign_key_check() with no parameter value returns an empty result set</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause <a href="#file_integrity">[file_integrity]</a> Req 7:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
<div class="sect5">
<h6 id="_api_2">A.1.1.1.2. API</h6>
<div class="paragraph">
<p><strong>Structured Query Language</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/container/api/sql</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Test that the GeoPackage SQLite Extension provides the SQLite SQL API interface.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>sqlite3_exec(‘SELECT * FROM sqlite_master;)</p>
</li>
<li>
<p>Fail if returns an SQL error.</p>
</li>
<li>
<p>Pass otherwise</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.1.2.1 Req 8:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Every GPKG SQLite Configuration</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/container/api/every_gpkg_sqlite_config</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that a GeoPackage SQLite Extension has the Every GeoPackage SQLite Configuration compile and run time options.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>For each “SQLITE_OMIT_*” &lt;option&gt; listed at <a href="http://www.sqlite.org/compile.html#omitfeatures">http://www.sqlite.org/compile.html#omitfeatures</a></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>SELECT sqlite_compileoption_used(<em>SQLITE_OMIT_&lt;option&gt;</em>)</code></p>
</li>
<li>
<p>Fail if returns 1</p>
</li>
</ol>
</div>
</li>
<li>
<p>PRAGMA foreign_keys</p>
</li>
<li>
<p>Fail if returns 0</p>
</li>
<li>
<p>Pass otherwise</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.1.2.2 Req 9:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_spatial_reference_systems">A.1.1.2. Spatial Reference Systems</h5>
<div class="sect5">
<h6 id="_data_12">A.1.1.2.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/gpkg_spatial_ref_sys/data/table_def</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_spatial_ref_sys table exists and has the correct definition.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p><code>SELECT sql FROM sqlite_master WHERE type = 'table' AND tbl_name = 'gpkg_spatial_ref_sys'</code></p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
<li>
<p>Pass if column names and column definitions in the returned <code>CREATE TABLE statement</code> in the sql column value, including data type, nullability,  and primary key constraints match all of those in the contents of C.1 Table 18. Column order, check constraint and trigger definitions, and other column definitions in the returned sql are irrelevant.</p>
</li>
<li>
<p>Fail otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.2.1.1 Req 10:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div id="spatial_ref_sys_data_values_default" class="paragraph">
<p><strong>Table Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/gpkg_spatial_ref_sys/data_values_default</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the spatial_ref_sys table contains the required default contents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p><code>SELECT srid, auth_name, auth_srid, srtext FROM spatial_ref_sys WHERE srid = -1 returns -1 “NONE” -1 “Undefined”, AND</code></p>
</li>
<li>
<p><code>SELECT srid, auth_name, auth_srid, srtext FROM spatial_ref_sys WHERE srid = 0 returns 0 “NONE” 0 “Undefined”, AND</code></p>
</li>
<li>
<p><code>SELECT definition FROM gpkg_spatial_ref_sys WHERE organization IN (“epsg”,”EPSG”) AND organization_coordsys_id 4326</code> returns GEOGCS ["WGS 84",
DATUM ["World Geodetic System 1984",
  SPHEROID["WGS 84", 6378137, 298.257223563 , AUTHORITY["EPSG","7030"]],
  AUTHORITY["EPSG","6326"]],
PRIMEM["Greenwich", 0 , AUTHORITY["EPSG","8901"]],
UNIT["degree", 0.017453292519943278, AUTHORITY["EPSG","9102"]],
AUTHORITY["EPSG","4326"] (rounding the UNIT conversion factors to 16 decimal places, and ignoring any optional EBNF components &lt;twin axes&gt; and &lt;to wgs84&gt; and whitespace differences in the returned text)</p>
</li>
<li>
<p>Pass if tests 1-3 are met</p>
</li>
<li>
<p>Fail otherwise</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.2.1.2 Requirement 11:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/spatial_ref_sys/data_values_required</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the spatial_ref_sys table contains rows to define all srs_id values used by features and tiles in a GeoPackage.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT DISTINCT gc.srs_id AS gc_srid, srs.srs_name, srs.srs_id, srs.organization, srs.organization_coordsys_id, srs.definition FROM gpkg_contents AS gc LEFT OUTER JOIN gpkg_spatial_ref_sys AS srs ON srs.srs_id = gc.srs_id</p>
</li>
<li>
<p>Pass if no returned srs values are NULL.</p>
</li>
<li>
<p>Fail otherwise</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause Clause 1.1.2.1.2 Req 12:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_contents">A.1.1.3. Contents</h5>
<div class="sect5">
<h6 id="_data_13">A.1.1.3.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/contents/data/table_def</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_contents table exists and has the correct definition.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = 'table' AND tbl_name = 'gpkg_contents'</p>
</li>
<li>
<p>Fail if returns an empty result set.</p>
</li>
<li>
<p>Pass if the column names and column definitions in the returned CREATE TABLE statement, including data type, nullability, default values and primary, foreign and unique key constraints match all of those in the contents of C.2 Table <a href="#geometry_types_extension">[geometry_types_extension]</a>. Column order, check constraint and trigger definitions, and other column definitions in the returned sql are irrelevant.</p>
</li>
<li>
<p>Fail Otherwise</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.3.1.1 Req 13:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Table Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/contents/data/data_values_table_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the table_name column values in the gpkg_contents table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT DISTINCT gc.table_name AS gc_table, sm.tbl_name
FROM gpkg_contents AS ge LEFT OUTER JOIN sqlite_master AS sm ON gc.table_name = sm.tbl_name</p>
</li>
<li>
<p>Not testable if returns an empty result set.</p>
</li>
<li>
<p>Fail if any gpkg_contents.table_name value is NULL</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.3.1.2 Req 14:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/contents/data/data_values_last_change</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_contents table last_change column values are in ISO 8601 [29]format containing a complete date plus UTC hours, minutes, seconds and a decimal fraction of a second, with a ‘Z’ (‘zulu’) suffix indicating UTC.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT last_change from gpkg_contents.</p>
</li>
<li>
<p>Not testable if returns an empty result set.</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if format of returned value does not match yyyy-mm-ddThh:mm:ss.hhhZ</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.3.1.2 Req 15:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/base/core/contents/data/data_values_srs_id</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_contents table srs_id column values reference gpkg_spatial_ref_sys srs_id column values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>PRAGMA foreign_key_check(‘gpkg_contents’)</p>
</li>
<li>
<p>Fail if does not return an empty result set</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 1.1.3.1.2 Req 16:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_options">A.2. Options</h3>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/valid_geopackage</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that a GeoPackage contains a features or tiles table and gpkg_contents table row describing it.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>Execute test /opt/features/contents/data/features_row</p>
</li>
<li>
<p>Pass if test passed</p>
</li>
<li>
<p>Execute test /opt/tiles/contents/data/tiles_row</p>
</li>
<li>
<p>Pass if test passed</p>
</li>
<li>
<p>Fail otherwise</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2 Req 17:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="sect3">
<h4 id="_features_2">A.2.1. Features</h4>
<div class="sect4">
<h5 id="_simple_features_sql_introduction">A.2.1.1. Simple Features SQL Introduction</h5>

</div>
<div class="sect4">
<h5 id="_contents_2">A.2.1.2. Contents</h5>
<div class="sect5">
<h6 id="_data_14">A.2.1.2.1. Data</h6>
<div class="paragraph">
<p><strong>Contents Table Feature Row</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/contents/data/features_row</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_contents table_name value table exists, and is apparently a feature table for every row with a data_type column value of “features”</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>Execute test /opt/features/vector_features/data/feature_table_integer_primary_key</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.2.1.1 Req 18:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_geometry_encoding">A.2.1.3. Geometry Encoding</h5>
<div class="sect5">
<h6 id="_data_15">A.2.1.3.1. Data</h6>
<div class="paragraph">
<p><strong>BLOB Format</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/geometry_encoding/data/blob</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that geometries stored in feature table geometry columns are encoded in the StandardGeoPackageBinary format.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name AS tn, column_name AS cn FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type = ‘features’)</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT cn FROM tn</p>
</li>
<li>
<p>Not testable if none found</p>
</li>
<li>
<p>For each cn value from step a</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Fail if the first two bytes of each gc are not “GP”</p>
</li>
<li>
<p>Fail if gc.version_number is not 0</p>
</li>
<li>
<p>Fail if gc.flags.GeopackageBinary type != 0</p>
</li>
<li>
<p>Fail if ST_IsEmpty(cn value) = 1 and gc.flags.envelope != 0 and envelope values are not NaN</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.3.1.1 Req 19:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_sql_geometry_types">A.2.1.4. SQL Geometry Types</h5>
<div class="sect5">
<h6 id="_data_16">A.2.1.4.1. Data</h6>
<div class="paragraph">
<p><strong>Core Types</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/geometry_encoding/data/core_types_existing_sparse_data</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that existing basic simple feature geometries are stored in valid GeoPackageBinary format encodings.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_geometry_columns</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT table_name AS tn, column_name AS cn FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type = ‘features’),</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
<li>
<p>For each row from step 3</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT cn FROM tn;</p>
</li>
<li>
<p>For each row from step a, if bytes 2-5 of cn.wkb as uint32 in endianness of gc.wkb byte 1of cn from #1 are a geometry type value from Annex E Table 42, then</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Log cn.header values, wkb endianness and geometry type</p>
</li>
<li>
<p>If cn.wkb is not correctly encoded per ISO 13249-3 clause 5.1.46 then log fail</p>
</li>
<li>
<p>If cn.flags.E is 1 - 4 and some cn.wkbx is outside of cn.envelope.minx,maxx then log fail</p>
</li>
<li>
<p>If cn.flags.E is 1 - 4 and some gc.wkby is outside of cn.envelope.miny,maxy then log fail</p>
</li>
<li>
<p>If cn.flags.E is 2,4 and some gc.wkb.z is outside of cnenvelope.minz,maxz then log fail</p>
</li>
<li>
<p>If cn.flags.E is 3,4 and some gc.wkb.m is outside of cn.envelope.minm,maxm then log fail</p>
</li>
<li>
<p>If cn.flags.E is 5-7 then log fail</p>
</li>
<li>
<p>Otherwise log pass</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if log contanins pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.4.1.1 Req 20:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/geometry_encoding/data/core_types_all_types_test_data</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that all basic simple feature geometry types and options are stored in valid GeoPackageBinary format encodings.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>Open GeoPackage that has feature geometry values of geometry type inAnnex E, for an assortment of srs_ids, for an assortment of coordinate values, without and with z and / or m values, in both big and little endian encodings:</p>
</li>
<li>
<p>/opt/features/geometry_encoding/data/core_types_existing_sparse_data</p>
</li>
<li>
<p>Pass if log contains pass record for big and little endian GP headers containing big and little endian WKBs for 0-1 envelope contents indicator codes for every geometry type value from Annex E Table 41 without and with z and/or m values.</p>
</li>
<li>
<p>Fail otherwise</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.4.1.1 Req 20:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_geometry_columns">A.2.1.5. Geometry Columns</h5>
<div class="sect5">
<h6 id="_data_17">A.2.1.5.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/geometry_columns/data/table_def</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_geometry_columns table exists and has the correct definition.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = 'table' AND tbl_name = 'gpkg_geometry_columns'</p>
</li>
<li>
<p>Fail if returns an empty result set.</p>
</li>
<li>
<p>Pass if the column names and column definitions in the returned Create TABLE statement in the sql column value, including data type, nullability, default values and primary, foreign and unique key constraints match all of those in the contents of C.4Table 20. Column order, check constraint and trigger definitions, and other column definitions in the returned sql are irrelevant.</p>
</li>
<li>
<p>Fail otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.5.1.1 Req 21:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Table Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/geometry_columns/data/data_values_geometry_columns</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that gpkg_geometry_columns contains one row record for each geometry column in each vector feature user data table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_contents WHERE data_type = 'features'</p>
</li>
<li>
<p>Not testable  if returns an empty result set</p>
</li>
<li>
<p>SELECT table_name FROM gpkg_contents WHERE data_type = 'features' AND table_name NOT IN (SELECT table_name FROM gpkg_geometry_columns)</p>
</li>
<li>
<p>Fail if result set is not empty</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.5.1.2 Req 22:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/geometry_columns/data/data_values_table_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the table_name column values in the gpkg_geometry_columns table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>PRAGMA foreign_key_check(‘geometry_columns’)</p>
</li>
<li>
<p>Fail if returns any rows with a fourth column foreign key index value of 1 (gpkg_contents)</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.5.1.2 Req 23:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/geometry_columns/data/data_values_column_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the column_name column values in the gpkg_geometry_columns table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_geometry_columns</p>
</li>
<li>
<p>Not testable  if returns an empty result set</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>PRAGMA table_info(table_name)</p>
</li>
<li>
<p>Fail if gpkg_geometry_columns.column_name value does not equal a name column value returned by PRAGMA table_info.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.5.1.2 Req 24:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/geometry_columns/data/data_values_geometry_type_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verrify that the geometry_type_name column values in the gpkg_geometry_columns table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT DISTINCT geometry_type_name from gpkg_geometry_columns</p>
</li>
<li>
<p>Not testable  if returns an empty result set</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if a returned geometry_type_name value is not in Table 42 or Table 43 in Annex E</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.5.1.2 Req 25:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/geometry_columns/data/data_values_srs_id</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_geometry_columns table srs_id column values are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>PRAGMA foreign_key_check(‘gpkg_geometry_columns’)</p>
</li>
<li>
<p>Fail if returns any rows with a fourth column foreign key index value of 0</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.5.1.2 Req 26:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/geometry_columns/data/data_values_z</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_geometry_columns table z column values are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT z FROM gpkg_geometry_columns</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT z FROM gpkg_geometry_columns WHERE z NOT IN (0,1,2)</p>
</li>
<li>
<p>Fail if does not return an empty result set</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.5.1.2 Req 27:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/geometry_columns/data/data_values_m</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_geometry_columns table m column values are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT m FROM gpkg_geometry_columns</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT m FROM gpkg_geometry_columns WHERE m NOT IN (0,1,2)</p>
</li>
<li>
<p>Fail if does not return an empty result set</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.5.1.2 Req 28:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_vector_features_user_data_tables">A.2.1.6. Vector Features User Data Tables</h5>
<div class="sect5">
<h6 id="_data_18">A.2.1.6.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/vector_features/data/feature_table_integer_primary_key</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that every vector features user data table has an integer primary key.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_contents WERE data_type = ‘features’</p>
</li>
<li>
<p>Not testable  if returns an empty result set</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>PRAGMA table_info(table_name)</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
<li>
<p>Fail if result set does not contain one row where the pk column value is 1 and the not null column value is 1 and the type column value is “INTEGER”</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.6.1.1 Req 29:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/vector/features/data/feature_table_one_geometry_column</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that every vector features user data table has one geometry column.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_contents WERE data_type = ‘features’</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row table name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT column_name from gpkg_geometry_columns where table_name = row table name</p>
</li>
<li>
<p>Fail if returns more than one column name</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.6.1.1 Req 30:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Table Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/vector_features/data/data_values_geometry_type</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the geometry type of feature geometries are of the type or are assignable for the geometry type specified by the gpkg_geometry columns table geometry_type_name column value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name AS tn, column_name AS cn, geometry_type_name AS gt_name FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type = ‘features’)</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT DISTINCT ST_GeometryType(cn) FROM tn</p>
</li>
<li>
<p>For each row actual_type_name from step a</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>SELECT GPKG_IsAssignable(geometry_type_name, actual_type_name)</p>
</li>
<li>
<p>Fail if any returned 0</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.6.1.2 Req 31:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/features/vector_features/data/data_value_geometry_srs_id</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify the the srs_id of feature geometries are the srs_id specified for the gpkg_geometry_columns table srs_id column value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name AS tn, column_name AS cn, srs_id AS gc_srs_id FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents where data_type = ‘features’)</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT DISTINCT st_srid(cn) FROM tn</p>
</li>
<li>
<p>For each row from step a</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Fail if returnvalue not equal to gc_srs_id</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.1.6.1.2 Req 32:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="sect3">
<h4 id="_tiles_2">A.2.2. Tiles</h4>
<div class="sect4">
<h5 id="_contents_3">A.2.2.1. Contents</h5>
<div class="sect5">
<h6 id="_data_19">A.2.2.1.1. Data</h6>
<div class="paragraph">
<p><strong>Contents Table – Tiles Row</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/contents/data/tiles_row</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_contents table_name value table exists and is apparently a tiles table for every row with a data_type column value of “tiles”.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_contents WHERE data_type = “tiles”</p>
</li>
<li>
<p>Not testable  if returns empty result set</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>PRAGMA table_info(table_name)</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
<li>
<p>Fail if result set does not contain one row where the pk column value is 1 and the not null column value is 1 and the type column value is “INTEGER”and the name column value is “id”</p>
</li>
<li>
<p>Fail if result set does not contain four other rows where the name column values are “zoom_level”,”tile_column”,”tile_row”, and “tile_data”.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.2.1.1 Req 33:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_zoom_levels_2">A.2.2.2. Zoom Levels</h5>
<div class="sect5">
<h6 id="_data_20">A.2.2.2.1. Data</h6>
<div class="paragraph">
<p><strong>Zoom Times Two</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/zoom_levels/data/zoom_times_two</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that by default zoom level pixel sizes for tile matrix user data tables vary by factors of 2 between adjacent zoom levels in the tile matrix metadata table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT CASE
WHEN (SELECT tbl_name FROM sqlite_master WHERE tbl_name = <em>gpkg_extensions</em>) = <em>gpkg_extensions</em> THEN
(SELECT table_name FROM gpkg_contents WHERE data_type = <em>tiles</em> AND table_name NOT IN
 (SELECT table_name from gpkg_extensions WHERE extension_name = <em>gpkg_zoom_other</em>))
ELSE (SELECT table_name FROM gpkg_contents WHERE data_type = <em>tiles</em>)
END;</p>
</li>
<li>
<p>Not testable  if returns empty result set</p>
</li>
<li>
<p>For each row table_name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT zoom_level, pixel_x_size, pixel_y_size FROM gpkg_tile_matrix WHERE table_name = selected table name ORDER BY zoom_level ASC</p>
</li>
<li>
<p>Not testable  if returns empty result set, or only one row</p>
</li>
<li>
<p>Not testable  if there are not two rows with adjacent zoom levels</p>
</li>
<li>
<p>Fail if any pair of rows for adjacent zoom levels have pixel_x_size or pixel_y_size values that differ by other than factors of two</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.3.1.1 Req 34:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_tile_encoding_png">A.2.2.3. Tile Encoding PNG</h5>
<div class="sect5">
<h6 id="_data_21">A.2.2.3.1. Data</h6>
<div class="paragraph">
<p><strong>MIME Type PNG</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/tiles_encoding/data/mime_type_png</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that a tile matrix user data table that contains tile data that is not MIME type image/jpeg by default contains tile data in MIME type image/png.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT CASE
WHEN (SELECT tbl_name FROM sqlite_master WHERE tbl_name = 'gpkg_extensions') = 'gpkg_extensions' THEN
(SELECT table_name FROM gpkg_contents WHERE data_type = 'tiles' AND table_name NOT IN
 (SELECT table_name from gpkg_extensions WHERE extension_name IN ('gpkg_webp')))
ELSE (SELECT table_name FROM gpkg_contents WHERE data_type = 'tiles')
END;</p>
</li>
<li>
<p>Not testable if returns empty result set</p>
</li>
<li>
<p>For each row tbl_name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT tile_data FROM tbl_name</p>
</li>
<li>
<p>For each row tile_data from step a</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Pass if tile data in MIME type image/png</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Fail if no passes</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.4.1.1 Req 35:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_tile_encoding_jpeg">A.2.2.4. Tile Encoding JPEG</h5>
<div class="sect5">
<h6 id="_data_22">A.2.2.4.1. Data</h6>
<div class="paragraph">
<p><strong>MIME Type JPEG</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/tiles_encoding/data/mime_type_jpeg</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that a tile matrix user data table that contains tile data that is not MIME type image/png by default contains tile data in MIME type image/jpeg.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT CASE
WHEN (SELECT tbl_name FROM sqlite_master WHERE tbl_name = 'gpkg_extensions') = 'gpkg_extensions' THEN
(SELECT table_name FROM gpkg_contents WHERE data_type = 'tiles' AND table_name NOT IN
 (SELECT table_name from gpkg_extensions WHERE extension_name IN ('gpkg_webp')))
ELSE (SELECT table_name FROM gpkg_contents WHERE data_type = 'tiles')
END;</p>
</li>
<li>
<p>Not testable if returns empty result set</p>
</li>
<li>
<p>For each row tbl_name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT tile_data FROM tbl_name</p>
</li>
<li>
<p>For each row tile_data from step a</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Pass if tile data in MIME type image/jpeg</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Fail if no passes</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.5.1.1 Req 36:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_tile_matrix_set">A.2.2.5. Tile Matrix Set</h5>
<div class="sect5">
<h6 id="_data_23">A.2.2.5.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix_set/data/table_def</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_tile_matrix_set table exists and has the correct definition.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = 'table' AND tbl_name = 'gpkg_tile_matrix_set'</p>
</li>
<li>
<p>Fail if returns an empty result set.</p>
</li>
<li>
<p>Pass if the column names and column definitions in the returned CREATE TABLE statement in the sql column value,, including data type, nullability, default values and primary, foreign and unique key constraints match all of those in the contents of <a href="#example_feature_table_sql">[example_feature_table_sql]</a>. Column order, check constraint and trigger definitions, and other column definitions in the returned sql are irrelevant.</p>
</li>
<li>
<p>Fail otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.6.1.1 Req 37:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Table Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix_set/data/data_values_table_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that values of the gpkg_tile_matrix_set table_name column reference values in the gpkg_contents table_name column for rows with a data type of “tiles”.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_tile_matrix_set</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT table_name FROM gpkg_tile_matrix_set tms WHERE table_name NOT IN (SELECT table_name FROM gpkg_contents gc WHERE tms.table_name = gc.table_name AND gc.data_type != ‘tiles’)</p>
</li>
<li>
<p>Fail if result set contains any rows</p>
</li>
<li>
<p>Pass otherwise</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.6.1.2 Req 38:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix_set/data/data_values_row_record</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_tile_matrix_set table contains a row record for each tile pyramid  user data table .</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name AS &lt;user_data_tiles_table&gt; from gpkg_contents where data_type = ‘tiles’</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT sql FROM sqlite_master WHERE type=’table’ AND tbl_name =  <em>&lt;user_data_tiles_table&gt;</em></p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.6.1.2 Req 39:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix_set/data/data_values_srs_id</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_tile_matrix_set table srs_id column values reference gpkg_spatial_ref_sys srs_id column values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>PRAGMA foreign_key_check(‘gpkg_geometry_columns’)</p>
</li>
<li>
<p>Fail if returns any rows with a fourth column foreign key index value of 1 (gpkg_spatial_ref_sys)</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.6.1.2 Req 40:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_tile_matrix">A.2.2.6. Tile Matrix</h5>
<div class="sect5">
<h6 id="_data_24">A.2.2.6.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix/data/table_def</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_tile_matrix table exists and has the correct definition.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = 'table' AND tbl_name = 'gpkg_tile_matrix'</p>
</li>
<li>
<p>Fail if returns an empty result set.</p>
</li>
<li>
<p>Pass if the column names and column definitions in the returned CREATE TABLE statement in the sql column value,, including data type, nullability, default values and primary, foreign and unique key constraints match all of those in the contents of Annex C Table 23. Column order, check constraint and trigger definitions, and other column definitions in the returned sql are irrelevant.</p>
</li>
<li>
<p>Fail otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.7.1.1 Req 41:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Table Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix/data/data_values_table_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that values of the gpkg_tile_matrix table_name column reference values in the gpkg_contents table_name column for rows with a data type of “tiles”.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_tile_matrix</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT table_name FROM gpkg_tile_matrix tmm WHERE table_name NOT IN (SELECT table_name FROM gpkg_contents gc WHERE tmm.table_name = gc.table_name AND gc.data_type != ‘tiles’)</p>
</li>
<li>
<p>Fail if result set contains any rows</p>
</li>
<li>
<p>Pass otherwise</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.7.1.2 Req 42:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix/data/data_values_zoom_level_rows</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_tile_matrix table contains a row record for each zoom level that contains one or more tiles in each tile pyramid  user data table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name AS &lt;user_data_tiles_table&gt; from gpkg_contents where data_type = ‘tiles’</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT DISTINCT gtmm.zoom_level AS gtmm_zoom, udt.zoom_level AS udtt_zoom FROM gpkg_tile_matrix AS gtmm
LEFT OUTER JOIN &lt;user_data_tiles_table&gt; AS udtt ON udtt.zoom_level =  gtmm.zoom_level AND gtmm.t_table_name = <em>&lt;user_data_tiles_table&gt;</em></p>
</li>
<li>
<p>Fail if any gtmm_zoom column value in the result set is NULL</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.7.1.2 Req 43:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix/data/data_values_zoom_level</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that zoom level column values in the gpkg_tile_matrix table are not negative.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT zoom_level FROM gpkg_tile_matrix</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT min(zoom_level) FROM gpkg_tile_matrix_metadata.</p>
</li>
<li>
<p>Fail if less than 0.</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.7.1.2 Req 44:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix/data/data_values_matrix_width</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the matrix_width values in the gpkg_tile_matrix table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT matrix_width FROM gpkg_tile_matrix</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT min(matrix_width) FROM gpkg_tile_matrix.</p>
</li>
<li>
<p>Fail if less than 1.</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.7.1.2 Req 45:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix/data/data_values_matrix_height</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the matrix_height values in the gpkg_tile_matrix table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT matrix_height FROM gpkg_tile_matrix</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT min(matrix_height) FROM gpkg_tile_matrix.</p>
</li>
<li>
<p>Fail if less than 1.</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.7.1.2 Req 46:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix/data/data_values_tile_width</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the tile_width values in the gpkg_tile_matrix table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT tile_width FROM gpkg_tile_matrix</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT min(tile_width) FROM gpkg_tile_matrix.</p>
</li>
<li>
<p>Fail if less than 1.</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.7.1.2 Req 47:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix/data/data_values_tile_height</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the tile_height values in the gpkg_tile_matrix table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT tile_height FROM gpkg_tile_matrix</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT min(tile_height) FROM gpkg_tile_matrix.</p>
</li>
<li>
<p>Fail if less than 1.</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.7.1.2 Req 48:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix/data/data_values_pixel_x_size</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the pixel_x_size values in the gpkg_tile_matrix table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT pixel_x_size FROM gpkg_tile_matrix</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT min(pixel_x_size) FROM gpkg_tile_matrix.</p>
</li>
<li>
<p>Fail if less than 0.</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.7.1.2 Req 49:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix/data/data_values_pixel_y_size</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the pixel_y_size values in the gpkg_tile_matrix table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT pixel_y_size FROM gpkg_tile_matrix</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT min(pixel_y_size) FROM gpkg_tile_matrix.</p>
</li>
<li>
<p>Fail if less than 0.</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.7.1.2 Req 50:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/gpkg_tile_matrix/data/data_values_pixel_size_sort</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the pixel_x_size and pixel_y_size column values for zoom level column values in a gpkg_tile_matrix table sorted in ascending order are sorted in descending order, showing that lower zoom levels are zoomed “out”.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_contents WHERE data_type = ‘tiles’</p>
</li>
<li>
<p>Not testable if returns empty result set</p>
</li>
<li>
<p>For each row table_name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT zoom_level, pixel_x_size, pixel_y_size from gpkg_tile_matrix WHERE table_name = row table name ORDER BY zoom_level ASC</p>
</li>
<li>
<p>Not testable if returns empty result set</p>
</li>
<li>
<p>Fail if pixel_x_sizes are not sorted in descending order</p>
</li>
<li>
<p>Fail if pixel_y_sizes are not sorted in descending order</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if testable and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.7.1.2 Req 51:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_tile_pyramid_user_data">A.2.2.7. Tile Pyramid User Data</h5>
<div class="sect5">
<h6 id="_data_25">A.2.2.7.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/tile_pyramid/data/table_def</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that multiple tile pyramids are stored in different tiles tables with unique names containing the required columns.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT COUNT(table_name) FROM gpkg_contents WERE data_type = “tiles”</p>
</li>
<li>
<p>Fail if less than 2</p>
</li>
<li>
<p>SELECT table_name FROM gpkg_contents WHERE data_type = “tiles”</p>
</li>
<li>
<p>For each row from step 3</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>PRAGMA table_info(table_name)</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
<li>
<p>Fail if result set does not contain one row where the pk column value is 1 and the not null column value is 1 and the type column value is “INTEGER”and the name column value is “id”</p>
</li>
<li>
<p>Fail if result set does not contain four other rows where the name column values are “zoom_level”,”tile_column”,”tile_row”, and “tile_data”.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.8.1.1 Req 52:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Table Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/tile_pyramid/data/data_values_zoom_levels</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the zoom level column values in each tile pyramid user data table are within the range of zoom levels defined by rows in the gpkg_tile_matrix table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT DISTINCT table_name AS &lt;user_data_tiles_table&gt; FROM gpkg_tile_matrix</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row &lt;user_data_tiles_table&gt; from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT zoom_level FROM &lt;user_data_tiles_table&gt;</p>
</li>
<li>
<p>If result set not empty</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>SELECT MIN(gtmm.zoom_level) AS min_gtmm_zoom, MAX(gtmm.zoom_level) AS max_gtmm_zoom FROM gpkg_tile_matrix WHERE table_name = &lt;user_data_tiles_table&gt;</p>
</li>
<li>
<p>SELECT id FROM &lt;user_data_tiles_table&gt; WHERE zoom_level &lt; min_gtmm_zoom</p>
</li>
<li>
<p>Fail if result set not empty</p>
</li>
<li>
<p>SELECT id FROM &lt;user_data_tiles_table&gt; WHERE zoom_level &gt; max_gtmm_zoom</p>
</li>
<li>
<p>Fail if result set not empty</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pas and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.8.1.2 Req 53:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/tile_pyramid/data/data_values_tile_column</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the tile_column column values for each zoom level value in each tile pyramid user data table are within the range of columns defined by rows in the gpkg_tile_matrix table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT DISTINCT table_name AS &lt;user_data_tiles_table&gt; FROM gpkg_tile_matrix</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row &lt;user_data_tiles_table&gt; from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT DISTINCT gtmm.zoom_level AS gtmm_zoom, gtmm.matrix_width AS gtmm_width, udt.zoom_level AS udt_zoom, udt.tile_column AS udt_column FROM gpkg_tile_matrix AS gtmm LEFT OUTER JOIN &lt;user_data_tiles_table&gt; AS udt ON udt.zoom_level = gtmm.zoom_level AND gtmm.t_table_name = <em>&lt;user_data_tiles_table&gt;</em> AND (udt_column &lt; 0 OR udt_column &gt; (gtmm_width - 1))</p>
</li>
<li>
<p>Fail if any udt_column value in the result set is not NULL</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.8.1.2 Req 54:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/tiles/tile_pyramid_data/data_values_tile_row</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the tile_row column values for each zoom level value in each tile pyramid user data table are within the range of rows defined by rows in the gpkg_tile_matrix table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT DISTINCT table_name AS &lt;user_data_tiles_table&gt; FROM gpkg_tile_matrix</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row &lt;user_data_tiles_table&gt; from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT DISTINCT gtmm.zoom_level AS gtmm_zoom, gtmm.matrix_height AS gtmm_height, udt.zoom_level AS udt_zoom, udt.tile_row AS udt_row FROM gpkg_tile_matrix AS gtmm LEFT OUTER JOIN &lt;user_data_tiles_table&gt;  AS udt ON udt.zoom_level = gtmm.zoom_level AND gtmm.t_table_name = ‘&lt;user_data_tiles_table&gt; ' AND (udt_row &lt; 0 OR udt_row &gt; (gtmm_height - 1))</p>
</li>
<li>
<p>Fail if any udt_row value in the result set is not NULL</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.2.8.1.2 Req 55:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="sect3">
<h4 id="_schema_3">A.2.3. Schema</h4>
<div class="sect4">
<h5 id="_data_columns">A.2.3.1. Data Columns</h5>
<div class="sect5">
<h6 id="_data_26">A.2.3.1.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_columns/data/data_table_def</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_data_columns table exists and has the correct definition.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = 'table' AND tbl_name = 'gpkg_data_columns'</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
<li>
<p>Pass if column names and column definitions in the returned CREATE TABLE statement in the sql column value, including data type, nullability, default values and primary, foreign and unique key constraints match all of those in the contents of Annex C8 Table 30. Column order, check constraint and trigger definitions, and other column definitions in the returned sql are irrelevant.</p>
</li>
<li>
<p>Fail otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.3.2.1.1 Req 56:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_columns/data/data_values_column_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that for each gpkg_data_columns row, the column_name value is the name of a column in the table_name table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_data_columns</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>PRAGMA table_info(table_name)</p>
</li>
<li>
<p>Fail if gpkg_data_columns.column_name value does not equal a name column value returned by PRAGMA table_info.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.3.2.1.2 Req 58:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_columns/data/data_values_constraint_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that for each gpkg_data_columns row, the constraint_name value is either NULL or a constraint_name column value from the gpkg_data_column_constraints table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT constraint_name AS cn FROM gpkg_data_columns</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each NOT NULL cn value from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT constraint_name FROM gpkg_data_column_constraints WHERE constraint_name = cn</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.3.2.1.2 Req 59:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_columns/data/data_values_constraint_type</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that for each gpkg_data_columns row, if the constraint_name value is NOT NULL then the constraint_type column value contains a constraint_type column value from the gpkg_data_column_constraints table for a row with a matching constraint_name value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT constraint_name AS cn, constraint_type AS ct FROM gpkg_data_columns</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each NOT NULL cn value from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if ct is NULL</p>
</li>
<li>
<p>If ct NOT NULL, SELECT constraint_type FROM gpkg_data_column_constraints WHERE constraint_name = cn AND constraint_type = ct</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.3.2.1.2 Req 59:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_data_column_constraints">A.2.3.2. Data Column Constraints</h5>
<div class="sect5">
<h6 id="_data_27">A.2.3.2.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_column_constraints/data/table_def</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_data_column_constraints table exists and has the correct definition.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = 'table' AND tbl_name = 'gpkg_data_column_constraints'</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
<li>
<p>Pass if column names and column definitions in the returned CREATE TABLE statement in the sql column value, including data type, nullability, default values and primary, foreign and unique key constraints match all of those in the contents of Annex C Table 31. Column order, check constraint and trigger definitions, and other column definitions in the returned sql are irrelevant.</p>
</li>
<li>
<p>Fail otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.3.3.1.1 Req 60:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_column_constraints/data/data_values_constraint_type</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_data_column_constraints constraint_type column values are one of "range", "enum", or "glob".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT constraint_type AS ct FROM gpkg_data column_constraints</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each ct value returned by step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if ct NOT IN ("range", "enum", "glob").</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 0 Req 61:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_column_constraints/data/data_values_constraint_names_unique</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_data_column_constraints constraint_name column values for constraint_type values  of "range", or "glob" are unique.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>For each SELECT DISTINCT constraint_name AS cn FROM gpkg_data_column_constraints  WHERE constraint_type IN (‘range’, ‘glob’)</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT count(*) FROM gpkg_data column_constraints WHERE constraint_name = cn</p>
</li>
<li>
<p>Fail if count &gt; 1</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.3.3.1.2 Req 62:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_column_constraints/data/data_values_value_for_range</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_data_column_constraints value column values are NULL for rows with a constraint_type value of "range".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT constraint_type AS ct, value AS v FROM gpkg_data column_constraints WHERE constraint_type = ‘range’</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each v value returned by step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if v IS NOT NULL</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.3.3.1.2 Req 63:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_column_constraints/data/data_values_min_max_for_range</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_data_column_constraints min column values are NOT NULL and less than the max column values for rows with a constraint_type value of "range".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT min, max FROM gpkg_data column_constraints WHERE constraint_type = ‘range’</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each set of min and max values returned by step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if min IS NULL</p>
</li>
<li>
<p>Fail if max IS NULL</p>
</li>
<li>
<p>Fail if min &gt;= max</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.3.3.1.2 Req 64:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_column_constraints/data/data_values_inclusive_for_range</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_data_column_constraints minIsInclusive and maxIsInclusive  column values are NOT NULL and either 0 or 1 for rows with a constraint_type value of "range".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT minIsInclusive, maxIsInclusive FROM gpkg_data column_constraints WHERE constraint_type = ‘range’</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each set of values returned by step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if minIsInclusive IS NULL</p>
</li>
<li>
<p>Fail if maxIsInclusive IS NULL</p>
</li>
<li>
<p>Fail if minIsInclusive is NOT IN (0,1)</p>
</li>
<li>
<p>Fail if maxIsInclusive is NOT IN (0,1)</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.3.3.1.2 Req 65:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_column_constraints/data/data_values_min_max_inclusive_for_enum_glob</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_data_column_constraints min, max, minIsInclusive and maxIsInclusive column values are NULL for rows with a constraint_type value of "enum" or “glob”.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT min, max, minIsInclusive, maxIsInclusive FROM gpkg_data column_constraints WHERE constraint_type  IN (‘enum’,’glob)</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each set of values returned by step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if min IS NOT NULL</p>
</li>
<li>
<p>Fail if max IS NOT NULL</p>
</li>
<li>
<p>Fail if minIsInclusive IS NOT NULL</p>
</li>
<li>
<p>Fail if maxIsInclusive IS NOT NULL</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.3.3.1.2 Req 66:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/schema/data_column_constraints/data/data_values_value_for_enum_glob</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_data_column_constraints value column values are NOT NULL for rows with a constraint_type value of "enum" or “glob”.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT value FROM gpkg_data column_constraints WHERE constraint_type  IN (‘enum’,’glob)</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each value returned by step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if value IS NULL</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.3.3.1.2 Req 67:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="sect3">
<h4 id="_metadata_2">A.2.4. Metadata</h4>
<div class="sect4">
<h5 id="_metadata_table_2">A.2.4.1. Metadata Table</h5>
<div class="sect5">
<h6 id="_data_28">A.2.4.1.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/metadata/metadata/data/table_def</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_metadata table exists and has the correct definition.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = 'table' AND tbl_name = 'gpkg_metadata'</p>
</li>
<li>
<p>Fail if returns an empty result set.</p>
</li>
<li>
<p>Pass if the column names and column definitions in the returned Create TABLE statement in the sql column value, including data type, nullability, default values and primary, foreign and unique key constraints match all of those in the contents of Table 33. Column order, check constraint and trigger definitions, and other column definitions in the returned sql are irrelevant.</p>
</li>
<li>
<p>Fail otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.4.2.1.1 Req 68:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Table Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/metadata/metadata/data/data_values_md_scope</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that each of the md_scope column values in a gpkg_metadata table is one of the name column values from Table 15 in clause 2.4.2.1.2.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT md_scope FROM gpkg_metadata</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row returned from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if md_scope value not one of the name column values from Table 15 in clause 2.4.2.1.2</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.4.2.1.2 Req 69:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capabilities</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_metadata_reference_table_2">A.2.4.2. Metadata Reference Table</h5>
<div class="sect5">
<h6 id="_data_29">A.2.4.2.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/metadata/metadata_reference/data/table_def</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_metadata_reference table exists and has the correct definition.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = 'table' AND tbl_name = 'gpkg_metadata_reference'</p>
</li>
<li>
<p>Fail if returns an empty result set.</p>
</li>
<li>
<p>Pass if the column names and column definitions in the returned Create TABLE statement in the sql column value, including data type, nullability, default values and primary, foreign and unique key constraints match all of those in the contents of Table 33.  Column order, check constraint and trigger definitions, and other column definitions in the returned sql are irrelevant.</p>
</li>
<li>
<p>Fail otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.4.3.1.1 Req 70:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/metadata/metadata_reference/data/data_values_reference_scope</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that gpkg_metadata_reference table reference_scope column values are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT reference_scope FROM gpkg_metadata_reference</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT reference_scope FROM gpkg_metadata_reference WHERE reference_scope NOT IN (‘geopackage’,’table’,’column’,’row’,’row/col’)</p>
</li>
<li>
<p>Fail if does not return an empty result set</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.4.3.1.2 Req 71:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/metadata/metadata_reference/data/data_values_table_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that gpkg_metadata_reference table_name column values are NULL for rows with reference_scope values of ‘geopackage’, and reference gpkg_contents table_name values for all other reference_scope values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_metadata_reference</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT table_name FROM gpkg_metadata_reference WHERE reference_scope = 'geopackage'</p>
</li>
<li>
<p>Fail if result set contains any non-NULL values</p>
</li>
<li>
<p>SELECT table_name FROM metadata_reference WHERE reference_scope != 'geopackage' AND table_name NOT IN (SELECT table_name FROM gpkg_contents)</p>
</li>
<li>
<p>Fail if result set is not empty</p>
</li>
<li>
<p>Pass otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.4.3.1.2 Req 72:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/metadata/metadata_reference/data/data_values_column_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that gpkg_metadata_reference column_name column values are NULL for rows with reference scope values of ‘geopackage’, ‘table’, or ‘row’, and contain the name of a column in table_name table for other reference scope values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT column_name FROM gpkg_metadata_reference</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT column_name FROM gpkg_metadata_reference WHERE reference_scope IN (<em>geopackage</em>, ‘table’, ‘row’)</p>
</li>
<li>
<p>Fail if result set contains any non-NULL values</p>
</li>
<li>
<p>SELECT &lt;table_name&gt;, &lt;column_name&gt; FROM metadata_reference WHERE reference_scope NOT IN (<em>geopackage</em>, ‘table’, ‘row’)</p>
</li>
<li>
<p>For each row from step 5</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = 'table' AND tbl_name = '&lt;table_name&gt;'</p>
</li>
<li>
<p>Fail if returns an empty result set.</p>
</li>
<li>
<p>Fail if the one of the column names in the returned sql Create TABLE statement is not  &lt;column_name&gt;</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.4.3.1.2 Req 73:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/metadata/metadata_reference/data/data_values_row_id_value</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that gpkg_metadata_reference row_id_value column values are NULL for rows with reference scope values of ‘geopackage’, ‘table’, or ‘row’, and contain the ROWID of a row in the table_name for other reference scope values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT row_id_value FROM gpkg_metadata_reference</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT row_id_value FROM gpkg_metadata_reference WHERE reference_scope IN (<em>geopackage</em>, ‘table’, ‘row’)</p>
</li>
<li>
<p>Fail if result set contains any non-NULL values</p>
</li>
<li>
<p>For each SELECT &lt;table_name&gt;, &lt;row_id_value&gt; FROM gpkg_metadata_reference WHERE reference_scope NOT IN (<em>geopackage</em>, ‘table’, ‘row’)</p>
</li>
<li>
<p>For each row from step 5</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT * FROM &lt;table_name&gt; WHERE ROWID = &lt;row_id_value&gt;</p>
</li>
<li>
<p>Fail if result set is empty</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.4.3.1.2 Req 74:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/metadata/metadata_reference/data/data_values_timestamp</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that every gpkg_metadata_reference table row timestamp column value is in ISO 8601 UTC format.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT timestamp from gpkg_metadata_reference.</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if format of returned value does not match yyyy-mm-ddThh:mm:ss.hhhZ</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.4.3.1.2 Req 75:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/metadata/metadata_reference/data/data_values_md_file_id</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that every gpkg_metadata_reference table row md_file_id column value references a gpkg_metadata id column value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>PRAGMA foreign_key_check(‘geometry_columns’)</p>
</li>
<li>
<p>Fail if returns any rows with a fourth column foreign key index value of 0</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.4.3.1.2 Req 76:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/metadata/metadata_reference/data/data_values_md_parent_id</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that every gpkg_metadata_reference table row md_parent_id column value that is not null is an id column value from the gpkg_metadata_table that is not equal to the md_file_id column value for that row.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT md_file_id FROM gpkg_metadata_reference</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT gmr.md_file_id, gmr.md_parent_id FROM gpkg_metadata_reference AS gmr WHERE gmr.md_file_id == gmr.md_parent_id</p>
</li>
<li>
<p>Fail if result set is not empty</p>
</li>
<li>
<p>SELECT gmr.md_file_id, gmr.md_parent_id, gm.id FROM gpkg_metadata_reference  AS gmr LEFT OUTER JOIN gpkg_metadata gm ON gmr.md_parent_id =gm.id</p>
</li>
<li>
<p>Fail if any result set gm.id values are NULL</p>
</li>
<li>
<p>Pass otherwise</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.4.3.1.2 Req 77:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="sect3">
<h4 id="_extension_mechanism_2">A.2.5. Extension Mechanism</h4>
<div class="sect4">
<h5 id="_extensions_2">A.2.5.1. Extensions</h5>
<div class="sect5">
<h6 id="_data_30">A.2.5.1.1. Data</h6>
<div class="paragraph">
<p><strong>Table Definition</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/extension_mechanism/extensions/data/table_def</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that a gpkg_extensions table exists and has the correct definition.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = 'table' AND tbl_name = 'gpkg_extensions'</p>
</li>
<li>
<p>Fail if returns an empty result set.</p>
</li>
<li>
<p>Pass if the column names and column definitions in the returned Create TABLE statement in the sql column value, including data type, nullability, default values and primary, foreign and unique key constraints match all of those in the contents of Table 36. Column order, check constraint and trigger definitions, and other column definitions in the returned sql are irrelevant.</p>
</li>
<li>
<p>Fail otherwise.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.5.2.1.1 Req 78:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Table Data Values</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/extension_metchanism/extensions/data/data_values_for_extensions</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that every extension of a GeoPackage is registered in a row in the gpkg_extensions table</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>For each SELECT DISTINCT geometry_type_name FROM geometry_columns</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if geometry_type_name IN Annex E Table 43 and gpkg_extensions does not contain a row where extension_name = gpkg_geom_&lt;geometry_type_name&gt;</p>
</li>
<li>
<p>Fail if geometry_type_name NOT IN Annex E Table 42 or Table 43 and gpkg_extensions does not contain a row where the extension_name does not begin with “gpkg” and the extension_name ends with “<em>geom</em>&lt;geometry_type_name&gt;</p>
</li>
</ol>
</div>
</li>
<li>
<p>For each SELECT tbl_name FROM sqlite_master WHERE tbl_name LIKE ‘rtree_%’</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if gpkg_extensions does not contain a row where extension_name = “gpkg_rtree_index”</p>
</li>
</ol>
</div>
</li>
<li>
<p>For each SELECT tbl_name FROM sqlite_master WHERE name LIKE ‘fgti_%’</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if gpkg_extensions does not contain a row where extension_name = “gpkg_geometry_type_trigger”</p>
</li>
</ol>
</div>
</li>
<li>
<p>For each SELECT tbl_name FROM sqlite_master WHERE name LIKE ‘fgsi_%’</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if gpkg_extensions does not contain a row where extension_name = “gpkg_srs_id_trigger”</p>
</li>
</ol>
</div>
</li>
<li>
<p>Do test / reg_ext/tiles/zoom_levels/data/zoom_other_ext_row</p>
</li>
<li>
<p>Do test /reg_ext/tiles/tile_encoding_webp/data/webp_ext_row</p>
</li>
<li>
<p>Do test /reg_ext/tiles/tile_encoding_webp/data/tiff_ext_row</p>
</li>
<li>
<p>Do test /reg_ext/tiles/tile_encoding_webp/data/nitf_ext_row</p>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.5.2.1.2 Req 79:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/extension_metchanism/extensions/data/data_values_table_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the table_name column values in the gpkg_extensions table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_extensions</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row from step one</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail if table_name value is NULL and column_name value is not NULL.</p>
</li>
<li>
<p>SELECT DISTINCT ge.table_name AS ge_table, sm.tbl_name FROM gpkg_extensions AS ge LEFT OUTER JOIN sqlite_master AS sm ON ge.table_name = sm.tbl_name</p>
</li>
<li>
<p>Log pass if every row ge.table_name = sm.tbl_name (MAY both be NULL).</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.5.2.1.2 Req 80:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/extension_metchanism/extensions/data/data_values_column_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the column_name column values in the gpkg_extensions table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_extensions</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT table_name, column_name FROM gpkg_extensions WHERE table_name IS NOT NULL AND column_name IS NOT NULL</p>
</li>
<li>
<p>Pass if returns an empty result set</p>
</li>
<li>
<p>For each row from step 3</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>PRAGMA table_info(table_name)</p>
</li>
<li>
<p>Fail if gpkg_extensions.column_name value does not equal a name column value returned by PRAGMA table_info.</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.5.2.1.2 Req 81:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/extension_mechanism/extensions/data/data_values_extension_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the extension_name column values in the gpkg_extensions table are valid.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT extension_name FROM gpkg_extensions</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row returned from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Log pass if extension_name is one of those listed in Annex J or Annex L through Annex P.</p>
</li>
<li>
<p>Separate extension_name into &lt;author&gt; and &lt;extension&gt; at the first “_”</p>
</li>
<li>
<p>Fail if &lt;author&gt; is “gpkg”</p>
</li>
<li>
<p>Fail if &lt;author&gt; contains characters other than [a-zA-Z0-9]</p>
</li>
<li>
<p>Fail if &lt;extension&gt; contains characters other than [a-zA-Z0-9_]</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.5.2.1.2 Req 82:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/extension_mechanism/extensions/data/data_values_definition</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the definition column value contains or references extension documentation</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT definition FROM gpkg_extensions</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row returned from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Inspect if definition value is not like “Annex %”, or “http%” or mailto:% or “Extension Title%”</p>
</li>
<li>
<p>Fail if definition value does not contain or reference extension documentation</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.5.2.1.2 Req 83:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/opt/extension_mechanism/extensions/data/data_values_scope</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the scope column value is “read-write” or “write-only”</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT scope FROM gpkg_extensions</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row returned from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Fail is value is not “read-write” or “write-only”</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 2.5.2.1.2 Req 84:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_registered_extensions_2">A.3. Registered Extensions</h3>
<div class="sect3">
<h4 id="_features_3">A.3.1. Features</h4>
<div class="sect4">
<h5 id="_geometry_types">A.3.1.1. Geometry Types</h5>
<div class="sect5">
<h6 id="_data_31">A.3.1.1.1. Data</h6>
<div class="paragraph">
<p><strong>GeoPackage Extension Types</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_encoding/data/geopackage_extension_types/existing_sparse_data</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that existing extended non-linear geometry types are stored in valid StandardGeoPackageBinary format encodings.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_geometry_columns</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT table_name AS tn, column_name AS cn FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type = ‘features’),</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
<li>
<p>For each row from step 3</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT cn FROM tn;</p>
</li>
<li>
<p>For each row from step a, log fail if GeoPackageBinary “X” type flag is 1</p>
</li>
<li>
<p>For each row from step a, if bytes 2-5 of cn.wkb as uint32 in endianness of gc.wkb byte 1of cn from #1 are a geometry type value from Annex E Table 43, then</p>
</li>
<li>
<p>Log cn.header values, wkb endianness and geometry type
ii. If cn.wkb is not correctly encoded per ISO 13249-3 clause 5.1.46 then log fail
iii. If cn.flags.E is 1 - 4 and some cn.wkbx is outside of cn.envelope.minx,maxx then log fail
iv. If cn.flags.E is 1 - 4 and some gc.wkby is outside of cn.envelope.miny,maxy then log fail</p>
</li>
<li>
<p>If cn.flags.E is 2,4 and some gc.wkb.z is outside of cnenvelope.minz,maxz then log fail
vi. If cn.flags.E is 3,4 and some gc.wkb.m is outside of cn.envelope.minm,maxm then log fail
vii. If cn.flags.E is 5-7 then log fail
viii. Otherwise log pass</p>
</li>
</ol>
</div>
</li>
<li>
<p>Log pass if log contains pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.1.1.1 Req 85:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_encoding/data/geopackage_extension_types/all_types_test_data</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that all extended non-linear geometry types and options are stored in valid GeoPackageBinary format encodings.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>Open GeoPackage that has feature geometry values of geometry type in Annex E, for an assortment of srs_ids, for an assortment of coordinate values, without and with z and / or m values, in both big and little endian encodings:</p>
</li>
<li>
<p>/reg_ext/features/geometry_encoding/data/extension_types_existing_sparse_data</p>
</li>
<li>
<p>Pass if log contains pass record for big and little endian GP headers containing big and little endian WKBs for 0-1 envelope contents indicator codes for every geometry type value from Annex E Table 43 without and with z and/or m values.</p>
</li>
<li>
<p>Fail otherwise</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.1.1.1 Req 85:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>GeoPackage Geometry Types&#8201;&#8212;&#8201;Extensions Name</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_encoding/data/geopackage_extension_types/extension_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that an extension name in the form gpkg_geom_&lt;gname&gt; is defined for each &lt;gname&gt; extension geometry type from Annex E Table 43  used in a GeoPackage.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type  == ‘features'))</p>
</li>
<li>
<p>Not testable if result set is empty</p>
</li>
<li>
<p>For each row result set table_name, column_name from step 3</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT result_set_column_name FROM result_set_table_name</p>
</li>
<li>
<p>For each geometry column value from step a</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>If the first two bytes of each geometry column value are “GP”, then</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>/opt/extension_mechanism/extensions/data/table_def</p>
</li>
<li>
<p>Fail if failed</p>
</li>
<li>
<p>SELECT ST_GeometryType(geometry column value) AS &lt;gtype&gt;;</p>
</li>
<li>
<p>SELECT extension_name FROM gpkg_extensions WERE table_name = result_set_table_name AND column_name = result_set_column_name AND extension_name = 'gpkg_geom_' || &lt;gtype&gt;</p>
<div class="olist upperroman">
<ol class="upperroman" type="I">
<li>
<p>Fail if result set is empty</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.1.1.2 Req 86:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>GeoPackage Geometry Types&#8201;&#8212;&#8201;Extensions Row</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_encoding/data/geopackage_extension_types/extension_row</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_extensions table contains a row with an extension_name in the form gpkg_geom_&lt;gname&gt; for each table_name and column_name in the gpkg_geometry_columns table with a &lt;gname&gt; geometry_type_name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>/reg_ext/features/geometry_encoding/data/extension_name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.1.1.3 Req 87:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_user_defined_geometry_types">A.3.1.2. User-Defined Geometry Types</h5>
<div class="sect5">
<h6 id="_data_32">A.3.1.2.1. Data</h6>
<div class="paragraph">
<p><strong>Extensions Encoding</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_encoding/data/user_defined-geometry_types/existing_sparse_data</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that existing extended geometry types not listed in Annex E are stored in valid ExtendedGeoPackageBinary format encodings.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_geometry_columns</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>SELECT table_name AS tn, column_name AS cn FROM gpkg_geometry_columns WHERE geometry_type_name NOT IN (all geometry types listed in Annex E) AND table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type = ‘features’),</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
<li>
<p>For each row from step 3</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT cn FROM tn;</p>
</li>
<li>
<p>For each row from step a,</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>log fail if GeoPackageBinary “X” type flag is 0</p>
</li>
<li>
<p>Otherwise log pass</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Log pass if log contains pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.1.1.1 Req 88:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Extensions Name</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_encoding/data/user_defined_geometry_types/extension_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that an extension name in the form &lt;author&gt;_geom_&lt;gname&gt; is defined for each extended geometry type not listed in Annex E used in a GeoPackage.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type  == 'features'))</p>
</li>
<li>
<p>Not testable if result set is empty</p>
</li>
<li>
<p>For each row result set table_name, column_name from step 3</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT result_set_column_name FROM result_set_table_name</p>
</li>
<li>
<p>For each geometry column value from step a</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>If the first two bytes of each geometry column value are “GP”, then</p>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>/opt/extension_mechanism/extensions/data/table_def</p>
</li>
<li>
<p>Fail if failed</p>
</li>
<li>
<p>SELECT ST_GeometryType(geometry column value) AS &lt;gtype&gt;;</p>
</li>
<li>
<p>SELECT extension_name FROM gpkg_extensions WERE table_name = result_set_table_name AND column_name = result_set_column_name AND extension_name NOT LIKE ‘gpkg_%’ and extension_name  LIKE '%<em>geom</em>' || &lt;gtype&gt;</p>
<div class="olist upperroman">
<ol class="upperroman" type="I">
<li>
<p>Fail if result set is empty</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.1.1.2 Req 89:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Extensions Row</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_encoding/data/user_defined_geometry_types/extension_row</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_extensions table contains a row with an extension_name in the form &lt;author&gt;_geom_&lt;gname&gt; for each table_name and column_name in the gpkg_geometry_columns table with a &lt;gname&gt; geometry_type_name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Do test /reg_ext/features/geometry_encoding/data/extension_encoding/extension_name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.1.1.3 Req 90:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Geometry Columns Row</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_encoding/data/user_defined_geometry_types/geometry_columns_row</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the gpkg_geometry_columns table contains a row with a geometry_type_name  in the form &lt;author&gt;_geom_&lt;gname&gt; for each feature table that contains user-defined geometry types specified in the gpkg_extensions table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT extension_name FROM gpkg_extensions WHERE extension_name LIKE ‘%<em>geom</em>%’ AND extension_name NOT LIKE ‘gpkg_geom_%’</p>
</li>
<li>
<p>FOR EACH extension_name from #1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT * FROM gpkg_geometry_columns WHERE geometry_type_name = extension_name</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no fails.</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.2.1.4 Req 91:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_spatial_indexes">A.3.1.3. Spatial Indexes</h5>
<div class="sect5">
<h6 id="_data_33">A.3.1.3.1. Data</h6>
<div class="paragraph">
<p><strong>Spatial Indexes Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/spatial_indexes/implementation</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify the correct implementation of spatial indexes on feature table geometry columns.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type  == ‘features'))</p>
</li>
<li>
<p>Not testable if result set is empty</p>
</li>
<li>
<p>For each row table_name, column_name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT sql FROM sqlite_master WHERE tbl_name = ‘rtree_’ || result_set_table_name || ‘_’ || result_set_column_name</p>
</li>
<li>
<p>Not testable if result set is empty</p>
</li>
<li>
<p>Fail if returned sql != ‘CREATE VIRTUAL TABLE rtree_’ ’ || result_set_table_name || ‘_’ || result_set_column_name || USING rtree(id, minx, maxx, miny, maxy)</p>
</li>
<li>
<p>SELECT sql FROM sqlite_master WHERE type = ‘trigger’ AND tname = ‘rtree_’ || result_set_table_name || ‘_’ || result_set_column_name || ‘_insert’</p>
</li>
<li>
<p>Fail if returned sql != result of populating insert triggers template in Annex L using result_set_table_name for &lt;t&gt; and result_set_column_name for &lt;c&gt;</p>
</li>
<li>
<p>SELECT sql FROM sqlite_master WHERE type = ‘trigger’ AND name LIKE ‘rtree_’ || result_set_table_name || ‘_’ || result_set_column_name || ‘_update%’</p>
</li>
<li>
<p>Fail if returned sql != result of populating 4 update triggers templates in Annex L using result_set_table_name for &lt;t&gt; and result_set_column_name for &lt;c&gt;</p>
</li>
<li>
<p>SELECT sql FROM sqlite_master WHERE type=’trigger’ AND name = ‘rtree_’ || result_set_table_name || ‘_’ || result_set_column_name || ‘_delete’</p>
</li>
<li>
<p>Fail if returned sql != result of populating delete trigger template in Annex L using result_set_table_name for &lt;t&gt; and result_set_column_name for &lt;c&gt;</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.3.1.1 Req 92:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/spatial_indexes/implementation/sql_functions</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify the correct implementation of sql functions used in spatial indexes on feature table geometry columns.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>Open Geometry Test Data Set GeoPackage with GeoPackage SQLite Extension</p>
</li>
<li>
<p>For each Geometry Test Data Set &lt;gtype_test&gt; data table row for each geometry type in Annex E, for an assortment of srs_ids, for an assortment of coordinate values including empty geometries, without and with z and / or m values, in both big and little endian encodings:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT ‘Fail’ FROM &lt;gtype_test&gt; WHERE ST_IsEmpty(geom.) != empty</p>
</li>
<li>
<p>SELECT ‘Fail’ FROM &lt;gtype_test&gt;  WHERE ST_MinX(geom) != minx</p>
</li>
<li>
<p>SELECT ‘Fail’ FROM &lt;gtype_test&gt;  WHERE ST_MaxX(geom) != maxx</p>
</li>
<li>
<p>SELECT ‘Fail’ FROM &lt;gtype_test&gt;  WHERE ST_MinY(geom) != miny</p>
</li>
<li>
<p>SELECT ‘Fail’ FROM &lt;gtype_test&gt;  WHERE ST_MaxY(geom) != maxy
..</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no ‘Fail’ selected from step 2</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.3.1.1 Req 92:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Spatial Indexes – Extensions Name</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/spatial_indexes/extension_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the “gpkg_rtree_index” extension name is used to register spatial index extensions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type  == ‘features'))</p>
</li>
<li>
<p>Not testable if result set is empty</p>
</li>
<li>
<p>For each row table_name, column_name from step 3</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT sql FROM sqlite_master WHERE tbl_name = ‘rtree_’ || result_set_table_name || ‘_’ || result_set_column_name</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>/opt/extension_mechanism/extensions/data/table_def</p>
</li>
<li>
<p>Fail if failed</p>
</li>
<li>
<p>SELECT extension_name from gpkg_extensions WHERE table_name = result_set_table_name AND column_name = result_set_column_name</p>
</li>
<li>
<p>Log pass if result is “gpkg_rtree_index”</p>
</li>
<li>
<p>Fail otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.3.1.2 Req 93:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Spatial Indexes – Extensions Row</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/spatial_indexes/extension_row</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that spatial index extensions are registered using the “gpkg_rtree_index” name in the gpkg_extensions table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>/reg_ext/features/spatial_indexes/extension_name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.3.1.3 Req 94:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_geometry_type_triggers_2">A.3.1.4. Geometry Type Triggers</h5>
<div class="sect5">
<h6 id="_data_34">A.3.1.4.1. Data</h6>
<div class="paragraph">
<p><strong>Geometry Type Triggers Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_type_triggers/implementation</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that user feature data table geometry type triggers are implemented correctly.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type  == ‘features'))</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>For each row table_name, column_name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = ‘trigger’ AND tbl_name = ‘fgti_’ || result_set_table_name || ‘_’ || result_set_column_name</p>
</li>
<li>
<p>Not testable if returns an empty result set</p>
</li>
<li>
<p>Fail if sql != result of populating the first trigger template in Annex M with &lt;t&gt; as result_set_table_name and &lt;c&gt; as result_set_column_name</p>
</li>
<li>
<p>SELECT sql FROM sqlite_master WHERE type = ‘trigger’ AND tbl_name = ‘fgtu_’ || result_set_table_name || ‘_’ || result_set_column_name</p>
</li>
<li>
<p>Fail if sql != result of populating the second trigger template in Annex M with &lt;t&gt; as result_set_table_name and &lt;c&gt; as result_set_column_name</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.4.1.1 Req 95:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_type_triggers/implementation/sql_functions</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify the correct implementation of sql functions used in geometry type triggers on feature table geometry columns.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>Open Geometry Test Data Set GeoPackage with GeoPackage SQLite Extension</p>
</li>
<li>
<p>For each Geometry Test Data Set &lt;gtype_test&gt; data table row for each assignable (gtype, atype) and non-assignable (ntype, atype) combination of geometry type in Annex E, for an assortment of srs_ids, for an assortment of coordinate values, without and with z and / or m values, in both big and little endian encodings:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT ‘Fail’ FROM &lt;gtype_test&gt; WHERE GPKG_IsAssignable(gtype, atype) =0</p>
</li>
<li>
<p>SELECT ‘Fail’ FROM &lt;gtype_test&gt; WHERE GPKG_IsAssignable(ntype, atype) = 1</p>
</li>
<li>
<p>SELECT ‘Fail’ FROM &lt;gtype_test&gt; WHERE ST_GeometryType(geom) != atype</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no ‘Fail’ selected from step 2</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.4.1.1 Req 95:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Geometry Type Triggers – Extensions Name</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_type_triggers/extension_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the “gpkg_geometry_type_trigger” extension name is used to register geometry type triggers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type  == ‘features'))</p>
</li>
<li>
<p>Not testable if result set is empty</p>
</li>
<li>
<p>For each row table_name, column_name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = ‘trigger’ AND tbl_name = ‘fgti_’ || result_set_table_name || ‘_’ || result_set_column_name</p>
</li>
<li>
<p>Not testable if result set is empty</p>
</li>
<li>
<p>/opt/extension_mechanism/extensions/data/table_def</p>
</li>
<li>
<p>Fail if failed</p>
</li>
<li>
<p>SELECT extension_name from gpkg_extensions WHERE table_name = result_set_table_name AND column_name = result_set_column_name</p>
</li>
<li>
<p>Log pass if result is “gpkg_geometry_type_trigger”</p>
</li>
<li>
<p>Fail otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.4.1.2 Req 96:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Geometry Type Triggers – Extensions Row</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/geometry_type_triggers/extension_row</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that geometry type triggers are registered using the “gpkg_geometry_type_trigger” extension name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Do test /reg_ext/features/geometry_type_triggers/extension_name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.4.1.3 Req 97:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_srs_id_triggers_2">A.3.1.5. SRS_ID Triggers</h5>
<div class="sect5">
<h6 id="_data_35">A.3.1.5.1. Data</h6>
<div class="paragraph">
<p><strong>SRS_ID Triggers – Implementation</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/srs_id_triggers/implementation</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that user feature data table srs_id triggers are implemented correctly.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type  == ‘features'))</p>
</li>
<li>
<p>Not testable if result set is empty</p>
</li>
<li>
<p>For each row table_name, column_name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = ‘trigger’ AND tbl_name = ‘fgsi_’ || result_set_table_name || ‘_’ || result_set_column_name</p>
</li>
<li>
<p>Not testable if result set is empty</p>
</li>
<li>
<p>Fail if sql != result of populating the first trigger template in Annex N with &lt;t&gt; as result_set_table_name and &lt;c&gt; as result_set_column_name</p>
</li>
<li>
<p>SELECT sql FROM sqlite_master WHERE type = ‘trigger’ AND tbl_name = ‘fgsu_’ || result_set_table_name || ‘_’ || result_set_column_name</p>
</li>
<li>
<p>Fail if sql != result of populating the second trigger template in Annex N with &lt;t&gt; as result_set_table_name and &lt;c&gt; as result_set_column_name</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.5.1.1 Req 98:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/srs_id_triggers/implementation/sql_functions</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify the correct implementation of sql functions used in srs_id triggers on feature table geometry columns.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>Open Geometry Test Data Set GeoPackage with GeoPackage SQLite Extension</p>
</li>
<li>
<p>For each Geometry Test Data Set &lt;gtype_test&gt; data table row for each geometry type in Annex E, for an assortment of srs_ids, for an assortment of coordinate values, without and with z and / or m values, in both big and little endian encodings:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT ‘Fail’ FROM &lt;gtype_test&gt; WHERE ST_SRID(geom) != srs_id</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if no ‘Fail’ selected from step 2</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.5.1.1 Req 98:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>SRS_ID Triggers – Extensions Name</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/srs_id_triggers/extension_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the “gpkg_srs_id_trigger” extension name is used to register srs_id triggers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name, column_name FROM gpkg_geometry_columns WHERE table_name IN (SELECT table_name FROM gpkg_contents WHERE data_type  == ‘features'))</p>
</li>
<li>
<p>Not testable if result set is empty</p>
</li>
<li>
<p>For each row table_name, column_name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT sql FROM sqlite_master WHERE type = ‘trigger’ AND tbl_name = ‘fgsi_’ || result_set_table_name || ‘_’ || result_set_column_name</p>
</li>
<li>
<p>Not testable if result set is empty</p>
</li>
<li>
<p>/opt/extension_mechanism/extensions/data/table_def</p>
</li>
<li>
<p>Fail if failed</p>
</li>
<li>
<p>SELECT extension_name from gpkg_extensions WHERE table_name = result_set_table_name AND column_name = result_set_column_name</p>
</li>
<li>
<p>Pass if result is “gpkg_srs_id_trigger”</p>
</li>
<li>
<p>Fail otherwise</p>
</li>
</ol>
</div>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.5.1.2 Req 99:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>SRS_ID Triggers – Extensions Row</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/features/srs_id_triggers/extension_row</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that srs_id triggers are registered using the “gpkg_srs_id_trigger” extension name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Do test /reg_ext/features/srs_id_triggers/extension_name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.1.5.1.3 Req 100:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div class="sect3">
<h4 id="_tiles_3">A.3.2. Tiles</h4>
<div class="sect4">
<h5 id="_zoom_levels_3">A.3.2.1. Zoom Levels</h5>
<div class="sect5">
<h6 id="_data_36">A.3.2.1.1. Data</h6>
<div class="paragraph">
<p><strong>Zoom Other Intervals—Extensions Name</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/tiles/zoom_levels/data/zoom_other_ext_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the “gpkg_zoom_other” extension name is used to register tiles tables with other than factors of two zoom intervals.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>SELECT table_name FROM gpkg_contents WHERE data_type = 'tiles'</p>
</li>
<li>
<p>Not testable if empty result set</p>
</li>
<li>
<p>For each row table_name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SELECT zoom_level, pixel_x_size, pixel_y_size FROM gpkg_tile_matrix WHERE table_name = selected table name ORDER BY zoom_level ASC</p>
</li>
<li>
<p>Not testable if returns empty result set</p>
</li>
<li>
<p>Not testable if there are not two rows with adjacent zoom levels</p>
</li>
<li>
<p>Not testable if no pair of rows for adjacent zoom levels have pixel_x_size or pixel_y_size values that differ by other than factors of two</p>
</li>
<li>
<p>/opt/extension_mechanism/extensions/data/table_def</p>
</li>
<li>
<p>Fail if failed</p>
</li>
<li>
<p>SELECT * FROM gpkg_extensions WHERE table_name = selected table name AND extension_name = 'gpkg_zoom_other'</p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.2.1.1.1 Req 101:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>Zoom Other Intervals – Extensions Row</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/tiles/zoom_levels/data/zoom_other_ext_row</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that tiles tables with other than factors of two zoom intervals are registered using the “gpkg_zoom_other” extension name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>/reg_ext/tiles/zoom_levels/data/zoom_other_ext_name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.2.1.1.2 Req 102:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect4">
<h5 id="_tile_encoding_webp">A.3.2.2. Tile Encoding WEBP</h5>
<div class="sect5">
<h6 id="_data_37">A.3.2.2.1. Data</h6>
<div class="paragraph">
<p><strong>WEBP – Extensions Name</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/tiles/tile_encoding_webp/data/webp_ext_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that the “gpkg_webp” extensions name is used to register WEBP tile encoding implementations.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p><code>SELECT table_name FROM gpkg_contents WHERE data_type = 'tiles'</code></p>
</li>
<li>
<p>Not testable if empty result set</p>
</li>
<li>
<p>For each row table_name from step 1</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Select tile_data FROM row table_name</p>
</li>
<li>
<p>For each row tile_data from step a</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>Log webp if tile data in MIME type image/webp</p>
</li>
</ol>
</div>
</li>
<li>
<p>Not testable if no logged webps</p>
</li>
<li>
<p>/opt/extension_mechanism/extensions/data/table_def</p>
</li>
<li>
<p>Fail if failed</p>
</li>
<li>
<p><code>SELECT * FROM gpkg_extensions WHERE table_name = selected table name AND extension_name = 'gpkg_webp’</code></p>
</li>
<li>
<p>Fail if returns an empty result set</p>
</li>
<li>
<p>Log pass otherwise</p>
</li>
</ol>
</div>
</li>
<li>
<p>Pass if logged pass and no fails</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.2.2.2.1 Req 103:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Basic</p>
</div></div></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p><strong>WEBP – Extensions Row</strong></p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:16%;">
<col style="width:83%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case ID</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/tiles/tile_encoding_webp/data/webp_ext_row</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Purpose:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Verify that WEBP tile encodings are registered using the “gpkg_webp” extensions name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Method:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p><code>/reg_ext/tiles/tile_encoding_webp/data/webp_ext_name</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Reference:</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause 3.2.2.2.2 Req 104:</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Type</strong></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Capability</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="background_and_context"> Annex B: Background and Context (Normative)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_background">B.1. Background</h3>
<div class="paragraph">
<p>An open standard non-proprietary platform-independent GeoPackage container for distribution and direct use of all kinds of geospatial data will increase the cross-platform interoperability of geospatial applications and web services. Standard APIs for access and management of GeoPackage data will provide consistent query and update results across such applications and services. Increased interoperability and result consistency will enlarge the potential market for such  applications and services, particularly in resource-constrained mobile computing environments like cell phones and tablets. GeoPackages will become the standard containers for "MyGeoData" that are used as a transfer format by users and Geospatial Web Services and a storage format on personal and enterprise devices.</p>
</div>
<div class="paragraph">
<p>This OGC® GeoPackage Encoding Standard defines a GeoPackage as a self-contained, single-file,
cross-platform, serverless, transactional, open source SQLite data container with table definitions, relational
integrity constraints, an SQL API exposed via a "C" CLI and JDBC, and manifest tables that together act as an exchange and direct-use format for multiple types of geospatial data including vector features, features with raster attributes and tile matrix pyramids, especially on mobile / hand held devices in disconnected or limited network connectivity environments.</p>
</div>
<div class="paragraph">
<p>Table formats, definitions of geometry types and metadata tables, relational integrity constraints, and SQL API are interdependent specification facets of the SF-SQL <a href="#9">[9]</a><a href="#10">[10]</a><a href="#11">[11]</a> and SQL-MM (Spatial) <a href="#12">[12]</a> standards that serve as normative references for the vector feature portion of this specification.</p>
</div>
<div class="paragraph">
<p>This specification attempts to support and use relevant raster types, storage table definitions, and metadata from widely adopted implementations and existing standards such as WMTS <a href="#16">[16]</a> and ISO metadata <a href="#28">[28]</a>, to integrate use of rasters as attributes of geospatial features, and to define relational integrity constraints and an SQL API thereon to provide a raster analogy to the SF-SQL and SF-MM data access and data quality assurance capabilities.</p>
</div>
<div class="paragraph">
<p>Conformance classes for this specification are classified as core (mandatory) and extension (optional). The simple core of an Empty GeoPackage contains two SQL tables.</p>
</div>
<div class="paragraph">
<p>Future versions of this specification willmay include requirements for elevation data and routes. Future enhancements to this specification, a future GeoPackage Web Service specification, and modifications to existing OGC Web Service (OWS) specifications to use GeoPackages as exchange formats willmay allow OWS to support provisioning of GeoPackages throughout an enterprise or information community.</p>
</div>
</div>
<div class="sect2">
<h3 id="_document_terms_and_definitions">B.2. Document terms and definitions</h3>
<div class="paragraph">
<p>This document uses the standard terms defined in Subclause 5.3 of [OGC 06-121], which is based on the ISO/IEC Directives, Part 2. Rules for the structure and drafting of International Standards. In particular, the word "shall" (not "must") is the verb form used to indicate a requirement to be strictly followed to conform to this standard.</p>
</div>
<div class="paragraph">
<p>For the purposes of this document, the following terms and definitions apply.</p>
</div>
<div class="dlist glossary">
<dl>
<dt>Empty GeoPackage</dt>
<dd>
<p>A GeoPackage that contains a <code>gpkg_spatial_ref_sys</code> table, a <code>gpkg_contents</code> table with row record(s) with <code>data_type</code> column values of "features" or "tiles", and corresponding features tables per clause <a href="#features">[features]</a> and/or tiles tables per clause <a href="#tiles">瓦片</a> where the user data tables per clauses 2.1.6. and 2.2.8 exist but contain no rows.</p>
</dd>
<dt>Extended GeoPackage</dt>
<dd>
<p>A GeoPackage that contains any additional data elements (tables or columns) or SQL constructs (data types, indexes, constraints or triggers) that are not specified in this encoding standard.</p>
</dd>
<dt>geolocate</dt>
<dd>
<p>identify a real-world geographic location</p>
</dd>
<dt>GeoPackage file</dt>
<dd>
<p>a platform-independent SQLite database file that contains GeoPackage data and metadata tables with specified definitions, integrity assertions, format limitations and content constraints.</p>
</dd>
<dt>GeoPackage SQLite Configuration</dt>
<dd>
<p>consists of the SQLite 3 software library and a set of compile- and runtime configurations options.</p>
</dd>
<dt>GeoPackage SQLite Extension</dt>
<dd>
<p>a SQLite loadable extension that MAY provide SQL functions to support spatial indexes and SQL triggers linked to a SQLite library with specified configuration requirements to provide SQL API access to a GeoPackage.</p>
</dd>
<dt>georectified</dt>
<dd>
<p>raster whose pixels have been regularly spaced in a geographic (i.e., latitude / longitude) or projected map coordinate system using ground control points so that any pixel can be geolocated given its grid coordinate and the grid origin, cell spacing, and orientation.</p>
</dd>
<dt>orthorectified</dt>
<dd>
<p>georectified raster that has also been corrected to remove image perspective (camera angle tilt), camera and lens induced distortions, and terrain induced distortions using camera calibration parameters and DEM elevation data to accurately align with real world coordinates, have constant scale, and support direct measurement of distances, angles, and areas.</p>
</dd>
<dt>Valid GeoPackage</dt>
<dd>
<p>A GeoPackage that contains features per clause <a href="#_features">Features</a> and/or tiles per clause <a href="#tiles">瓦片</a> and row(s) in the <code>gpkg_contents</code> table with <code>data_type</code> column values of "features" and/or "tiles" describing the user data tables.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_conventions">B.3. Conventions</h3>
<div class="paragraph">
<p>Symbols (and abbreviated terms)</p>
</div>
<div class="dlist terms">
<dl>
<dt>ACID</dt>
<dd>
<p>Atomic, Consistent, Isolated, and Durable</p>
</dd>
<dt>ASCII</dt>
<dd>
<p>American Standard Code for Information Interchange</p>
</dd>
<dt>API</dt>
<dd>
<p>Application Program Interface</p>
</dd>
<dt>BLOB</dt>
<dd>
<p>Binary Large OBject</p>
</dd>
<dt>CLI</dt>
<dd>
<p>Call-Level Interface</p>
</dd>
<dt>COTS</dt>
<dd>
<p>Commercial Off The Shelf</p>
</dd>
<dt>DEM</dt>
<dd>
<p>Digital Elevation Model</p>
</dd>
<dt>GPKG</dt>
<dd>
<p>GeoPackage</p>
</dd>
<dt>GRD</dt>
<dd>
<p>Ground Resolved Distance</p>
</dd>
<dt>EPSG</dt>
<dd>
<p>European Petroleum Survey Group</p>
</dd>
<dt>FK</dt>
<dd>
<p>Foreign Key</p>
</dd>
<dt>IETF</dt>
<dd>
<p>Internet Engineering Task Force</p>
</dd>
<dt>IIRS</dt>
<dd>
<p>Image Interpretability Rating Scale</p>
</dd>
<dt>IRARS</dt>
<dd>
<p>Imagery Resolution Assessments and Reporting Standards (Committee)</p>
</dd>
<dt>ISO</dt>
<dd>
<p>International Organization for Standardization</p>
</dd>
<dt>JDBC</dt>
<dd>
<p>Java Data Base Connectivity</p>
</dd>
<dt>JPEG</dt>
<dd>
<p>Joint Photographics Expert Group (image format)</p>
</dd>
<dt>MIME</dt>
<dd>
<p>Multipurpose Internet Mail Extensions</p>
</dd>
<dt>NIIRS</dt>
<dd>
<p>National Imagery Interpretability Rating Scale</p>
</dd>
<dt>OGC</dt>
<dd>
<p>Open Geospatial Consortium</p>
</dd>
<dt>PK</dt>
<dd>
<p>Primary Key</p>
</dd>
<dt>PNG</dt>
<dd>
<p>Portable Network Graphics (image format)</p>
</dd>
<dt>RDBMS</dt>
<dd>
<p>Relational Data Base Management System</p>
</dd>
<dt>RFC</dt>
<dd>
<p>Request For Comments</p>
</dd>
<dt>SQL</dt>
<dd>
<p>Structured Query Language</p>
</dd>
<dt>SRID</dt>
<dd>
<p>Spatial Reference (System) Identifier</p>
</dd>
<dt>UML</dt>
<dd>
<p>Unified Modeling Language</p>
</dd>
<dt>UTC</dt>
<dd>
<p>Coordinated Universal Time</p>
</dd>
<dt>XML</dt>
<dd>
<p>eXtensible Markup Language</p>
</dd>
<dt>1D</dt>
<dd>
<p>One Dimensional</p>
</dd>
<dt>2D</dt>
<dd>
<p>Two Dimensional</p>
</dd>
<dt>3D</dt>
<dd>
<p>Three Dimensional</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_submitting_organizations_informative">B.4. Submitting Organizations (Informative)</h3>
<div class="paragraph">
<p>The following organizations submitted this Encoding Standard to the Open Geospatial Consortium Inc. as a
Request For Comment (RFC).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Envitia</p>
</li>
<li>
<p>Luciad</p>
</li>
<li>
<p>Sigma Bravo</p>
</li>
<li>
<p>The Carbon Project</p>
</li>
<li>
<p>U.S. Army Geospatial Center</p>
</li>
<li>
<p>U.S. National Geospatial Intelligence Agency</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_document_contributor_contact_points_informative">B.5. Document contributor contact points (Informative)</h3>
<div class="paragraph">
<p>All questions regarding this document should be directed to the editor or the contributors:</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 18. Document contributors</caption>
<colgroup>
<col style="width:20%;">
<col style="width:40%;">
<col style="width:40%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Organization</th>
<th class="tableblock halign-left valign-top">Email</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Brett Antonides</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LNM Solutions</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>brett.antonides&lt;at&gt;lmnsolutions.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kevin Backe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U.S. Army Geospatial Center GASD</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Kevin.Backe&lt;at&gt;usace.army.mil</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Roger Brackin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Envitia</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>roger.brackin&lt;at&gt;envitia.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scott Clark</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LNM Solutions</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>scott.clark&lt;at&gt;lmnsolutions.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">David Cray</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U.S. Army Geospatial Center GASD</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>David.Cray&lt;at&gt;usace.army.mil</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image Matters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>pauld&lt;at&gt;imagemattersllc.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nathan P. Frantz</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U.S. Army Geospatial Center ERDC</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Nathan.P.Frantz&lt;at&gt;usace.army.mil</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alessandro Furieri</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spatialite</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>a.furieri&lt;at&gt;lqt.it</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Randy Gladish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image Matters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>randyg&lt;at&gt;imagemattersllc.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eric Gundersen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MapBox</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>eric&lt;at&gt;mapbox.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Brad Hards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sigma Bravo</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>bhards&lt;at&gt;sigmabravo.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jeff Harrison</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Carbon Project</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>jharrison&lt;at&gt;thecarbonproject.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chris Holmes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenGeo</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>cholmes&lt;at&gt;9eo.org</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sean Hogan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compusult</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>sean&lt;at&gt;compusult.net</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kirk Jensen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image Matters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>kirkj&lt;at&gt;imagemattersllc.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(chinese chars not working) Joshua</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feng China University</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>joshua&lt;at&gt;gis.tw</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Terry A. Idol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U.S. National Geospatial Intelligence Agency</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Terry.A.Idol&lt;at&gt;nga.mil</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drew Kurry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Digital Globe</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>dkurry&lt;at&gt;digitalglobe.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Steven Lander</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reinventing Geospatial</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>steven.lander&lt;at&gt;rgi-corp.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tom MacWright</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MapBox</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>tom&lt;at&gt;mapbox.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Joan Maso Pau</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Universitat Autònoma de Barcelona (CREAF)</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>joan.maso&lt;at&gt;uab.es</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kevin S. Mullane</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U.S. Army Geospatial Center GASD</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Kevin.S.Mullane&lt;at&gt;usace.army.mil</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">(chinese chars not working) Yi-Min Huang</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feng China University</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>niner&lt;at&gt;gis.tw</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Andrea Peri</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Regione Toscana Italy</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>andrea.peri&lt;at&gt;regione.toscana.it</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Ramsey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OpenGeo</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>pramsey&lt;at&gt;opengeo.org</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matthew L. Renner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U.S. Army Geospatial Center ERDC</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Matthew.L.Renner&lt;at&gt;usace.army.mil</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Even Rouault</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mines-Paris</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>even.rouault&lt;at&gt;mines-paris.org</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keith Ryden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Environmental Systems Research Institute</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>kryden&lt;at&gt;esri.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scott Simmons</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CACI</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>scsimmons&lt;at&gt;caci.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ingo Simonis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">International Geospatial Services Institute</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>ingo.simonis&lt;at&gt;igsi.eu</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Raj Singh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Geospatial Consortium</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>rsingh&lt;at&gt;opengeospatial.org</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Steve Smyth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Site Plan</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>steve&lt;at&gt;opensiteplan.org</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Donald V. Sullivan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U.S. National Aeronautics and Space Administration</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>donald.v.sullivan&lt;at&gt;nasa.gov</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Christopher Tucker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapstory</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>tucker&lt;at&gt;mapstory.org</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Benjamin T. Tuttle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U.S. National Geospatial Intelligence Agency</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Benjamin.T.Tuttle&lt;at&gt;nga.mil</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pepijn Van Eeckhoudt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Luciad</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>pepijn.vaneeckhoudt&lt;at&gt;luciad.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">David G. Wesloh</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U.S. National Geospatial Intelligence Agency</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>David.G.Wesloh&lt;at&gt;nga.mil</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jeff Yutzler</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Image Matters</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>jeffy&lt;at&gt;imagemattersllc.com</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Eric Zimmerman</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U.S. Army Geospatial Center ERDC</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Eric.Zimmerman&lt;at&gt;usace.army.mil</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
<div class="sect2">
<h3 id="_revision_history_informative">B.6. Revision History (Informative)</h3>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 19. Revision History</caption>
<colgroup>
<col style="width:16%;">
<col style="width:8%;">
<col style="width:16%;">
<col style="width:16%;">
<col style="width:41%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Date</th>
<th class="tableblock halign-left valign-top">Rel</th>
<th class="tableblock halign-left valign-top">Editor</th>
<th class="tableblock halign-left valign-top">Paragraph modified</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2012-11-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove min/max x/y fields from all tables and text in clause 10.3 Tile Table Metadata
per change request 250 / 12-135.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2012-11-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.2, Annex B</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>add compr_qual_factor and georectification columns to raster_columns table create statement and sample insert statement; add triggers for those columns matching those for _rt_metadata per change request 251 / 12-134</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-01-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change gpkg_contents description default value per change request 255 / 12-166</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-01-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.2, Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>SRS Table Name Change per change request 256 / 12-165</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-01-16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7, Figure 2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>table diagram gpkg_contents min_y REAL instead of BLOB</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-01-23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.3, 8.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause reference corrections, change gpkg_contents.identifier default value to ""</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-02-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changes to AS</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>No changes to AS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-02-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>new last sentence and NOTE1, additional table name triggers</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-02-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.6</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>drop tables 21, 22 and associated text</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-02-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.5</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>misc. editorial changes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-02-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>REQ 71 should refer to clause 11.2 and not 11.1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-02-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>new clause 12 other data</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-02-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>rename tables 56,57 remove "ows_" prefix</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-02-08</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">r3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.2, 10.7, 10.8</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Use -1 as "magic" value indicating "unknown" for both compr_qual_factor and georectification columns, and make it the default value. Remove NOTE1 in 10.7. Delete the next to last row in Table 46 - Image Routines for gpkgBboxToTiles (). Delete the corresponding sub-clause 10.8.10 Renumber sub-clause 10.8.11 to 10.8.10</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-02-22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normative References, Future Work, 6, Bibliography</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The GeoPackage file format and SQL API are provided by SQLite, which is the GeoPackage container implementation, not just a a reference implementation.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-03-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add Security Considerations clause.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-03-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Future Work</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Streaming synchronization</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-03-30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Normative References,
All, Bibliography</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Move references to geos and proj4 libraries from Normative References to Bibliography, remove references to them from main text.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-03-30 2013-04-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reorganize document and Annexes</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>New Core / Extension outline.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-03-30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.2.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>auth_name column case-insensitive</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-03-30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add feature table layout example</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All,Annex B</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Move table definition SQL to Annex B</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2.4</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove requirements for SQL/MM functions, REQ 21 – 33.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-03</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Renumber tables, figures, normative references</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.6</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Make integer primary keys mandatory for user vector, raster and tile data tables.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.3.2,</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Rewrite clause, remove references to geometry_columns table columns that are superfuluous in SQLite implementation.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.6.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Rewrite clause, remove references to SF/SQL gS and gB architectures.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.4.1, 6.3.4.2, 6.3.6.3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove normative references to RasterLite</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.6.3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>GeoPackage description of other data tables.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove implementation references</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.6.3, Annex G</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove manifest other data entries</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.2.4.2, Annex B, E</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Allow metadata of specified MIME type</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.2.4.3, Annex B, E</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Allow NULLs in metadata_reference table</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.3.2, new Annex F</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Geometry type codes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-04-29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.2.4, new Annex L</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Feature Schema Metadata example</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-03</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Future Work</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Geographic / Geodetic Geometries</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.4.2, Annex C, E</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove compr_qual_factor and georectification columns from raster_columns table</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.2.4, 6.3.4.3, new Annex M</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>delete _rt_metadata tables
add Annex M
reference Annex M from note in 6.3.2.4</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.1.1, Normative References, Bibliography</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add NITF as an extension image format</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Revise Table Diagram</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.3.3, Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove raster functions</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.2.4.3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>metadata_reference table is not required to contain any rows</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.2.4.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Recommend ISO 19139 metadata</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3, Annex B</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Default values</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.3.3, Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Minimal Runtime SQL Functions</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.3.4, Annex D</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Spatial Indexes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6, 7</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Reformat requirement tables, unduplicate requirement text</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.1, 6.3.2.4,
6.3.4.2,
7.3.5.5,
Annex B,
remove Annex L</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Replace raster_columns table, Annex L with gpkg_data_columns table</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.2.3, 7.4, Annex G,H,I</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Drop manifest table, schemas, sample document</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Future Work</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add GeoPackage Abstract Object Model</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.1, 6.3.3.1,
new 7.1.1,
Annex F</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add optional support for non-linear geometry types</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.3.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add SQLite configuration requirements</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3, 7.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Require only gpkg_contents and spatial_ref_sys tables</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2.1.3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add gpkg_extensions table</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.3.4, Annex D</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Provide spatial index templates instead of examples</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Preface, Scope, Terms, 6, 7</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Simplify, rewrite, add terms, use terms</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Incorporate terms, renumber requirements and tables</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add "GPKG" as SQLite application id</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add SQLITE PRAGMA integrity_check</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Geometry format minor changes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.2.2, Annex E</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove references to raster_columns table (removed previously)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clause number references and text changes required by 5/22 changes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove comments on accepted changes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex E E.4</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add non-linear geometry type codes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.2.4.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change reference from SF/SQL to SQL/MM</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change core and extension requirement names required by 5/22 changes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Table 16</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change extension to API to avoid overloading extension term</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Draft changes to A.2 Conformance Classes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B.3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add gpkg_data_columns table SQL</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-05-30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Revision History</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Record 5/29 changes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-06</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Preface, Submission Contact Points, Revision History, Changes to AS, Changes to IS,
Future Work,
Forward,
Introduction,
Clauses 1-5</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove all forward material except title page, submitting orgs, and introduction, and put in annexes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Old Clauses 6,7 &#8594; New 1-3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Restructure document iaw draft Requirements Dependencies</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Revised Requirements Dependencies and Diagram</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Fix clause and requirement references based on document restructure</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add Abstract Test Suite (incomplete)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clause 1,2, Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Insert Base and Extension subclauses, renumber more deeply nested subclauses</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex G</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove names and codes for Z and M geometry types, add Figure 5 and geometry subtype definitions</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clause 1.2.2.6</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Rewrite clause, add new Requirement 10, 11, renumber existing and subsequent ones.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex D</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add ST_Is3D() and ST_IsMeasured()</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add "gpkg_" prefix to all GeoPackage metadata tables</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Figure 1, 2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Update with "gpkg_" prefix</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add Abstract Test Suite (incomplete)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.2.4.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add sentence to end of first paragraph describing gpkg_other_data_columns content..</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add Abstract Test Suite (incomplete)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clause 1,2,3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Revised notes and turned them into footnotes; moved normative text into requirement statements.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Restructure document iaw SpecificationStructureAlternative3</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pepijn Van Eeckhoudt</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Created and applied Word Styles and Outline List Numbering</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.2, 2.1.1, 2.1.4,  3.1.2, Annex C, D, F, G</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>GeoPackage Geometry Encoding Revisions</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1.3.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add footnote recommendation on Spatial Index drop/add if many updates.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Figure 1,
2.2.6, 2.2.7</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove gpkg_tile_table_metadata table</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change requirement statement format to Req # s SHALL o in bold italic</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex B</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Update definition of Empty GeoPackage, add definition of Valid GeoPackage</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Figure 1, 2.2.7, Annex C, F</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change tile_matrxI_metadata t_table_name column name to table_name iaw changes to gpkg_geometry_columns column name changes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Figure 1,
 2.1.5, 2.2.7,
Annex C, F</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add gpkg_geometry_columns and gpkg_tile_matrix_metadata table_name foreign key constraints referencing gpkg_contents table_name now that gpkg_contents rows may describe other data tables.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-06-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clause 3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Tables with non "gpkg" author registered extensions not data_type "features" or "tiles"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change ATS format from numbered list to bold heading, add test definitions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add test definitions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-03</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Revise, add test definitions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1, Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change .geopackage to .gpkg</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex B</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add "Potential" to "Future Work", "MAY" to items.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex B</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add support for UTFGrid as a future work item.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add footnote to REQ 1 that SQLite is in the public domain.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.3.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add footnote to Table 4 that OGC WKB is subset of ISO WKB</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.3.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Revise definition of geometry type in Table 4 to include is_empty flag; add paragraph on encoding empty point geometries.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex E</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Revise spatial index triggers to handle NULL values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex C, F</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Correct SQL errors in tables 13, 32, 43</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex D</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add ST_IsEmpty(geom. Geometry)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex E
Table 39</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Revise spatial index triggers to handle empty geometries, changed ROWID values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A
A.3.1.3.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Revise test method iaw changes to spatial index triggers</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.3.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Envelope in geopackage geometry binary for empty geometry</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-07-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A
A.2.1.2.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Revise test method to test for NaN values in envelope of empty geometries</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-08-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Submitting Organizations, Submission Contact Points</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Moved Submitting Organizations to B2; deleted previous B2 Submission Contact Points</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-08-01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.3.1.1
Table 3, 2.1.6.1.2,
Annex A, C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Nullable gpkg_contents columns
One geometry column per feature table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clause 3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add new Req 67 re gpkg_extensions table</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.6.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>remove footnote 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.6.1.1,  Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>change no to yes for null in Table 6, 27 except for id column</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.3.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Req 12 add gpkg_ prefix to gpkg_spatial_ref_sys</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>remove "with compression" and "without compression from footnote 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.6.1.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>"an all of" changed to "all"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2.6.1.2, Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add gpkg_ prefix to gpkg_tile_matrix_metdata</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2.7.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Space between 8and</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2.6.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Table 7 {rasterlayername}_tiles change to Tile Matrix User Data Table Name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1.3.1.2, 3.2.1.1.2, Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change gpkg_extension to gpkg_extensions</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.2.3.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove [29] from GeoTiff, change [31] to [29] for NGA Implementation Profile</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>change "first three bytes of each gc are not "GPB"" to "first two bytes of each gc are not "GP"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change (1,2,3) to (0,1,2)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex D</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>add INTEGER return type to ST_ISEmpty, ST_Is3D, ST_ISMeasured functions</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add "more"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add the following constraint to the gpkg_geometry_columns table: CONSTRAINT uk_gc_table_name UNIQUE (table_name),</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1.4.1.2, 3.1.5.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change geopackage_extension to gpkg_extensions</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.6.1, Annex A, Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add column <em>scope text not null</em> to gpkg_extensions</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.5</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Reword clause 2.5 to preclude reference to other data tables by rows in gpkg_geometry_columns or gpkg_tile_matrix_metadata tables.
Add data_type constraint to Req 19.
Add data_type constraint to Annex A tests.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1, 3.3, Annex A, Annex D</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Rename clause 3.3 Other Tables
Move clause 3.1.1 Geometry Encoding to clause 3.3.1 Other Geometry Encoding
Move clause 3.2.5 Tile Encoding Other to clause 3.3.2 Other Tile Encoding
Rename clause 3.3.1 Other Trigger to clause 3.3.3 Other Trigger
Renumber contained requirements
Add footnote to Annex D table
Move corresponding tests in Annex A</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex E</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Replace all occurences of <em>rowid</em> with <em>&lt;i&gt;</em> in trigger definitions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Update normative [xx]and bibliographic  [Byy] references</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1, Annex A, Annex D, Annex F</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change geometry_columns to gpkg_geometry_columns and geometry_type to geometry_type_name</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2.3, 3.2.1, new Annex I</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change "power" to "factor" in and add text to zoom level descriptions and requirements.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.6, Annex A, Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add required data types for vector feature user data table column definitions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New 2.3.2, Annex A, Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add gpkg_data_column_constraints table</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.3, 2.2.1, 2.2.6, 2.2.7, 2.2.8, Annex A, Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add gpkg_tile_matrix_set, rename gpkg_tile_matrix_metadata to gpkg_tile_matrix, standardize tile pyramid, tile matrix set and tile matrix term usage.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Figure 1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Added gpkg_tile_matrix_set, gpkg_data_columns_constraints to Figure 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.5.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Replace normative text in 2.1.5.1.1 with new requirement 19 in 2.1.5.1.2.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Clarify which tables may be implemented as views or extended with additional columns.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.4.2.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Drop md_standard_uri default value, add footnote and text paragraph.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Specify case sensitivity for required column values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-09-27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change SQL trigger action from ROLLBACK to ABORT</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.2.1.1, Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add Null column to table 2 per table 22, remove default value, foreign and unique key tests from Annex A A.1.1.2.1.1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Misc. Editorial corrections.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-02</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Title Page</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Changed title from Implementation Specification to Encoding Standard per Carl Reed email.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.1.3, Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add new Req 4 requirement for SQLite PRAGMA foreign_key_check()</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-04</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Disallow addition of columns to all gpkg tables except user data feature tables.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduction,
All, Annex B</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>GeoPackage replaces GeoPackage file</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduction,
1.1.1.1.1,
Annex B</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add Extended GeoPackage definition</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduction Figure 1, 2.6, Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add definition column to gpkg_extensions table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduction, Annex B</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add GeoPackage SQLite Configuration definition</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduction, Annex B</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Modify definition of GeoPackage SQLite Extension</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Revise Container Definition, add new Req 1 and Req 3</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.2.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove rows from Table 1 SQLite Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.3.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Drop clause.  Required SQL functions to be defined in extension template documents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.5.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>New Introduction clause for Extension Mechanism</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-05</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.5.2.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>New Req 79, Req 83, revised Req 82, added explanatory text for Req 84, deleted Table 47</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.2.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Move foreign key rows from Table 9 Safe GeoPackage to Table 1 SQLite Configuration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.5.2.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Extend Req 79 with semantic equivalence of empty and missing gpkg_extensions table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.5.2.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Drop Clasue.  Required SQL Configuration settings to be defined in extension template documents.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>New clause for Geometry Encoding Extension</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex J - S</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>New Extension Template and Extension Annexes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-08</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.2.2,  Annex M, N, O</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Prohibit all SQLITE_OMIT_* compile time options instead of specific ones.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.\*.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Simplify extension prerequisite descriptions, reference extension annexes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annexes J - S</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Style subheadings as subtitles, add clause references</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.3, Annex L</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Replace GeoPackageBinary definition with StandardGeoPackageBinary definition.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduction,
2.3.2, 2.3.3, Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="olist arabic">
<ol class="arabic">
<li>
<p>Drop constraint_type column from gpkg_data_columns, Req 60</p>
</li>
<li>
<p>Add Req 61</p>
</li>
<li>
<p>Change description of constraint name.</p>
</li>
<li>
<p>Revise Figure 1 Table Diagram</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.5.2.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add guidance for extension template</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.6.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add footnote re further restrictions on the geometry types that are allowed in a feature table</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-09</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.3.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add footnote that WKB geometries are not geographic / geodesic</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change Req 3 SQLite database header required contents to include version number.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add and revise tests in accordance with other R9 draft changes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.3.3, Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add unique key on gpkg_data_column_constraints constraint_name, constraint_type, constraint_value columns;  Add new Req 63, ATS test</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex D</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Drop D.1 Geometry Column Triggers</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex F</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Drop Annex F</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.3.3.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove first sentence on constrain name column values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduction,
2.3.3.1.1, Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add description column to gpkg_data_column_constraints table.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.3.3.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Drop requirement 61</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.6.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Drop footnote 2 on p.13</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.6.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Delete DECIMAL_TEXT row from Table 6</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Move to 1.1.1.1.3, renumber requirements.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.6.1.1,
1.1.1.1.3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Move Req 30 and Table 6 to Req5 and Table 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.4.3.1.1, Annex C</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change timestamp column from TEXT to DATETIME data type</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change data types to those specified in Table 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.3.3.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add NUMERIC data type footnote for table gpkg_data_column_constraints</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Misc editorial changes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.2.3, 3.2.4, Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove TIFF and NITF tile encodings</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New 3.1.2.1.4, Annex A</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>New Req 91</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex K</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Rewrite requirement description</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.1.1, 3.1.2, Annex J, K</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Renamed</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Misc editorial changes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduction, Annex B</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Replace detailed table diagram in Introduction with an overview diagram; move detailed table diagram to Annex B, add minimal features and tiles diagrams to Annex B.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.1.3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Specify 8601 formats for DATE and DATETIME in Table 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.1.3</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>{(size)} specs for BLOB and TEXT data types in Table 1</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.3.1.1   Table 5</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Bit layout of flags byte and flag bits use&#8201;&#8212;&#8201;additional text</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Misc editorial changes</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex Q, R</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Removed</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-10-24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All, Annex S, T</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove unused normative [xx]and bibliographic  [Byy] references, update remaining ones</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Misc editorial changes, mostly formatting.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex  C, G</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Correct gpkg_metadata table definition SQL default values, metadata column type from BLOB to TEXT</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add footnote (3) to Req 2</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex L, O</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add <a href="http://www.sqlite.org/rtree.html">http://www.sqlite.org/rtree.html</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2.6.1.1, 2.2.6.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Cut sentence from 2.2.6.1.1, paste revised version and additional sentence describing origin georeferenced coordinates to 2.2.6.1.2.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.3.3.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add a new third sentence in first paragraph; add new Table 13 example</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.3.1.1, 2.1.3.1.1, 2.2.6.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add x/y axis definitions to  min/max x/y column descriptions and WKB geometry description.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Revise footnote (3) to Req 2 to include byte values instead of long value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jeff Yutzler, Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Misc editorial changes, mostly formatting.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1, 2.1.6.1.1, 2.2.8.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add "and table constraints" in clause 1, make INTEGER PRIMARY KEY AUTOINCREMENT explicit in Req 29 and Req 52 to avoid future "WITHOUT ROWID" SQLite v3.8.2 problems.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jeff Yutzler, Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Misc formatting changes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.1.4</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Remove "()" from PRAGMA foreign_key_check()</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-11-21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex C, G</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change metadata_standard_uri column name to md_standard_uri</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A.1.1.2.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Use the current gpkg_spatial_ref_sys table and column name definitions</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex Q</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add normative reference [32] to OpenGIS® 01-009</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.2.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add normative reference “[32]” to description of definition column in Table 3</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A.1.1.2.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>/base/core/gpkg_spatial_ref_sys/data_values_default  revise step 3 SQL</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.2.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Add paragraph on definition column WKT values</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Misc editorial corrections.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A.2.2.3.1.1, A.2.2.4.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change “extension_name IN ('gpkg_webp’,’gpkg_tiff’,’gpkg_nitf’)” to “extension_name = ‘gpkg_webp’”</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A.2.5.1.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>delete test steps 7 and 8:re tile encoding TIFF and NITF</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2.7.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>remove the default column from Table 9</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.2.8.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>remove 3.2.3, 3.2.4  from table 10 tile_data column description</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Annex D.5</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change t_table_name to table_name in Table 41</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2013-12-31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.1.5.1.2</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Change “each geometry column” to “the geometry column” in Req 22</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2014-01-10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.2.1.1</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Rename Table 3 Spatial Ref Sys Table Definition</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2014-01-28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paul Daisey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.1.3.1.1, 2.4.3.1.1, Annex C, Annex H</p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>strftime(<em>%Y-%m-%dT%H:%M:%fZ</em>, CURRENT_TIMESTAMP) changed to strftime(<em>%Y-%m-%dT%H:%M:%fZ</em>,<em>now</em>)</p>
</div></div></td>
</tr>
</tbody>
</table>

</div>
<div class="sect2">
<h3 id="_changes_to_the_ogc_abstract_specification">B.7. Changes to the OGC® Abstract Specification</h3>
<div class="paragraph">
<p>The OGC® Abstract Specification does not require changes to accommodate this OGC® standard.</p>
</div>
</div>
<div class="sect2">
<h3 id="_changes_to_ogc_implementation_standards">B.8. Changes to OGC® Implementation Standards</h3>
<div class="paragraph">
<p>None at present.</p>
</div>
</div>
<div class="sect2">
<h3 id="_potential_future_work_informative">B.9. Potential Future Work (Informative)</h3>
<div class="ulist">
<ul>
<li>
<p>MAY investigate GeoPackage implementation on SQLite version 4 <a href="#B25">[B25]</a>.</p>
</li>
<li>
<p>Future versions of this specification MAY include requirements for elevation data and routes.</p>
</li>
<li>
<p>Future enhancements to this specification, a future GeoPackage Web Service specification and modifications to existing OGC Web Service (OWS) specifications to use GeoPackages as exchange formats MAY allow OWS to support provisioning of GeoPackages throughout an enterprise.</p>
</li>
<li>
<p>Future versions of this specification MAY include additional raster / image formats, including fewer restrictions on the image/tiff format.</p>
</li>
<li>
<p>Future versions of this specification MAY include additional SQL API routines for interrogation and conversion of raster / image BLOBs.</p>
</li>
<li>
<p>Future versions of this specification and/or one for a GeoPackage Web Service MAY address utilities for importing and exporting vector, raster and tile data in various formats.</p>
</li>
<li>
<p>Future versions of this specification and/or one for a GeoPackage Web Service MAY address encryption of GeoPackages and/or individual tables or column values.</p>
</li>
<li>
<p>Future versions of this specification MAY add infrastructure to the metadata tables such as a <code>temporal_columns</code> table that refers to the time properties of data records.</p>
</li>
<li>
<p>MAY specify a streaming synchronization protocol for GeoPackage as part of a future GeoPackage Web Service specification, and/or a future version of the GeoPackage and/or Web Synchronization Service specification(s).</p>
</li>
<li>
<p>Future versions of this specification MAY address symbology and styling information.</p>
</li>
<li>
<p>Future version of this specification MAY include geographic / geodesic geometry types.</p>
</li>
<li>
<p>MAY create a GeoPackage Abstract Object Model to support data encodings other than SQL in a future version of this specification.</p>
</li>
<li>
<p>MAY add <a href="https://github.com/mapbox/utfgrid-spec">UTFGrid</a> support in a future version of this specification</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_uml_notation">B.10. UML Notation</h3>
<div class="paragraph">
<p>The diagrams that appear in this standard are presented using the Unified Modeling Language (UML) <a href="#B14">[B14]</a> static structure diagrams.
The UML notations used in this standard for RDBMS tables in a GeoPackage are described in <a href="#uml_notation_rdbms">UML Notation for RDBMS Tables</a> below.</p>
</div>
<div id="uml_notation_rdbms" class="imageblock">
<div class="content">
<img src="umlnotationforrdbmstables.png" alt="umlnotationforrdbmstables">
</div>
<div class="title">Figure 3. UML Notation for RDBMS Tables</div>
</div>
<div class="paragraph">
<p>In this standard, the following two stereotypes of UML classes are used to represent RDBMS tables:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>&lt;&lt;table&gt;&gt; An instantiation of a UML class as an RDMBS table.</p>
</li>
<li>
<p>&lt;&lt;column&gt;&gt; An instantiation of a UML attribute as an RDBMS table column.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>In this standard, the following standard data types are used for RDBMS
columns:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>NULL – The value is a NULL value.</p>
</li>
<li>
<p>INTEGER – A signed integer, stored in 1, 2, 3, 4, 6, or 8 bytes depending on the magnitude of the value</p>
</li>
<li>
<p>REAL – The value is a floating point value, stored as an 8-byte IEEE floating point number.</p>
</li>
<li>
<p>TEXT – A sequence of characters, stored using the database encoding (UTF-8, UTF-16BE or UTF-16LE).</p>
</li>
<li>
<p>BLOB – The value is a blob of data, stored exactly as it was input.</p>
</li>
<li>
<p>NONE – The value is a Date / Time Timestamp</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_geopackage_tables_detailed_diagram">B.11. GeoPackage Tables Detailed Diagram</h3>
<div class="imageblock">
<div class="content">
<img src="geopackage-uml.png" alt="geopackage uml">
</div>
<div class="title">Figure 4. GeoPackage Tables Details</div>
</div>
</div>
<div class="sect2">
<h3 id="_geopackage_minimal_tables_for_features_diagram">B.12. GeoPackage Minimal Tables for Features Diagram</h3>
<div class="imageblock">
<div class="content">
<img src="geopackage-features.png" alt="geopackage features">
</div>
<div class="title">Figure 5. GeoPackage Minimal Tables for Features</div>
</div>
</div>
<div class="sect2">
<h3 id="_geopackage_minimal_tables_for_tiles_diagram">B.13. GeoPackage Minimal Tables for Tiles Diagram</h3>
<div class="imageblock">
<div class="content">
<img src="geopackage-tiles.png" alt="geopackage tiles">
</div>
<div class="title">Figure 6. GeoPackage Minimal Tables for Tiles</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="table_definition_sql"> Annex C: Table Definition SQL (Normative)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_gpkg_spatial_ref_sys">C.1. gpkg_spatial_ref_sys</h3>
<table id="gpkg_spatial_ref_sys_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 20. gpkg_spatial_ref_sys Table Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_spatial_ref_sys (
  srs_name <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  srs_id <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="directive">PRIMARY</span> <span class="type">KEY</span>,
  organization <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  organization_coordsys_id <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  definition  <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  description <span class="predefined-type">TEXT</span>
);</code></pre>
</div>
</div>
<table id="sqlmm_gpkg_spatial_ref_sys_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 21. SQL/MM View of gpkg_spatial_ref_sys Definition SQL (Informative)</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">VIEW</span> st_spatial_ref_sys <span class="keyword">AS</span>
  <span class="class">SELECT</span>
    srs_name,
    srs_id,
    organization,
    organization_coordsys_id,
    definition,
    description
  <span class="keyword">FROM</span> gpkg_spatial_ref_sys;</code></pre>
</div>
</div>
<table id="sfsql_gpkg_spatial_ref_sys_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 22. SF/SQL View of gpkg_spatial_ref_sys Definition SQL (Informative)</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">VIEW</span> spatial_ref_sys <span class="keyword">AS</span>
  <span class="class">SELECT</span>
    srs_id <span class="keyword">AS</span> srid,
    organization <span class="keyword">AS</span> auth_name,
    organization_coordsys_id <span class="keyword">AS</span> auth_srid,
    definition <span class="keyword">AS</span> srtext
  <span class="keyword">FROM</span> gpkg_spatial_ref_sys;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gpkg_contents">C.2. gpkg_contents</h3>
<table id="gpkg_contents_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 23. gpkg_contents Table Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_contents (
  table_name <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="directive">PRIMARY</span> <span class="type">KEY</span>,
  data_type <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  identifier <span class="predefined-type">TEXT</span> <span class="directive">UNIQUE</span>,
  description <span class="predefined-type">TEXT</span> <span class="directive">DEFAULT</span> <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>,
  last_change <span class="predefined-type">DATETIME</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="directive">DEFAULT</span> (strftime(<span class="string"><span class="delimiter">'</span><span class="content">%Y-%m-%dT%H:%M:%fZ</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">now</span><span class="delimiter">'</span></span>)),
  min_x <span class="predefined-type">DOUBLE</span>,
  min_y <span class="predefined-type">DOUBLE</span>,
  max_x <span class="predefined-type">DOUBLE</span>,
  max_y <span class="predefined-type">DOUBLE</span>,
  srs_id <span class="predefined-type">INTEGER</span>,
  <span class="type">CONSTRAINT</span> fk_gc_r_srs_id <span class="directive">FOREIGN</span> <span class="type">KEY</span> (srs_id) <span class="keyword">REFERENCES</span> gpkg_spatial_ref_sys(srs_id)
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gpkg_geometry_columns">C.3. gpkg_geometry_columns</h3>
<table id="gpkg_geometry_columns_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 24. gpkg_geometry_columns Table Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_geometry_columns (
  table_name <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  column_name <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  geometry_type_name <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  srs_id <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  z <span class="predefined-type">TINYINT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  m <span class="predefined-type">TINYINT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  <span class="type">CONSTRAINT</span> pk_geom_cols <span class="directive">PRIMARY</span> <span class="type">KEY</span> (table_name, column_name),
  <span class="type">CONSTRAINT</span> uk_gc_table_name <span class="directive">UNIQUE</span> (table_name),
  <span class="type">CONSTRAINT</span> fk_gc_tn <span class="directive">FOREIGN</span> <span class="type">KEY</span> (table_name) <span class="keyword">REFERENCES</span> gpkg_contents(table_name),
  <span class="type">CONSTRAINT</span> fk_gc_srs <span class="directive">FOREIGN</span> <span class="type">KEY</span> (srs_id) <span class="keyword">REFERENCES</span> gpkg_spatial_ref_sys (srs_id)
);</code></pre>
</div>
</div>
<table id="sqlmm_gpkg_geometry_columns_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 25. SQL/MM View of gpkg_geometry_columns Definition SQL (Informative)</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">VIEW</span> st_geometry_columns <span class="keyword">AS</span>
  <span class="class">SELECT</span>
    table_name,
    column_name,
    <span class="string"><span class="delimiter">&quot;</span><span class="content">ST_</span><span class="delimiter">&quot;</span></span> || geometry_type_name,
    g.srs_id,
    srs_name
  <span class="keyword">FROM</span> gpkg_geometry_columns <span class="keyword">as</span> g <span class="keyword">JOIN</span> gpkg_spatial_ref_sys <span class="keyword">AS</span> s
  <span class="keyword">WHERE</span> g.srs_id = s.srs_id;</code></pre>
</div>
</div>
<table id="sfsql_gpkg_geometry_columns_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 26. SF/SQL VIEW of gpkg_geometry_columns Definition SQL (Informative)</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">VIEW</span> geometry_columns <span class="keyword">AS</span>
  <span class="class">SELECT</span>
    table_name <span class="keyword">AS</span> f_table_name,
    column_name <span class="keyword">AS</span> f_geometry_column,
    code4name (geometry_type_name) <span class="keyword">AS</span> geometry_type,
    <span class="integer">2</span> + (<span class="keyword">CASE</span> z <span class="keyword">WHEN</span> <span class="integer">1</span> <span class="keyword">THEN</span> <span class="integer">1</span> <span class="keyword">WHEN</span> <span class="integer">2</span> <span class="keyword">THEN</span> <span class="integer">1</span> <span class="keyword">ELSE</span> <span class="integer">0</span> <span class="keyword">END</span>) + (<span class="keyword">CASE</span> m <span class="keyword">WHEN</span> <span class="integer">1</span> <span class="keyword">THEN</span> <span class="integer">1</span> <span class="keyword">WHEN</span> <span class="integer">2</span> <span class="keyword">THEN</span> <span class="integer">1</span> <span class="keyword">ELSE</span> <span class="integer">0</span> <span class="keyword">END</span>) <span class="keyword">AS</span> coord_dimension,
    srs_id <span class="keyword">AS</span> srid
  <span class="keyword">FROM</span> gpkg_geometry_columns;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
Implementer must provide code4name(geometry_type_name) SQL function
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_sample_feature_table_informative">C.4. sample_feature_table (Informative)</h3>
<table id="example_feature_table_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 27. sample_feature_table Table Definition SQL (Informative)</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> sample_feature_table (
  id <span class="predefined-type">INTEGER</span> <span class="directive">PRIMARY</span> <span class="type">KEY</span> AUTOINCREMENT,
  geometry GEOMETRY,
  text_attribute <span class="predefined-type">TEXT</span>,
  real_attribute REAL,
  boolean_attribute <span class="predefined-type">BOOLEAN</span>,
  raster_or_photo <span class="predefined-type">BLOB</span>
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gpkg_tile_matrix_set">C.5. gpkg_tile_matrix_set</h3>
<table id="gpkg_tile_matrix_set_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 28. gpkg_tile_matrix_set Table Creation SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_tile_matrix_set (
  table_name <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="directive">PRIMARY</span> <span class="type">KEY</span>,
  srs_id <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>
  min_x <span class="predefined-type">DOUBLE</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  min_y <span class="predefined-type">DOUBLE</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  max_x <span class="predefined-type">DOUBLE</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  max_y <span class="predefined-type">DOUBLE</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  <span class="type">CONSTRAINT</span> fk_gtms_table_name <span class="directive">FOREIGN</span> <span class="type">KEY</span> (table_name) <span class="keyword">REFERENCES</span> gpkg_contents(table_name),
  <span class="type">CONSTRAINT</span> fk_gtms_srs <span class="directive">FOREIGN</span> <span class="type">KEY</span> (srs_id) <span class="keyword">REFERENCES</span> gpkg_spatial_ref_sys (srs_id)
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gpkg_tile_matrix">C.6. gpkg_tile_matrix</h3>
<table id="gpkg_tile_matrix_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 29. gpkg_tile_matrix Table Creation SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_tile_matrix (
  table_name <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  zoom_level <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  matrix_width <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  matrix_height <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  tile_width <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  tile_height <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  pixel_x_size <span class="predefined-type">DOUBLE</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  pixel_y_size <span class="predefined-type">DOUBLE</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  <span class="type">CONSTRAINT</span> pk_ttm <span class="directive">PRIMARY</span> <span class="type">KEY</span> (table_name, zoom_level),
  <span class="type">CONSTRAINT</span> fk_tmm_table_name <span class="directive">FOREIGN</span> <span class="type">KEY</span> (table_name) <span class="keyword">REFERENCES</span> gpkg_contents(table_name)
);</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 30. EXAMPLE: gpkg_tile_matrix Insert Statement (Informative)</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_tile_matrix <span class="keyword">VALUES</span> (
  <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid</span><span class="delimiter">&quot;</span></span>,
  <span class="integer">0</span>,
  <span class="integer">1</span>,
  <span class="integer">1</span>,
  <span class="integer">512</span>,
  <span class="integer">512</span>,
  <span class="float">2.0</span>,
  <span class="float">2.0</span>
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sample_tile_pyramid_informative">C.7. sample_tile_pyramid (Informative)</h3>
<table id="example_tiles_table_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 31. EXAMPLE: tiles table Create Table SQL (Informative)</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> sample_tile_pyramid (
  id <span class="predefined-type">INTEGER</span> <span class="directive">PRIMARY</span> <span class="type">KEY</span> AUTOINCREMENT,
  zoom_level <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  tile_column <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  tile_row <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  tile_data <span class="predefined-type">BLOB</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>),
  <span class="directive">UNIQUE</span> (zoom_level, tile_column, tile_row)
)</code></pre>
</div>
</div>
<table id="example_tiles_table_insert_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 32. EXAMPLE: tiles table Insert Statement (Informative)</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> sample_matrix_pyramid <span class="keyword">VALUES</span> (
  <span class="integer">1</span>,
  <span class="integer">1</span>,
  <span class="integer">1</span>,
  <span class="integer">1</span>,
  <span class="string"><span class="delimiter">&quot;</span><span class="content">BLOB VALUE</span><span class="delimiter">&quot;</span></span>
)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gpkg_data_columns">C.8. gpkg_data_columns</h3>
<table id="gpkg_data_columns_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 33. gpkg_data_columns Table Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_data_columns (
  table_name <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  column_name <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  name <span class="predefined-type">TEXT</span>,
  title <span class="predefined-type">TEXT</span>,
  description <span class="predefined-type">TEXT</span>,
  mime_type <span class="predefined-type">TEXT</span>,
  constraint_name <span class="predefined-type">TEXT</span>,
  <span class="type">CONSTRAINT</span> pk_gdc <span class="directive">PRIMARY</span> <span class="type">KEY</span> (table_name, column_name),
  <span class="type">CONSTRAINT</span> fk_gdc_tn <span class="directive">FOREIGN</span> <span class="type">KEY</span> (table_name) <span class="keyword">REFERENCES</span> gpkg_contents(table_name)
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gpkg_data_column_constraints">C.9. gpkg_data_column_constraints</h3>
<table id="gpkg_data_column_constraints_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 34. gpkg_data_columns Table Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_data_column_constraints (
  constraint_name <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  constraint_type <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>, // <span class="string"><span class="delimiter">'</span><span class="content">range</span><span class="delimiter">'</span></span> | <span class="string"><span class="delimiter">'</span><span class="content">enum</span><span class="delimiter">'</span></span> | <span class="string"><span class="delimiter">'</span><span class="content">glob</span><span class="delimiter">'</span></span>
  value <span class="predefined-type">TEXT</span>,
  <span class="predefined">min</span> NUMERIC,
  minIsInclusive <span class="predefined-type">BOOLEAN</span>, // <span class="integer">0</span> = <span class="predefined-constant">false</span>, <span class="integer">1</span> = <span class="predefined-constant">true</span>
  <span class="predefined">max</span> NUMERIC,
  maxIsInclusive <span class="predefined-type">BOOLEAN</span>, // <span class="integer">0</span> = <span class="predefined-constant">false</span>, <span class="integer">1</span> = <span class="predefined-constant">true</span>
  <span class="type">CONSTRAINT</span> gdcc_ntv <span class="directive">UNIQUE</span> (constraint_name, constraint_type, value)
)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gpkg_metadata">C.10. gpkg_metadata</h3>
<table id="gpkg_metadata_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 35. gpkg_metadata Table Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_metadata (
  id <span class="predefined-type">INTEGER</span> <span class="type">CONSTRAINT</span> m_pk <span class="directive">PRIMARY</span> <span class="type">KEY</span> <span class="directive">ASC</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="directive">UNIQUE</span>,
  md_scope <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="directive">DEFAULT</span> <span class="string"><span class="delimiter">'</span><span class="content">dataset</span><span class="delimiter">'</span></span>,
  md_standard_uri <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  mime_type <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="directive">DEFAULT</span> <span class="string"><span class="delimiter">'</span><span class="content">text/xml</span><span class="delimiter">'</span></span>,
  metadata <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>
);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gpkg_metadata_reference">C.11. gpkg_metadata_reference</h3>
<table id="gpkg_metadata_reference_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 36. gpkg_metadata_reference Table Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_metadata_reference (
  reference_scope <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  table_name <span class="predefined-type">TEXT</span>,
  column_name <span class="predefined-type">TEXT</span>,
  row_id_value <span class="predefined-type">INTEGER</span>,
  <span class="predefined-type">timestamp</span> <span class="predefined-type">DATETIME</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="directive">DEFAULT</span> (strftime(<span class="string"><span class="delimiter">'</span><span class="content">%Y-%m-%dT%H:%M:%fZ</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">now</span><span class="delimiter">'</span></span>)),
  md_file_id <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  md_parent_id <span class="predefined-type">INTEGER</span>,
  <span class="type">CONSTRAINT</span> crmr_mfi_fk <span class="directive">FOREIGN</span> <span class="type">KEY</span> (md_file_id) <span class="keyword">REFERENCES</span> gpkg_metadata(id),
  <span class="type">CONSTRAINT</span> crmr_mpi_fk <span class="directive">FOREIGN</span> <span class="type">KEY</span> (md_parent_id) <span class="keyword">REFERENCES</span> gpkg_metadata(id)
);</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 37. Example: gpkg_metadata_reference SQL insert statement (Informative)</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
  <span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>,
  <span class="string"><span class="delimiter">'</span><span class="content">sample_rasters</span><span class="delimiter">'</span></span>,
  <span class="predefined-constant">NULL</span>,
  <span class="predefined-constant">NULL</span>,
  <span class="string"><span class="delimiter">'</span><span class="content">2012-08-17T14:49:32.932Z</span><span class="delimiter">'</span></span>,
  <span class="integer">98</span>,
  <span class="integer">99</span>
)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gpkg_extensions">C.12. gpkg_extensions</h3>
<table id="gpkg_extensions_sql" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 38. gpkg_extensions Table Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_extensions (
  table_name <span class="predefined-type">TEXT</span>,
  column_name <span class="predefined-type">TEXT</span>,
  extension_name <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  definition <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  scope <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  <span class="type">CONSTRAINT</span> ge_tce <span class="directive">UNIQUE</span> (table_name, column_name, extension_name)
);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_trigger_definition_sql_informative"> Annex D: Trigger Definition SQL (Informative)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_gpkg_tile_matrix_2">D.1. gpkg_tile_matrix</h3>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 39. gpkg_tile_matrix Trigger Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix_zoom_level_insert</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table ''gpkg_tile_matrix'' violates constraint: zoom_level cannot be less than 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.zoom_level &lt; <span class="integer">0</span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix_zoom_level_update</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">of</span> zoom_level <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table ''gpkg_tile_matrix'' violates constraint: zoom_level cannot be less than 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.zoom_level &lt; <span class="integer">0</span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix_matrix_width_insert</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table ''gpkg_tile_matrix'' violates constraint: matrix_width cannot be less than 1</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.matrix_width &lt; <span class="integer">1</span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix_matrix_width_update</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> matrix_width <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table ''gpkg_tile_matrix'' violates constraint: matrix_width cannot be less than 1</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.matrix_width &lt; <span class="integer">1</span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix_matrix_height_insert</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table ''gpkg_tile_matrix'' violates constraint: matrix_height cannot be less than 1</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.matrix_height &lt; <span class="integer">1</span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix_matrix_height_update</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> matrix_height <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table ''gpkg_tile_matrix'' violates constraint: matrix_height cannot be less than 1</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.matrix_height &lt; <span class="integer">1</span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix_pixel_x_size_insert</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table ''gpkg_tile_matrix'' violates constraint: pixel_x_size must be greater than 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.pixel_x_size &gt; <span class="integer">0</span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix_pixel_x_size_update</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> pixel_x_size <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table ''gpkg_tile_matrix'' violates constraint: pixel_x_size must be greater than 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.pixel_x_size &gt; <span class="integer">0</span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix_pixel_y_size_insert</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table ''gpkg_tile_matrix'' violates constraint: pixel_y_size must be greater than 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.pixel_y_size &gt; <span class="integer">0</span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix_pixel_y_size_update</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> pixel_y_size <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_tile_matrix</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table ''gpkg_tile_matrix'' violates constraint: pixel_y_size must be greater than 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.pixel_y_size &gt; <span class="integer">0</span>);
<span class="keyword">END</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_metadata_3">D.2. metadata</h3>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 40. metadata Trigger Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_md_scope_insert</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table gpkg_metadata violates
constraint: md_scope must be one of undefined | fieldSession |
collectionSession | series | dataset | featureType | feature |
attributeType | attribute | tile | model | catalogue | schema |
taxonomy software | service | collectionHardware |
nonGeographicDataset | dimensionGroup</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span>(NEW.md_scope <span class="keyword">IN</span>
(<span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">fieldSession</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">collectionSession</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">series</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">dataset</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">featureType</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">feature</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">attributeType</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">attribute</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">tile</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">model</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">catalogue</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">schema</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">taxonomy</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">software</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">service</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">collectionHardware</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">nonGeographicDataset</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">dimensionGroup</span><span class="delimiter">'</span></span>));
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_md_scope_update</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> <span class="string"><span class="delimiter">'</span><span class="content">md_scope</span><span class="delimiter">'</span></span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table gpkg_metadata violates
constraint: md_scope must be one of undefined | fieldSession |
collectionSession | series | dataset | featureType | feature |
attributeType | attribute | tile | model | catalogue | schema |
taxonomy software | service | collectionHardware |
nonGeographicDataset | dimensionGroup</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span>(NEW.md_scope <span class="keyword">IN</span>
(<span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">fieldSession</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">collectionSession</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">series</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">dataset</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">featureType</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">feature</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">attributeType</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">attribute</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">tile</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">model</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">catalogue</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">schema</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">taxonomy</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">software</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">service</span><span class="delimiter">'</span></span>,
<span class="string"><span class="delimiter">'</span><span class="content">collectionHardware</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">nonGeographicDataset</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">dimensionGroup</span><span class="delimiter">'</span></span>));
<span class="keyword">END</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_metadata_reference">D.3. metadata_reference</h3>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 41. gpkg_metadata_reference Trigger Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference_reference_scope_insert</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table gpkg_metadata_reference
violates constraint: reference_scope must be one of &quot;geopackage&quot;,
table&quot;, &quot;column&quot;, &quot;row&quot;, &quot;row/col&quot;</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> NEW.reference_scope <span class="keyword">IN</span>
(<span class="string"><span class="delimiter">'</span><span class="content">geopackage</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">column</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">row</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference_reference_scope_update</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> <span class="string"><span class="delimiter">'</span><span class="content">reference_scope</span><span class="delimiter">'</span></span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table gpkg_metadata_reference
violates constraint: referrence_scope must be one of &quot;geopackage&quot;,
&quot;table&quot;, &quot;column&quot;, &quot;row&quot;, &quot;row/col&quot;</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> NEW.reference_scope <span class="keyword">IN</span>
(<span class="string"><span class="delimiter">'</span><span class="content">geopackage</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">column</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">row</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference_column_name_insert</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table gpkg_metadata_reference
violates constraint: column name must be NULL when reference_scope
is &quot;geopackage&quot;, &quot;table&quot; or &quot;row&quot;</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.reference_scope <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">geopackage</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">row</span><span class="delimiter">'</span></span>)
<span class="keyword">AND</span> NEW.column_name <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>);
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table gpkg_metadata_reference
violates constraint: column name must be defined for the specified
table when reference_scope is &quot;column&quot; or &quot;row/col&quot;</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.reference_scope <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">column</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>)
<span class="keyword">AND</span> <span class="keyword">NOT</span> NEW.table_name <span class="keyword">IN</span> (
<span class="class">SELECT</span> name <span class="keyword">FROM</span> SQLITE_MASTER <span class="keyword">WHERE</span> type = <span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>
<span class="keyword">AND</span> name = NEW.table_name
<span class="keyword">AND</span> sql <span class="keyword">LIKE</span> (<span class="string"><span class="delimiter">'</span><span class="content">%</span><span class="delimiter">'</span></span> || NEW.column_name || <span class="string"><span class="delimiter">'</span><span class="content">%</span><span class="delimiter">'</span></span>)));
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference_column_name_update</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> column_name <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table gpkg_metadata_reference
violates constraint: column name must be NULL when reference_scope
is &quot;geopackage&quot;, &quot;table&quot; or &quot;row&quot;</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.reference_scope <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">geopackage</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">row</span><span class="delimiter">'</span></span>)
<span class="keyword">AND</span> NEW.column_nameIS <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>);
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table gpkg_metadata_reference
violates constraint: column name must be defined for the specified
table when reference_scope is &quot;column&quot; or &quot;row/col&quot;</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.reference_scope <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">column</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>)
<span class="keyword">AND</span> <span class="keyword">NOT</span> NEW.table_name <span class="keyword">IN</span> (
<span class="class">SELECT</span> name <span class="keyword">FROM</span> SQLITE_MASTER <span class="keyword">WHERE</span> type = <span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>
<span class="keyword">AND</span> name = NEW.table_name
<span class="keyword">AND</span> sql <span class="keyword">LIKE</span> (<span class="string"><span class="delimiter">'</span><span class="content">%</span><span class="delimiter">'</span></span> || NEW.column_name || <span class="string"><span class="delimiter">'</span><span class="content">%</span><span class="delimiter">'</span></span>)));
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference_row_id_value_insert</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table gpkg_metadata_reference
violates constraint: row_id_value must be NULL when reference_scope
is &quot;geopackage&quot;, &quot;table&quot; or &quot;column&quot;</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> NEW.reference_scope <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">geopackage</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">column</span><span class="delimiter">'</span></span>)
<span class="keyword">AND</span> NEW.row_id_value <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>;
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table gpkg_metadata_reference
violates constraint: row_id_value must exist in specified table when
reference_scope is &quot;row&quot; or &quot;row/col&quot;</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> NEW.reference_scope <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">row</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>)
<span class="keyword">AND</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (<span class="class">SELECT</span> rowid
<span class="keyword">FROM</span> (<span class="class">SELECT</span> NEW.table_name <span class="keyword">AS</span> table_name) <span class="keyword">WHERE</span> rowid =
NEW.row_id_value);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference_row_id_value_update</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> <span class="string"><span class="delimiter">'</span><span class="content">row_id_value</span><span class="delimiter">'</span></span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table gpkg_metadata_reference
violates constraint: row_id_value must be NULL when reference_scope
is &quot;geopackage&quot;, &quot;table&quot; or &quot;column&quot;</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> NEW.reference_scope <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">geopackage</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">column</span><span class="delimiter">'</span></span>)
<span class="keyword">AND</span> NEW.row_id_value <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>;
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table gpkg_metadata_reference
violates constraint: row_id_value must exist in specified table when
reference_scope is &quot;row&quot; or &quot;row/col&quot;</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> NEW.reference_scope <span class="keyword">IN</span> (<span class="string"><span class="delimiter">'</span><span class="content">row</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>)
<span class="keyword">AND</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (<span class="class">SELECT</span> rowid
<span class="keyword">FROM</span> (<span class="class">SELECT</span> NEW.table_name <span class="keyword">AS</span> table_name) <span class="keyword">WHERE</span> rowid =
NEW.row_id_value);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference_timestamp_insert</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table gpkg_metadata_reference
violates constraint: timestamp must be a valid time in ISO 8601
&quot;yyyy-mm-ddThh-mm-ss.cccZ&quot; form</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.timestamp GLOB
<span class="string"><span class="delimiter">'</span><span class="content">[1-2][0-9][0-9][0-9]-[0-1][0-9]-[1-3][0-9]T[0-2][0-9]:[0-5][0-
9]:[0-5][0-9].[0-9][0-9][0-9]Z</span><span class="delimiter">'</span></span>
<span class="keyword">AND</span> strftime(<span class="string"><span class="delimiter">'</span><span class="content">%s</span><span class="delimiter">'</span></span>,NEW.timestamp) <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>);
<span class="keyword">END</span>
<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference_timestamp_update</span><span class="delimiter">'</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> <span class="string"><span class="delimiter">'</span><span class="content">timestamp</span><span class="delimiter">'</span></span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">gpkg_metadata_reference</span><span class="delimiter">'</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table gpkg_metadata_reference
violates constraint: timestamp must be a valid time in ISO 8601
&quot;yyyy-mm-ddThh-mm-ss.cccZ&quot; form</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.timestamp GLOB
<span class="string"><span class="delimiter">'</span><span class="content">[1-2][0-9][0-9][0-9]-[0-1][0-9]-[1-3][0-9]T[0-2][0-9]:[0-5][0-
9]:[0-5][0-9].[0-9][0-9][0-9]Z</span><span class="delimiter">'</span></span>
<span class="keyword">AND</span> strftime(<span class="string"><span class="delimiter">'</span><span class="content">%s</span><span class="delimiter">'</span></span>,NEW.timestamp) <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>);
<span class="keyword">END</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_sample_feature_table">D.4. sample_feature_table</h3>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 42. EXAMPLE: features table Trigger Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_feature_table_real_insert</span><span class="delimiter">&quot;</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_feature_table</span><span class="delimiter">&quot;</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table ''sample_feature_table''
violates constraint: real_attribute must be greater than 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.real_attribute &gt; <span class="integer">0</span>);
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_feature_table_real_update</span><span class="delimiter">&quot;</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">real_attribute</span><span class="delimiter">&quot;</span></span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_feature_table</span><span class="delimiter">&quot;</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE (ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update of ''real_attribute'' on table
''sample_feature_table'' violates constraint: real_attribute value
must be &gt; 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.real_attribute &gt; <span class="integer">0</span>);
<span class="keyword">END</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>where &lt;t&gt; and &lt;c&gt; are replaced with the names of the feature table and geometry column being inserted or updated.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sample_tile_pyramid">D.5. sample_tile_pyramid</h3>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 43. tiles table Trigger Definition SQL</caption>
<colgroup>
<col style="width:%;"> 
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid_zoom_insert</span><span class="delimiter">&quot;</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid</span><span class="delimiter">&quot;</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table ''sample_tile_pyramid'' violates constraint: zoom_level not specified for table in gpkg_tile_matrix</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.zoom_level <span class="keyword">IN</span> (<span class="class">SELECT</span> zoom_level <span class="keyword">FROM</span> gpkg_tile_matrix <span class="keyword">WHERE</span> t_table_name = <span class="string"><span class="delimiter">'</span><span class="content">sample_tile_pyramid</span><span class="delimiter">'</span></span>)) ;
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid_zoom_update</span><span class="delimiter">&quot;</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> zoom_level <span class="keyword">ON</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid</span><span class="delimiter">&quot;</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table ''sample_tile_pyramid'' violates constraint: zoom_level not specified for table in gpkg_tile_matrix</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.zoom_level <span class="keyword">IN</span> (<span class="class">SELECT</span> zoom_level <span class="keyword">FROM</span> gpkg_tile_matrix <span class="keyword">WHERE</span> t_table_name = <span class="string"><span class="delimiter">'</span><span class="content">sample_tile_pyramid</span><span class="delimiter">'</span></span>)) ;
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid_tile_column_insert</span><span class="delimiter">&quot;</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid</span><span class="delimiter">&quot;</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table ''sample_tile_pyramid'' violates constraint: tile_column cannot be &lt; 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.tile_column &lt; <span class="integer">0</span>) ;
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table ''sample_tile_pyramid'' violates constraint: tile_column must by &lt; matrix_width specified for table and zoom level in gpkg_tile_matrix</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.tile_column &lt; (<span class="class">SELECT</span> matrix_width <span class="keyword">FROM</span> gpkg_tile_matrix <span class="keyword">WHERE</span> t_table_name = <span class="string"><span class="delimiter">'</span><span class="content">sample_tile_pyramid</span><span class="delimiter">'</span></span> <span class="keyword">AND</span> zoom_level = NEW.zoom_level));
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid_tile_column_update</span><span class="delimiter">&quot;</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> tile_column <span class="keyword">ON</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid</span><span class="delimiter">&quot;</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table ''sample_tile_pyramid'' violates constraint: tile_column cannot be &lt; 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.tile_column &lt; <span class="integer">0</span>) ;
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table ''sample_tile_pyramid'' violates constraint: tile_column must by &lt; matrix_width specified for table and zoom level in gpkg_tile_matrix</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.tile_column &lt; (<span class="class">SELECT</span> matrix_width <span class="keyword">FROM</span> gpkg_tile_matrix <span class="keyword">WHERE</span> t_table_name = <span class="string"><span class="delimiter">'</span><span class="content">sample_tile_pyramid</span><span class="delimiter">'</span></span> <span class="keyword">AND</span> zoom_level = NEW.zoom_level));
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid_tile_row_insert</span><span class="delimiter">&quot;</span></span>
<span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid</span><span class="delimiter">&quot;</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table ''sample_tile_pyramid'' violates constraint: tile_row cannot be &lt; 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.tile_row &lt; <span class="integer">0</span>) ;
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on table ''sample_tile_pyramid'' violates constraint: tile_row must by &lt; matrix_height specified for table and zoom level in gpkg_tile_matrix</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.tile_row &lt; (<span class="class">SELECT</span> matrix_height <span class="keyword">FROM</span> gpkg_tile_matrix <span class="keyword">WHERE</span> t_table_name = <span class="string"><span class="delimiter">'</span><span class="content">sample_tile_pyramid</span><span class="delimiter">'</span></span> <span class="keyword">AND</span> zoom_level = NEW.zoom_level));
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid_tile_row_update</span><span class="delimiter">&quot;</span></span>
<span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> tile_row <span class="keyword">ON</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">sample_tile_pyramid</span><span class="delimiter">&quot;</span></span>
<span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span> <span class="class">BEGIN</span>
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table ''sample_tile_pyramid'' violates constraint: tile_row cannot be &lt; 0</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> (NEW.tile_row &lt; <span class="integer">0</span>) ;
<span class="class">SELECT</span> RAISE(ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update on table ''sample_tile_pyramid'' violates constraint: tile_row must by &lt; matrix_height specified for table and zoom level in gpkg_tile_matrix</span><span class="delimiter">'</span></span>)
<span class="keyword">WHERE</span> <span class="keyword">NOT</span> (NEW.tile_row &lt; (<span class="class">SELECT</span> matrix_height <span class="keyword">FROM</span> gpkg_tile_matrix <span class="keyword">WHERE</span> t_table_name = <span class="string"><span class="delimiter">'</span><span class="content">sample_tile_pyramid</span><span class="delimiter">'</span></span> <span class="keyword">AND</span> zoom_level = NEW.zoom_level));
<span class="keyword">END</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="geometry_types"> Annex E: Geometry Types (Normative)</h2>
<div class="sectionbody">
<table id="geometry_types_core" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 44. Geometry Type Codes (Core)</caption>
<colgroup>
<col style="width:25%;">
<col style="width:75%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GEOMETRY</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POINT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LINESTRING</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">POLYGON</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULTIPOINT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULTILINESTRING</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULTIPOLYGON</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GEOMETRYCOLLECTION</p></td>
</tr>
</tbody>
</table>

<table id="geometry_types_extension" class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 45. Geometry Type Codes (Extension)</caption>
<colgroup>
<col style="width:25%;">
<col style="width:75%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CIRCULARSTRING</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COMPOUNDCURVE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CURVEPOLYGON</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULTICURVE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MULTISURFACE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CURVE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SURFACE</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>GEOMETRY subtypes are POINT, CURVE, SURFACE and GEOMCOLLECTION.</p>
</div>
<div class="paragraph">
<p>CURVE subtypes are LINESTRING, CIRCULARSTRING and COMPOUNDCURVE.</p>
</div>
<div class="paragraph">
<p>SURFACE subtype is CURVEPOLYGON.</p>
</div>
<div class="paragraph">
<p>CURVEPOLYGON subtype is POLYGON.</p>
</div>
<div class="paragraph">
<p>GEOMETRYCOLLECTION subtypes are MULTIPOINT, MULTICURVE and MULTISURFACE.</p>
</div>
<div class="paragraph">
<p>MULTICURVE subtype is MULTILINESTRING.</p>
</div>
<div class="paragraph">
<p>MULTISURFACE subtype is MULTIPOLYGON.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tiles_factor2_example_appendix"> Annex F: Tiles Zoom Times Two Example (Informative)</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 46. Zoom Times Two Example</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">table_name</th>
<th class="tableblock halign-left valign-top">zoom_level</th>
<th class="tableblock halign-left valign-top">matrix_width</th>
<th class="tableblock halign-left valign-top">matrix_height</th>
<th class="tableblock halign-left valign-top">tile_width</th>
<th class="tableblock halign-left valign-top">tile_height</th>
<th class="tableblock halign-left valign-top">pixel_x_size</th>
<th class="tableblock halign-left valign-top">pixel_y_size</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyTiles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">69237.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">68412.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyTiles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34618.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">34206.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyTiles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17309.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17103.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyTiles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8654.64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8654.64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyTiles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">128</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4327.32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4275.75</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyTiles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2163.66</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2137.87</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyTiles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1081.83</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1068.93</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyTiles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1024</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1024</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">540.915</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">543.469</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MyTiles</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2048</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">270.457</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">267.234</p></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect1">
<h2 id="metadata_example_appendix"> Annex G: Hierarchical Metadata Example (Informative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first example use case is from ISO19115 H.2.
Suppose we have this metadata:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_metadata (
  id <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="directive">PRIMARY</span> <span class="type">KEY</span>,
  md_scope <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="directive">DEFAULT</span> <span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>,
  md_standard_uri <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  metadata <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>
)</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">md_scope</th>
<th class="tableblock halign-left valign-top">md_standard_uri</th>
<th class="tableblock halign-left valign-top">metadata</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">series</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">featureType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attributeType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>and this reference table definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TABLE</span> gpkg_metadata_reference (
  reference_scope <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  table_name <span class="predefined-type">TEXT</span>,
  column_name <span class="predefined-type">TEXT</span>,
  row_id_value <span class="predefined-type">INTEGER</span>,
  <span class="predefined-type">timestamp</span> <span class="predefined-type">TEXT</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="directive">DEFAULT</span> (strftime(<span class="string"><span class="delimiter">'</span><span class="content">%Y-%m-%dT%H:%M:%fZ</span><span class="delimiter">'</span></span>,<span class="string"><span class="delimiter">'</span><span class="content">now</span><span class="delimiter">'</span></span>)),
  md_file_id <span class="predefined-type">INTEGER</span> <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>,
  md_parent_id <span class="predefined-type">INTEGER</span>,
  <span class="type">CONSTRAINT</span> crmr_mfi_fk <span class="directive">FOREIGN</span> <span class="type">KEY</span> (md_file_id) <span class="keyword">REFERENCES</span> gpkg_metadata(id),
  <span class="type">CONSTRAINT</span> crmr_mpi_fk <span class="directive">FOREIGN</span> <span class="type">KEY</span> (md_parent_id) <span class="keyword">REFERENCES</span> gpkg_metadata(id)
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>H.2   1) Consider a geographic data provider generating vector mapping data for three Administrative areas(A, B and C).  &#8230; The metadata could be carried exclusively at Dataset Series level.</p>
</div>
<div class="paragraph">
<p>Then we need a record for each layer table for the three admin areas, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">roads</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">-1</span>, <span class="comment">/* row_id_value  */</span>
(<span class="predefined-type">datetime</span>(<span class="string"><span class="delimiter">'</span><span class="content">now</span><span class="delimiter">'</span></span>)),
<span class="integer">3</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">0</span>  <span class="comment">/* md_parent_id  */</span>
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>H.2 2) After some time alternate vector mapping of Administrative area A becomes available. The metadata would then be extended for Administrative area A, to describe the new quality date values. These values would supersede those given for the Dataset series, but only for Administrative area A. The metadata for B and C would remain unchanged. This new metadata would be recorded at Dataset
level.</p>
</div>
<div class="paragraph">
<p>Then we need a record for each layer table in "A" like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">roads</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">-1</span>, <span class="comment">/* row_id_value  */</span>
(<span class="predefined-type">datetime</span>(<span class="string"><span class="delimiter">'</span><span class="content">now</span><span class="delimiter">'</span></span>)),
 <span class="integer">4</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">3</span>  <span class="comment">/* md_parent_id  */</span>
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>H.2 3) Eventually further data becomes available for Administrative area A, with a complete re-survey of the road network. Again this implies new metadata for the affected feature types. This metadata would be carried at Feature type level for Administrative area A. All other metadata relating to other feature types remains unaffected. Only the metadata for roads in Administrative area A is modified. This road metadata is recorded at Feature type level.</p>
</div>
<div class="paragraph">
<p>Then we need a record for each layer table for the roads network, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">roads</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">-1</span>, <span class="comment">/* row_id_value  */</span>
(<span class="predefined-type">datetime</span>(<span class="string"><span class="delimiter">'</span><span class="content">now</span><span class="delimiter">'</span></span>)),
<span class="integer">5</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">4</span>  <span class="comment">/* md_parent_id  */</span>
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>H.2 4) An anomaly in the road survey is identified, in that all Overhead clearances for the Administrative area A have been surveyed to the nearest metre. These are re-surveyed to the nearest decimetre.  This re-survey implies new metadata for the affected attribute type ‘Overhead Clearance’. All other metadata for Administrative area A remains unaffected. This ‘Overhead Clearance’ metadata is recorded at Attribute Type level.</p>
</div>
<div class="paragraph">
<p>Then we need a record for each layer table in the roads network with attribute type <em>Overhead Clearance</em>, like this;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">column</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">roads</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">overhead_clearance</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">-1</span>, <span class="comment">/* row_id_value  */</span>
(<span class="predefined-type">datetime</span>(<span class="string"><span class="delimiter">'</span><span class="content">now</span><span class="delimiter">'</span></span>)),
<span class="integer">7</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">4</span>  <span class="comment">/* md_parent_id  */</span>
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>H.2 5) A new bridge is constructed in Administrative area A. This new data is reflected in the geographic data for Administrative area A, and new metadata is required to record this new feature. All other metadata for Administrative area A remains unaffected. This new feature metadata is recorded at Feature instance level.</p>
</div>
<div class="paragraph">
<p>Then we need a record for the bridge layer table row for the new bridge, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">row</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">bridge</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">987</span>, <span class="comment">/* row_id_value  */</span>
(<span class="predefined-type">datetime</span>(<span class="string"><span class="delimiter">'</span><span class="content">now</span><span class="delimiter">'</span></span>)),
<span class="integer">6</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">4</span>  <span class="comment">/* md_parent_id  */</span>
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>H.2  6) The overhead clearance attribute of the new bridge was wrongly recorded, and is modified. Again this new attribute requires new metadata to describe the modification. All other metadata for Administrative area A remains unaffected. This new attribute metadata is recorded at Attribute instance level.</p>
</div>
<div class="paragraph">
<p>Then we need a record for the clearance attribute value, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">bridge</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">overhead_clearance</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">987</span>, <span class="comment">/* row_id_value  */</span>
(<span class="predefined-type">datetime</span>(<span class="string"><span class="delimiter">'</span><span class="content">now</span><span class="delimiter">'</span></span>)),
<span class="integer">8</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">4</span>  <span class="comment">/* md_parent_id  */</span>
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The second example use case is for a field data collection session.  This use case demonstrates a mechanism to indicate which data in a GeoPackage that was originally loaded with data from one or more services has been collected or updated since the initial load, and therefore MAY need to be uploaded to update the original services (e.g. WFS, WCS, WMTS).</p>
</div>
<div class="paragraph">
<p>Suppose a user with a mobile handheld device goes out in the field and collects observations of a new "Point of Interest" (POI) feature type, and associated metadata about the field session, the new feature type, some POI instances and some of their attributes (e.g. spatial accuracy, attribute accuracy) that results in the following additional metadata:</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">md_scope</th>
<th class="tableblock halign-left valign-top">md_standard_uri</th>
<th class="tableblock halign-left valign-top">metadata</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fieldSession</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.opengis.net/iso/19139/">http://schemas.opengis.net/iso/19139/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">featureType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.opengis.net/iso/19139/">http://schemas.opengis.net/iso/19139/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.opengis.net/iso/19139/">http://schemas.opengis.net/iso/19139/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.opengis.net/iso/19139/">http://schemas.opengis.net/iso/19139/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.opengis.net/iso/19139/">http://schemas.opengis.net/iso/19139/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.opengis.net/iso/19139/">http://schemas.opengis.net/iso/19139/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.opengis.net/iso/19139/">http://schemas.opengis.net/iso/19139/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.opengis.net/iso/19139/">http://schemas.opengis.net/iso/19139/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.opengis.net/iso/19139/">http://schemas.opengis.net/iso/19139/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.opengis.net/iso/19139/">http://schemas.opengis.net/iso/19139/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://schemas.opengis.net/iso/19139/">http://schemas.opengis.net/iso/19139/</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>(This example assumes that the field session data is still considered "raw" and won&#8217;t be considered a data set or part of a data series until it has been verified and cleaned, but if that is wrong then additional series and data set metadata could be added.)</p>
</div>
<div class="paragraph">
<p>Then we need a gpkg_metadata_reference record for the field session for the new POI table, whose md_parent_id is undefined:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">poi</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">-1</span>, <span class="comment">/* row_id_value  */</span>
(strftime(<span class="error">‘</span>%Y-%m-%dT%H:%M:%fZ<span class="error">’</span>,<span class="error">’</span><span class="predefined">now</span><span class="error">’</span>)),
<span class="integer">1</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">0</span>  <span class="comment">/* md_parent_id  */</span>
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we need a gpkg_metadata_reference record for the feature type for the new POI table, whose md_parent_id is that of the field session:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">table</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">poi</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">-1</span>, <span class="comment">/* row_id_value  */</span>
(strftime(<span class="error">‘</span>%Y-%m-%dT%H:%M:%fZ<span class="error">’</span>,<span class="error">’</span><span class="predefined">now</span><span class="error">’</span>)),
<span class="integer">10</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">1</span>  <span class="comment">/* md_parent_id  */</span>
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then we need gpkg_metadata_reference records for the poi feature instance rows, whose md_parent_id is that of the field session:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">row</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">poi</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">1</span>, <span class="comment">/* row_id_value  */</span>
(strftime(<span class="error">‘</span>%Y-%m-%dT%H:%M:%fZ<span class="error">’</span>,<span class="error">’</span><span class="predefined">now</span><span class="error">’</span>)),
<span class="integer">11</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">1</span>  <span class="comment">/* md_parent_id  */</span>
)

<span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">row</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">poi</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">2</span>, <span class="comment">/* row_id_value  */</span>
<span class="integer">14</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">1</span>  <span class="comment">/* md_parent_id  */</span>
)

<span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">row</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">poi</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">undefined</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">3</span>, <span class="comment">/* row_id_value  */</span>
(strftime(<span class="error">‘</span>%Y-%m-%dT%H:%M:%fZ<span class="error">’</span>,<span class="error">’</span><span class="predefined">now</span><span class="error">’</span>)),
<span class="integer">17</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">1</span>  <span class="comment">/* md_parent_id  */</span>
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>And finally we need gpkg_metadata_reference records for the poi attribute instance metadata , whose md_parent_id is that of the field session:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">poi</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">point</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">1</span>, <span class="comment">/* row_id_value  */</span>
(strftime(<span class="error">‘</span>%Y-%m-%dT%H:%M:%fZ<span class="error">’</span>,<span class="error">’</span><span class="predefined">now</span><span class="error">’</span>)),
<span class="integer">12</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">1</span>  <span class="comment">/* md_parent_id  */</span>
)

<span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">poi</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">point</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">2</span>, <span class="comment">/* row_id_value  */</span>
(strftime(<span class="error">‘</span>%Y-%m-%dT%H:%M:%fZ<span class="error">’</span>,<span class="error">’</span><span class="predefined">now</span><span class="error">’</span>)),
<span class="integer">15</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">1</span>  <span class="comment">/* md_parent_id  */</span>
)

<span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">poi</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">point</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">3</span>, <span class="comment">/* row_id_value  */</span>
(strftime(<span class="error">‘</span>%Y-%m-%dT%H:%M:%fZ<span class="error">’</span>,<span class="error">’</span><span class="predefined">now</span><span class="error">’</span>)),
<span class="integer">18</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">1</span>  <span class="comment">/* md_parent_id  */</span>
)

<span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">poi</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">category</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">1</span>, <span class="comment">/* row_id_value  */</span>
(strftime(<span class="error">‘</span>%Y-%m-%dT%H:%M:%fZ<span class="error">’</span>,<span class="error">’</span><span class="predefined">now</span><span class="error">’</span>)),
<span class="integer">13</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">1</span>  <span class="comment">/* md_parent_id  */</span>
)

<span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">poi</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">category</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">2</span>, <span class="comment">/* row_id_value  */</span>
(strftime(<span class="error">‘</span>%Y-%m-%dT%H:%M:%fZ<span class="error">’</span>,<span class="error">’</span><span class="predefined">now</span><span class="error">’</span>)),
<span class="integer">16</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">1</span>  <span class="comment">/* md_parent_id  */</span>
)

<span class="class">INSERT</span> <span class="class">INTO</span> gpkg_metadata_reference <span class="keyword">VALUES</span> (
<span class="string"><span class="delimiter">'</span><span class="content">row/col</span><span class="delimiter">'</span></span>, <span class="comment">/* reference type */</span>
<span class="string"><span class="delimiter">'</span><span class="content">poi</span><span class="delimiter">'</span></span>, <span class="comment">/* table name */</span>
<span class="string"><span class="delimiter">'</span><span class="content">category</span><span class="delimiter">'</span></span>, <span class="comment">/* column_name */</span>
<span class="integer">3</span>, <span class="comment">/* row_id_value  */</span>
(strftime(<span class="error">‘</span>%Y-%m-%dT%H:%M:%fZ<span class="error">’</span>,<span class="error">’</span><span class="predefined">now</span><span class="error">’</span>)),
<span class="integer">19</span>,  <span class="comment">/* md_file_id  */</span>
<span class="integer">1</span>  <span class="comment">/* md_parent_id  */</span>
)</code></pre>
</div>
</div>
<div class="paragraph">
<p>As long as all metadata collected in the field session either directly (as above) or indirectly (suppose there were a data set level metadata_reference record intermediary) refers to the field session metadata via md_parent_id values, then this chain of metadata references identifies the newly collected information, as Joan requested, in addition to the metadata.</p>
</div>
<div class="paragraph">
<p>So here is the data after both examples:</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 47. xml_metadata</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">id</th>
<th class="tableblock halign-left valign-top">md_scope</th>
<th class="tableblock halign-left valign-top">md_standard_uri</th>
<th class="tableblock halign-left valign-top">metadata</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fieldSession</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">collectionSession</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">series</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">featureType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attributeType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">featureType</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TEXT</p></td>
</tr>
</tbody>
</table>

<table class="tableblock frame-all grid-all" style="width:100%; ">
<caption class="title">Table 48. gpkg_metadata_reference</caption>
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">reference_type</th>
<th class="tableblock halign-left valign-top">table_name</th>
<th class="tableblock halign-left valign-top">column_name</th>
<th class="tableblock halign-left valign-top">row_id_value</th>
<th class="tableblock halign-left valign-top">timestamp</th>
<th class="tableblock halign-left valign-top">md_file_id</th>
<th class="tableblock halign-left valign-top">md_parent_id</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">roads</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">roads</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">roads</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">column</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">roads</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">overhead_clearance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bridge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">987</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row/col</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bridge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">overhead_clearance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">987</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">poi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">poi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">poi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">poi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row/col</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">poi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">undefined</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row/col</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">poi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row/col</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">poi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row/col</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">poi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row/col</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">poi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row/col</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">poi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">row/col</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">poi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">category</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect1">
<h2 id="raster_or_tile_metadata_example_appendix"> Annex H: Raster or Tile Metadata Example (Informative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A number of raster image processing problems MAY require the support of more metadata that is contained in the image itself.
Applications MAY use the <code>gpkg_metadata</code> and <code>gpkg_metadata_reference</code> tables defined in clause <a href="#_metadata">Metadata</a> to store raster image metadata defined according to standard authoritative or application or vendor specific metadata models.
An example of the data items in such a model is shown in the following table.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Rational Polynomial Coefficient</p>
</li>
<li>
<p>Photometric Interpretation</p>
</li>
<li>
<p>No Data Value</p>
</li>
<li>
<p>Compression Quality Factor</p>
</li>
<li>
<p>Georectification</p>
</li>
<li>
<p>NIIRS</p>
</li>
<li>
<p>Min X</p>
</li>
<li>
<p>Min Y</p>
</li>
<li>
<p>Max X</p>
</li>
<li>
<p>Max Y</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extension_template"> Annex I: GeoPackage Extension Template (Normative)</h2>
<div class="sectionbody">
<h3 id="_extension_title" class="float">Extension Title</h3>
<div class="paragraph">
<p>Title of the Extension</p>
</div>
<h3 id="_introduction_3" class="float">Introduction</h3>
<div class="paragraph">
<p>Description of extension</p>
</div>
<h3 id="_extension_author" class="float">Extension Author</h3>
<div class="paragraph">
<p>Author of extension, author_name.</p>
</div>
<h3 id="_extension_name_or_template" class="float">Extension Name or Template</h3>
<div class="paragraph">
<p>Name of the extension or definition of the template to create the name of extensions that should be used in gpkg_extensions</p>
</div>
<h3 id="_extension_type" class="float">Extension Type</h3>
<div class="paragraph">
<p>"Extension of Existing Requirement in Clause(s) XXX" or "New Requirement Dependent on Clause(s) YYY"</p>
</div>
<h3 id="_applicability" class="float">Applicability</h3>
<div class="paragraph">
<p>Tables and/or columns on which this extension may be applied</p>
</div>
<h3 id="_scope" class="float">Scope</h3>
<div class="paragraph">
<p>Read-write or write-only with clarification if necessary</p>
</div>
<h3 id="_requirements" class="float">Requirements</h3>
<div class="paragraph">
<p>Definition of extension and interdependencies with other extensions if any.</p>
</div>
<h4 id="_geopackage" class="float">GeoPackage</h4>
<div class="paragraph">
<p>Definition of extension data or MIME type(s)</p>
</div>
<div class="paragraph">
<p>Definition of extension tables or table templates</p>
</div>
<div class="paragraph">
<p>Definition of triggers or trigger templates</p>
</div>
<h4 id="_geopackage_sqlite_configuration" class="float">GeoPackage SQLite Configuration</h4>
<div class="paragraph">
<p>Definition of SQLite configuration settings</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setting compile or runtime</th>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Shall / Not (Value)</th>
<th class="tableblock halign-left valign-top">Discussion</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

<h4 id="_geopackage_sqlite_extension" class="float">GeoPackage SQLite Extension</h4>
<div class="paragraph">
<p>Definition of SQL functions</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">SQL Function</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">foo(bar, baz) : datatype</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns r when w</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>

</div>
</div>
<div class="sect1">
<h2 id="extension_geometry_types"> Annex J: GeoPackage Geometry Types Extension Template (Normative)</h2>
<div class="sectionbody">
<h3 id="_extension_title_2" class="float">Extension Title</h3>
<div class="paragraph">
<p>GeoPackage Non-Linear Geometry Types</p>
</div>
<h3 id="_introduction_4" class="float">Introduction</h3>
<div class="paragraph">
<p>Clause 2.1.4 of the GeoPackage Version 1 Encoding Standard specifies support for the Geometry, Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, and GeomCollection geometry types in the GeoPackageBinary geometry encoding format specified in clause 2.1.3.
This extension specifies support for the additional CircularString, CompoundCurve, CurvePolygon, MultiCurve, MultiSurface, Curve, and Surface geometry types in the GeoPackage Binary geometry encoding format using the codes listed in Annex D.</p>
</div>
<h3 id="_extension_author_2" class="float">Extension Author</h3>
<div class="paragraph">
<p>GeoPackage SWG, author_name <code>gpkg</code></p>
</div>
<h3 id="_extension_name_or_template_2" class="float">Extension Name or Template</h3>
<div class="paragraph">
<p>Extension names are constructed from the gpkg_geom_&lt;gname&gt; template where &lt;gname&gt; is the uppercase name of the extension geometry type in Annex D Table 52?</p>
</div>
<h3 id="_extension_type_2" class="float">Extension Type</h3>
<div class="paragraph">
<p>Extension of Existing Requirement in clause <a href="#sql_geometry_types">SQL几何类型</a></p>
</div>
<h3 id="_applicability_2" class="float">Applicability</h3>
<div class="paragraph">
<p>This extension applies to any column specified in the <code>gpkg_geometry_columns</code> table.</p>
</div>
<h3 id="_scope_2" class="float">Scope</h3>
<div class="paragraph">
<p>Read-write</p>
</div>
<h3 id="_requirements_2" class="float">Requirements</h3>
<h4 id="_geopackage_2" class="float">GeoPackage</h4>
<div class="paragraph">
<p>The GeoPackageBinary geometry encoding format specified in clause <a href="#gpb_format">几何编码</a> SHALL be used to encode non-linear geometry types using the type codes in <a href="#geometry_types">Geometry Types (Normative)</a> table <a href="#geometry_types_extension">Geometry Type Codes (Extension)</a>.</p>
</div>
<h4 id="_geopackage_sqlite_configuration_2" class="float">GeoPackage SQLite Configuration</h4>
<div class="paragraph">
<p>None</p>
</div>
<h4 id="_geopackage_sqlite_extension_2" class="float">GeoPackage SQLite Extension</h4>
<div class="paragraph">
<p>SQL functions that operate on GeoPackageBinary geometries as specified in other extensions SHALL operate correctly on the non-linear geometries specified in this extension.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extension_geometry_encoding"> Annex K: User-Defined Geometry Types Encoding Extension Template (Normative)</h2>
<div class="sectionbody">
<h3 id="_extension_title_3" class="float">Extension Title</h3>
<div class="paragraph">
<p>User Defined Geometry Types Extension of GeoPackageBinary Geometry Encoding</p>
</div>
<h3 id="_introduction_5" class="float">Introduction</h3>
<div class="paragraph">
<p>This extension specifies a standard way to implement user defined extensions of the GeoPackageBinary geometry encoding format to encode geometry types not specified in clauses <a href="#sql_geometry_types">SQL几何类型</a> and 3.1.1 and listed in <a href="#geometry_types">Geometry Types (Normative)</a>.
It is intended to be a bridge to enable use of geometry types like EllipiticalCurve in Extended GeoPackages until standard encodings of such types are developed and published for the Well Known Binary (WKB) format.</p>
</div>
<h3 id="_extension_author_3" class="float">Extension Author</h3>
<div class="paragraph">
<p>Name of implementer, author_name NOT <code>gpkg</code>.</p>
</div>
<h3 id="_extension_name_or_template_3" class="float">Extension Name or Template</h3>
<div class="paragraph">
<p>Extension names are constructed from the &lt;author_name&gt;_geom_&lt;gname&gt; template where &lt;gname&gt; is the uppercase name of an extension geometry type NOT in <a href="#geometry_types">Geometry Types (Normative)</a>.</p>
</div>
<h3 id="_extension_type_3" class="float">Extension Type</h3>
<div class="paragraph">
<p>Extension of Existing Requirement in clauses <a href="#gpb_format">几何编码</a>, <a href="#sql_geometry_types">SQL几何类型</a> and 3.1.1.</p>
</div>
<h3 id="_applicability_3" class="float">Applicability</h3>
<div class="paragraph">
<p>This extension applies to any column specified in the gpkg_geometry_columns table.</p>
</div>
<h3 id="_scope_3" class="float">Scope</h3>
<div class="paragraph">
<p>Read-write</p>
</div>
<h3 id="_requirements_3" class="float">Requirements</h3>
<div class="paragraph">
<p>This extension specifies use of an ExtendedGeoPackageBinary encoding format for geometry types not listed in <a href="#geometry_types">Geometry Types (Normative)</a>, and use of the extension name in uppercase for the <code>geometry_type_name</code> column value in the <code>gpkg_geometry_columns</code> table.</p>
</div>
<h4 id="_geopackage_3" class="float">GeoPackage</h4>
<div class="paragraph">
<p>One of the reserved bits in the GeoPackageBinary header is used to indicate the presence of the ExtendedGeopackageBinary encoding format.
In the extension case a four byte sequence follows the GPB header to disambiguate various extensions.
This extension_code SHOULD identify the implementer of the extension and/or the particular geometry type extension, and SHOULD be unique.
The actual extension geometry body is not specified, but SHALL be described in the extension document.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ExtendedGeoPackageBinary {
  GeoPackageBinaryHeader header; <i class="conum" data-value="1"></i><b>(1)</b>
  byte[4] extension_code;        <i class="conum" data-value="2"></i><b>(2)</b>
  byte[] extension_specific;     <i class="conum" data-value="3"></i><b>(3)</b>
}</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The X bit in the header flags field must be set to 1.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>To indicate different extensions or vendors. 0x47504B47 (GPKG in ASCII) is reserved.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Extension specific contents</td>
</tr>
</table>
</div>
<h4 id="_geopackage_sqlite_configuration_3" class="float">GeoPackage SQLite Configuration</h4>
<div class="paragraph">
<p>None</p>
</div>
<h4 id="_geopackage_sqlite_extension_3" class="float">GeoPackage SQLite Extension</h4>
<div class="paragraph">
<p>SQL functions that operate on GeoPackageBinary geometries as specified in other extensions SHALL operate correctly on user-defined geometry types encoded in the ExtendedGeopackageBinary format as specified in this extension.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extension_rtree"> Annex L: RTree Spatial Index Extension (Normative)</h2>
<div class="sectionbody">
<h3 id="_extension_title_4" class="float">Extension Title</h3>
<div class="paragraph">
<p>Rtree Spatial Indexes</p>
</div>
<h3 id="_introduction_6" class="float">Introduction</h3>
<div class="paragraph">
<p>The rtree index extension provides a means to encode an rtree index for geometry values in a GeoPackage. An RTree index provides a significant performance advantage for searches with basic envelope spatial criteria that return subsets of the rows in a feature table with a non-trivial number (thousands or more) of rows.</p>
</div>
<h3 id="_extension_author_4" class="float">Extension Author</h3>
<div class="paragraph">
<p>GeoPackage SWG, author_name <code>gpkg</code>.</p>
</div>
<h3 id="_extension_name_or_template_4" class="float">Extension Name or Template</h3>
<div class="paragraph">
<p><code>gpkg_rtree_index</code></p>
</div>
<h3 id="_extension_type_4" class="float">Extension Type</h3>
<div class="paragraph">
<p>New Requirement dependent on clauses <a href="#gpb_format">几何编码</a> and 3.1.2.</p>
</div>
<h3 id="_applicability_4" class="float">Applicability</h3>
<div class="paragraph">
<p>This extension applies to any column specified in the <code>gpkg_geometry_columns</code> table.</p>
</div>
<h3 id="_scope_4" class="float">Scope</h3>
<div class="paragraph">
<p>Write-only, because it does not change the result of reads, although it may improve their performance.</p>
</div>
<h3 id="_requirements_4" class="float">Requirements</h3>
<div class="paragraph">
<p>This extension uses the rtree implementation provided by the SQLite R*Tree Module extension documented at <a href="http://www.sqlite.org/rtree.html">http://www.sqlite.org/rtree.html</a>.</p>
</div>
<h4 id="_geopackage_4" class="float">GeoPackage</h4>
<div class="paragraph">
<p>The tables below contain SQL templates with variables.
Replace the following template variables with the specified values to create the required SQL statements:<br>
&lt;t&gt;: The name of the feature table containing the geometry column<br>
&lt;c&gt;: The name of the geometry column in &lt;t&gt; that is being indexed<br>
&lt;i&gt;: The name of the integer primary key column in &lt;t&gt; as specified in <a href="#requirement_feature_integer_pk">Requirement 29</a></p>
</div>
<h5 id="_create_virtual_table" class="float">Create Virtual Table</h5>
<div class="paragraph">
<p>RTree spatial indexes on geometry columns SHALL be created using the SQLite Virtual Table RTree extension.
An application that creates a spatial index SHALL create it using the following SQL statement template:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> VIRTUAL <span class="type">TABLE</span> rtree_&lt;t&gt;_&lt;c&gt; <span class="keyword">USING</span> rtree(id, minx, maxx, miny, maxy)</code></pre>
</div>
</div>
<div class="paragraph">
<p>where &lt;t&gt; and &lt;c&gt; are replaced with the names of the feature table and geometry column being indexed.
The rtree function id parameter becomes the virtual table 64-bit signed integer primary key id column, and the min/max x/y parameters are min- and max-value pairs (stored as 32-bit floating point numbers) for each dimension that become the virtual table data columns that are populated to create the spatial rtree index.</p>
</div>
<h5 id="_load_spatial_index_values" class="float">Load Spatial Index Values</h5>
<div class="paragraph">
<p>The indexes provided by the SQLite Virtual Table RTree extension are not automatic indices.
This means the index data structure needs to be manually populated, updated and queried.
Each newly created spatial index SHALL be populated using the following SQL statement</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">INSERT</span> <span class="keyword">OR</span> <span class="class">REPLACE</span> <span class="class">INTO</span> rtree_&lt;t&gt;_&lt;c&gt;
  <span class="class">SELECT</span> &lt;i&gt;, st_minx(&lt;c&gt;), st_maxx(&lt;c&gt;), st_miny(&lt;c&gt;), st_maxy(&lt;c&gt;) <span class="keyword">FROM</span> &lt;t&gt;;</code></pre>
</div>
</div>
<div class="paragraph">
<p>where &lt;t&gt; and &lt;c&gt; are replaced with the names of the feature table and geometry column being indexed and &lt;i&gt; is replaced with the name of the feature table integer primary key column.</p>
</div>
<h5 id="_define_triggers_to_maintain_spatial_index_values" class="float">Define Triggers to Maintain Spatial Index Values</h5>
<div class="paragraph">
<p>For each spatial index in a GeoPackage, corresponding insert, update and delete triggers that update the spatial index SHALL be present on the indexed geometry column.
These spatial index triggers SHALL be defined as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="comment">/* Conditions: Insertion of non-empty geometry
   Actions   : Insert record into rtree */</span>
<span class="class">CREATE</span> <span class="type">TRIGGER</span> rtree_&lt;t&gt;_&lt;c&gt;_insert <span class="directive">AFTER</span> <span class="class">INSERT</span> <span class="keyword">ON</span> &lt;t&gt;
  <span class="keyword">WHEN</span> (new.&lt;c&gt; <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span> <span class="keyword">AND</span> <span class="keyword">NOT</span> ST_IsEmpty(NEW.&lt;c&gt;))
<span class="class">BEGIN</span>
  <span class="class">INSERT</span> <span class="keyword">OR</span> <span class="class">REPLACE</span> <span class="class">INTO</span> rtree_&lt;t&gt;_&lt;c&gt; <span class="keyword">VALUES</span> (
    NEW.&lt;i&gt;,
    ST_MinX(NEW.&lt;c&gt;), ST_MaxX(NEW.&lt;c&gt;),
    ST_MinY(NEW.&lt;c&gt;), ST_MaxY(NEW.&lt;c&gt;)
  );
<span class="keyword">END</span>;

<span class="comment">/* Conditions: Update of geometry column to non-empty geometry
               No row ID change
   Actions   : Update record in rtree */</span>
<span class="class">CREATE</span> <span class="type">TRIGGER</span> rtree_&lt;t&gt;_&lt;c&gt;_update1 <span class="directive">AFTER</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> &lt;c&gt; <span class="keyword">ON</span> &lt;t&gt;
  <span class="keyword">WHEN</span> OLD.&lt;i&gt; = NEW.&lt;i&gt; <span class="keyword">AND</span>
       (NEW.&lt;c&gt; NOTNULL <span class="keyword">AND</span> <span class="keyword">NOT</span> ST_IsEmpty(NEW.&lt;c&gt;))
<span class="class">BEGIN</span>
  <span class="class">INSERT</span> <span class="keyword">OR</span> <span class="class">REPLACE</span> <span class="class">INTO</span> rtree_&lt;t&gt;_&lt;c&gt; <span class="keyword">VALUES</span> (
    NEW.&lt;i&gt;,
    ST_MinX(NEW.&lt;c&gt;), ST_MaxX(NEW.&lt;c&gt;),
    ST_MinY(NEW.&lt;c&gt;), ST_MaxY(NEW.&lt;c&gt;)
  );
<span class="keyword">END</span>;

<span class="comment">/* Conditions: Update of geometry column to empty geometry
               No row ID change
   Actions   : Remove record from rtree */</span>
<span class="class">CREATE</span> <span class="type">TRIGGER</span> rtree_&lt;t&gt;_&lt;c&gt;_update2 <span class="directive">AFTER</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> &lt;c&gt; <span class="keyword">ON</span> &lt;t&gt;
  <span class="keyword">WHEN</span> OLD.&lt;i&gt; = NEW.&lt;i&gt; <span class="keyword">AND</span>
       (NEW.&lt;c&gt; ISNULL <span class="keyword">OR</span> ST_IsEmpty(NEW.&lt;c&gt;))
<span class="class">BEGIN</span>
  <span class="class">DELETE</span> <span class="keyword">FROM</span> rtree_&lt;t&gt;_&lt;c&gt; <span class="keyword">WHERE</span> id = OLD.&lt;i&gt;;
<span class="keyword">END</span>;

<span class="comment">/* Conditions: Update of any column
               Row ID change
               Non-empty geometry
   Actions   : Remove record from rtree for old &lt;i&gt;
               Insert record into rtree for new &lt;i&gt; */</span>
<span class="class">CREATE</span> <span class="type">TRIGGER</span> rtree_&lt;t&gt;_&lt;c&gt;_update3 <span class="directive">AFTER</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> &lt;c&gt; <span class="keyword">ON</span> &lt;t&gt;
  <span class="keyword">WHEN</span> OLD.&lt;i&gt; != NEW.&lt;i&gt; <span class="keyword">AND</span>
       (NEW.&lt;c&gt; NOTNULL <span class="keyword">AND</span> <span class="keyword">NOT</span> ST_IsEmpty(NEW.&lt;c&gt;))
<span class="class">BEGIN</span>
  <span class="class">DELETE</span> <span class="keyword">FROM</span> rtree_&lt;t&gt;_&lt;c&gt; <span class="keyword">WHERE</span> id = OLD.&lt;i&gt;;
  <span class="class">INSERT</span> <span class="keyword">OR</span> <span class="class">REPLACE</span> <span class="class">INTO</span> rtree_&lt;t&gt;_&lt;c&gt; <span class="keyword">VALUES</span> (
    NEW.&lt;i&gt;,
    ST_MinX(NEW.&lt;c&gt;), ST_MaxX(NEW.&lt;c&gt;),
    ST_MinY(NEW.&lt;c&gt;), ST_MaxY(NEW.&lt;c&gt;)
  );
<span class="keyword">END</span>;

<span class="comment">/* Conditions: Update of any column
               Row ID change
               Empty geometry
   Actions   : Remove record from rtree for old and new &lt;i&gt; */</span>
<span class="class">CREATE</span> <span class="type">TRIGGER</span> rtree_&lt;t&gt;_&lt;c&gt;_update4 <span class="directive">AFTER</span> <span class="class">UPDATE</span> <span class="keyword">ON</span> &lt;t&gt;
  <span class="keyword">WHEN</span> OLD.&lt;i&gt; != NEW.&lt;i&gt; <span class="keyword">AND</span>
       (NEW.&lt;c&gt; ISNULL <span class="keyword">OR</span> ST_IsEmpty(NEW.&lt;c&gt;))
<span class="class">BEGIN</span>
  <span class="class">DELETE</span> <span class="keyword">FROM</span> rtree_&lt;t&gt;_&lt;c&gt; <span class="keyword">WHERE</span> id <span class="keyword">IN</span> (OLD.&lt;i&gt;, NEW.&lt;i&gt;);
<span class="keyword">END</span>;

<span class="comment">/* Conditions: Row deleted
   Actions   : Remove record from rtree for old &lt;i&gt; */</span>
<span class="class">CREATE</span> <span class="type">TRIGGER</span> rtree_&lt;t&gt;_&lt;c&gt;_delete <span class="directive">AFTER</span> <span class="class">DELETE</span> <span class="keyword">ON</span> &lt;t&gt;
  <span class="keyword">WHEN</span> old.&lt;c&gt; <span class="keyword">NOT</span> <span class="predefined-constant">NULL</span>
<span class="class">BEGIN</span>
  <span class="class">DELETE</span> <span class="keyword">FROM</span> rtree_&lt;t&gt;_&lt;c&gt; <span class="keyword">WHERE</span> id = OLD.&lt;i&gt;;
<span class="keyword">END</span>;</code></pre>
</div>
</div>
<div class="paragraph">
<p>where &lt;t&gt; and &lt;c&gt; are replaced with the names of the feature table and geometry column being indexed and &lt;i&gt; is replaced with the name of the feature table integer primary key column.</p>
</div>
<h4 id="_geopackage_sqlite_configuration_4" class="float">GeoPackage SQLite Configuration</h4>
<div class="paragraph">
<p>Definition of SQLite configuration settings</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Setting compile or runtime</th>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Shall / Not (Value)</th>
<th class="tableblock halign-left valign-top">Discussion</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">compile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SQLITE_ENABLE_RTREE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shall</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RTrees ares used for GeoPackage Spatial Indexes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">compile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SQLITE_RTREE_INT_ONLY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RTrees with floating point values are used for GeoPackage spatial indexes</p></td>
</tr>
</tbody>
</table>

<h4 id="_geopackage_sqlite_extension_4" class="float">GeoPackage SQLite Extension</h4>
<div class="paragraph">
<p>Definition of SQL functions</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">SQL Function</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST_IsEmpty(geom Geometry): integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns 1 if geometry value is empty, 0 if not empty, NULL if geometry value is NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test if a geometry value corresponds to the empty set</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST_MinX(geom Geometry): real</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the minimum X value of the bounding envelope of a geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update the spatial index on a geometry column in a feature table</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST_MaxX(geom Geometry): real</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the maximum Y value of the bounding envelope of a geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update the spatial index on a geometry column in a feature table</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST_MinY(geom Geometry): real</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the minimum X value of the bounding envelope of a geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update the spatial index on a geometry column in a feature table</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST_MaxY(geom Geometry): real</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the maximum Y value of the bounding envelope of a geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update the spatial index on a geometry column in a feature table</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>The SQL functions on geometries in this SQLite Extension SHALL operate correctly on extended geometry types specified by <a href="#extension_geometry_encoding">User-Defined Geometry Types Encoding Extension Template (Normative)</a> and/or <a href="#extension_geometry_types">GeoPackage Geometry Types Extension Template (Normative)</a> when those extensions are also implemented.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extension_geometry_type_triggers"> Annex M: Geometry Type Triggers Extension (Normative)</h2>
<div class="sectionbody">
<h3 id="_extension_title_5" class="float">Extension Title</h3>
<div class="paragraph">
<p>Geometry Type Triggers</p>
</div>
<h3 id="_introduction_7" class="float">Introduction</h3>
<div class="paragraph">
<p>Geometry type triggers prevent the storage of geometries of types that are not assignable from the geometry types specified in the gpkg_geometry_columns table in the geometry columns of the specified tables.</p>
</div>
<h3 id="_extension_author_5" class="float">Extension Author</h3>
<div class="paragraph">
<p>GeoPackage SWG, author_name <code>gpkg</code>.</p>
</div>
<h3 id="_extension_name_or_template_5" class="float">Extension Name or Template</h3>
<div class="paragraph">
<p><code>gpkg_geometry_type_trigger</code></p>
</div>
<h3 id="_extension_type_5" class="float">Extension Type</h3>
<div class="paragraph">
<p>New Requirement dependent on clauses <a href="#gpb_format">几何编码</a> and 3.1.2.</p>
</div>
<h3 id="_applicability_5" class="float">Applicability</h3>
<div class="paragraph">
<p>This extension applies to any column specified in the gpkg_geometry_columns table.</p>
</div>
<h3 id="_scope_5" class="float">Scope</h3>
<div class="paragraph">
<p>Write-only</p>
</div>
<h3 id="_requirements_5" class="float">Requirements</h3>
<div class="paragraph">
<p>The &lt;t&gt; and &lt;c&gt; template parameters in the geometry type trigger definition SQL template in the table below are to be replaced with the names of the feature table and geometry column being inserted or updated.</p>
</div>
<h4 id="_geopackage_5" class="float">GeoPackage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TRIGGER</span> fgti_&lt;t&gt;_&lt;c&gt; <span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">&lt;t&gt;</span><span class="delimiter">'</span></span> <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span>
<span class="class">BEGIN</span>
  <span class="class">SELECT</span> RAISE (ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on &lt;t&gt; violates constraint: ST_GeometryType(&lt;c&gt;) is not assignable from gpkg_geometry_columns.geometry_type_name value</span><span class="delimiter">'</span></span>)
  <span class="keyword">WHERE</span> (<span class="class">SELECT</span> geometry_type_name <span class="keyword">FROM</span> gpkg_geometry_columns
         <span class="keyword">WHERE</span> Lower(table_name) = Lower(<span class="string"><span class="delimiter">'</span><span class="content">&lt;t&gt;</span><span class="delimiter">'</span></span>)
                 <span class="keyword">AND</span> Lower(column_name) = Lower(<span class="string"><span class="delimiter">'</span><span class="content">&lt;c&gt;</span><span class="delimiter">'</span></span>)
                 <span class="keyword">AND</span> gpkg_IsAssignable(geometry_type_name, ST_GeometryType(NEW.&lt;c&gt;)) = <span class="integer">0</span>;
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> fgtu_&lt;t&gt;_&lt;c&gt; <span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> <span class="string"><span class="delimiter">'</span><span class="content">&lt;c&gt;</span><span class="delimiter">'</span></span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">&lt;t&gt;</span><span class="delimiter">'</span></span> <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span>
<span class="class">BEGIN</span>
  <span class="class">SELECT</span> RAISE (ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update of &lt;c&gt; on &lt;t&gt; violates constraint: ST_GeometryType(&lt;c&gt;) is not assignable from gpkg_geometry_columns.geometry_type_name value</span><span class="delimiter">'</span></span>)
  <span class="keyword">WHERE</span> (<span class="class">SELECT</span> geometry_type_name <span class="keyword">FROM</span> gpkg_geometry_columns
         <span class="keyword">WHERE</span> Lower(table_name) = Lower(<span class="string"><span class="delimiter">'</span><span class="content">&lt;t&gt;</span><span class="delimiter">'</span></span>)
                 <span class="keyword">AND</span> Lower(column_name) = Lower(<span class="string"><span class="delimiter">'</span><span class="content">&lt;c&gt;</span><span class="delimiter">'</span></span>)
                 <span class="keyword">AND</span> gpkg_IsAssignable(geometry_type_name, ST_GeometryType(NEW.&lt;c&gt;)) = <span class="integer">0</span>;
<span class="keyword">END</span></code></pre>
</div>
</div>
<h4 id="_geopackage_sqlite_configuration_5" class="float">GeoPackage SQLite Configuration</h4>
<div class="paragraph">
<p>None</p>
</div>
<h4 id="_geopackage_sqlite_extension_5" class="float">GeoPackage SQLite Extension</h4>
<div class="paragraph">
<p>Definition of SQL functions</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">SQL Function</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST_GeometryType(geom. Geometry) : TEXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the WKB geometry type name of a Geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check that the geometry type matches what’s specified in gpkg_geometry_columns.geometry_type_name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPKG_IsAssignable(expected_type_name TEXT, actual_type_name TEXT): INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns 1 if a value of type expected_type_name is the same or a super type of type actual_type_name. Returns 0 otherwise.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Determine if the expected geometry type is the same as or a super type of the actual geometry type.</p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>The SQL functions on geometries in this SQLite Extension SHALL operate correctly on extended geometry types specified by <a href="#extension_geometry_encoding">User-Defined Geometry Types Encoding Extension Template (Normative)</a> and/or <a href="#extension_geometry_types">GeoPackage Geometry Types Extension Template (Normative)</a> when those extensions are also implemented.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extension_geometry_srsid_triggers"> Annex N: Geometry SRS ID Triggers Extension (Normative)</h2>
<div class="sectionbody">
<h3 id="_extension_title_6" class="float">Extension Title</h3>
<div class="paragraph">
<p>Geometry SRS_ID Triggers</p>
</div>
<h3 id="_introduction_8" class="float">Introduction</h3>
<div class="paragraph">
<p>Geometry SRS_ID triggers prevent the storage of geometries with spatial reference system identifiers that are not specified in the <code>gpkg_geometry_columns</code> table in the geometry columns of the specified tables.</p>
</div>
<h3 id="_extension_author_6" class="float">Extension Author</h3>
<div class="paragraph">
<p>GeoPackage SWG, author_name <code>gpkg</code>.</p>
</div>
<h3 id="_extension_name_or_template_6" class="float">Extension Name or Template</h3>
<div class="paragraph">
<p><code>gpkg_srs_id_trigger</code></p>
</div>
<h3 id="_extension_type_6" class="float">Extension Type</h3>
<div class="paragraph">
<p>New Requirement dependent on clauses <a href="#gpb_format">几何编码</a> and 3.1.2.</p>
</div>
<h3 id="_applicability_6" class="float">Applicability</h3>
<div class="paragraph">
<p>This extension applies to any column specified in the gpkg_geometry_columns table.</p>
</div>
<h3 id="_scope_6" class="float">Scope</h3>
<div class="paragraph">
<p>Write-only</p>
</div>
<h3 id="_requirements_6" class="float">Requirements</h3>
<div class="paragraph">
<p>The &lt;t&gt; and &lt;c&gt; template parameters in the SRS_ID trigger definition SQL template in the table below are to be replaced with the names of the feature table and geometry column being inserted or updated</p>
</div>
<h4 id="_geopackage_6" class="float">GeoPackage</h4>
<div class="listingblock">
<div class="content">
<pre class="CodeRay"><code class="sql language-sql"><span class="class">CREATE</span> <span class="type">TRIGGER</span> fgsi_&lt;t&gt; _&lt;c&gt; <span class="keyword">BEFORE</span> <span class="class">INSERT</span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">&lt;t&gt;</span><span class="delimiter">'</span></span> <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span>
<span class="class">BEGIN</span>
  <span class="class">SELECT</span> RAISE (ABORT, <span class="string"><span class="delimiter">'</span><span class="content">insert on &lt;t&gt;violates constraint: ST_SRID(&lt;c&gt;) does not match gpkg_geometry_columns.srs_id value</span><span class="delimiter">'</span></span>)
  <span class="keyword">WHERE</span> (<span class="class">SELECT</span> srs_id <span class="keyword">FROM</span> gpkg_geometry_columns
         <span class="keyword">WHERE</span> Lower(table_name) = Lower(<span class="string"><span class="delimiter">'</span><span class="content">&lt;t&gt;</span><span class="delimiter">'</span></span>)
               <span class="keyword">AND</span>   Lower(column_name) = Lower(<span class="string"><span class="delimiter">'</span><span class="content">&lt;c&gt;</span><span class="delimiter">'</span></span>)
               <span class="keyword">AND</span>   ST_SRID(NEW.<span class="string"><span class="delimiter">'</span><span class="content">&lt;c&gt;</span><span class="delimiter">'</span></span>) &lt;&gt; srs_id) ;
<span class="keyword">END</span>

<span class="class">CREATE</span> <span class="type">TRIGGER</span> fgsu_&lt;t&gt;_&lt;c&gt; <span class="keyword">BEFORE</span> <span class="class">UPDATE</span> <span class="keyword">OF</span> <span class="string"><span class="delimiter">'</span><span class="content">&lt;c&gt;</span><span class="delimiter">'</span></span> <span class="keyword">ON</span> <span class="string"><span class="delimiter">'</span><span class="content">&lt;t&gt;</span><span class="delimiter">'</span></span> <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span>
<span class="class">BEGIN</span>
  <span class="class">SELECT</span> RAISE (ABORT, <span class="string"><span class="delimiter">'</span><span class="content">update of &lt;c&gt; on &lt;t&gt; violates constraint: ST_SRID(&lt;c&gt;) does not match gpkg_geometry_columns.srs_id value</span><span class="delimiter">'</span></span>)
  <span class="keyword">WHERE</span> (<span class="class">SELECT</span> srs_id <span class="keyword">FROM</span> gpkg_geometry_columns
         <span class="keyword">WHERE</span> Lower(table_name) = Lower(<span class="string"><span class="delimiter">'</span><span class="content">&lt;t&gt;</span><span class="delimiter">'</span></span>)
               <span class="keyword">AND</span>   Lower(column_name) = Lower(<span class="string"><span class="delimiter">'</span><span class="content">&lt;c&gt;</span><span class="delimiter">'</span></span>)
               <span class="keyword">AND</span>   ST_SRID(NEW.<span class="string"><span class="delimiter">'</span><span class="content">&lt;c&gt;</span><span class="delimiter">'</span></span>) &lt;&gt; srs_id);
<span class="keyword">END</span></code></pre>
</div>
</div>
<h4 id="_geopackage_sqlite_configuration_6" class="float">GeoPackage SQLite Configuration</h4>
<div class="paragraph">
<p>None</p>
</div>
<h4 id="_geopackage_sqlite_extension_6" class="float">GeoPackage SQLite Extension</h4>
<div class="paragraph">
<p>Definition of SQL functions</p>
</div>
<table class="tableblock frame-all grid-all" style="width:100%; ">
<colgroup>
<col style="width:%;">
<col style="width:%;">
<col style="width:%;"> 
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">SQL Function</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Use</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ST_SRID(geom. Geometry) : INTEGER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the spatial reference system id of a Geometry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check that geometry srid matches what&#8217;s specified in <code>gpkg_geometry_columns.srid</code></p></td>
</tr>
</tbody>
</table>

<div class="paragraph">
<p>The SQL function on geometries in this SQLite Extension SHALL operate correctly on extended geometry types specified by Annex J and/or Annex K when those extensions are also implemented.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extension_zoom_other_intervals"> Annex O: Zoom Other Intervals Extension (Normative)</h2>
<div class="sectionbody">
<h3 id="_extension_title_7" class="float">Extension Title</h3>
<div class="paragraph">
<p>Zoom Other Intervals</p>
</div>
<h3 id="_introduction_9" class="float">Introduction</h3>
<div class="paragraph">
<p>In a GeoPackage, zoom levels are integers in sequence from 0 to n that identify tile matrix layers in a tile matrix set that contain tiles of decreasing spatial extent and finer spatial resolution.
Adjacent zoom levels immediately precede or follow each other and differ by a value of 1.
Pixel sizes are real numbers in the terrain units of the spatial reference system of a tile image specifying the dimensions of the real world area represented by one pixel.
Pixel sizes MAY vary by a constant factor or by different factors or intervals between some or all adjacent zoom levels in a tile matrix set.
In the commonly used "zoom times two" convention, pixel sizes vary by a factor of 2 between all adjacent zoom levels, as shown in the example in <a href="#tiles_factor2_example_appendix">Tiles Zoom Times Two Example (Informative)</a>.</p>
</div>
<div class="paragraph">
<p>This extension enables use of "zoom other intervals" conventions with different factors or irregular intervals with pixel sizes chosen for intuitive cartographic representation of raster data, or to coincide with the original pixel size of commonly used global image products.
See WMTS <a href="#16">[16]</a> Annex E for additional examples of both conventions.</p>
</div>
<h3 id="_extension_author_7" class="float">Extension Author</h3>
<div class="paragraph">
<p>GeoPackage SWG, author_name <code>gpkg</code></p>
</div>
<h3 id="_extension_name_or_template_7" class="float">Extension Name or Template</h3>
<div class="paragraph">
<p><code>gpkg_zoom_other</code></p>
</div>
<h3 id="_extension_type_7" class="float">Extension Type</h3>
<div class="paragraph">
<p>Extension of Existing Requirement in clause 2.2.3.</p>
</div>
<h3 id="_applicability_7" class="float">Applicability</h3>
<div class="paragraph">
<p>This extension applies to any table listed in the <code>gpkg_contents</code> table with a data_type of <code>tiles</code>.</p>
</div>
<h3 id="_scope_7" class="float">Scope</h3>
<div class="paragraph">
<p>Read-write</p>
</div>
<h3 id="_requirements_7" class="float">Requirements</h3>
<h4 id="_geopackage_7" class="float">GeoPackage</h4>
<div class="paragraph">
<p>The <code>pixel_x_size</code> and / or <code>pixel_y_size</code> column values in the <code>gpkg_tile_matrix</code> table vary by irregular intervals or by regular intervals other than a factor of two (the default) between adjacent zoom levels for a particular tile matrix set pyramid table.</p>
</div>
<h4 id="_geopackage_sqlite_configuration_7" class="float">GeoPackage SQLite Configuration</h4>
<div class="paragraph">
<p>None</p>
</div>
<h4 id="_geopackage_sqlite_extension_7" class="float">GeoPackage SQLite Extension</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="extension_tiles_webp"> Annex P: Tiles Encoding WebP Extension (Normative)</h2>
<div class="sectionbody">
<h3 id="_extension_title_8" class="float">Extension Title</h3>
<div class="paragraph">
<p>Tile Encoding WebP</p>
</div>
<h3 id="_introduction_10" class="float">Introduction</h3>
<div class="paragraph">
<p>PNG and JPEG are the default MIME types for encoding images in tile pyramid user data tables.
This extension allows the use of <code>image/x-webp</code> as an additional encoding type.</p>
</div>
<h3 id="_extension_author_8" class="float">Extension Author</h3>
<div class="paragraph">
<p>GeoPackage SWG, author_name <code>gpkg</code>.</p>
</div>
<h3 id="_extension_name_or_template_8" class="float">Extension Name or Template</h3>
<div class="paragraph">
<p><code>gpkg_webp</code></p>
</div>
<h3 id="_extension_type_8" class="float">Extension Type</h3>
<div class="paragraph">
<p>Extension of Existing Requirement in clauses <a href="#tile_enc_png">Tile Encoding PNG</a> and <a href="#tile_enc_jpeg">Tile Encoding JPEG</a>.</p>
</div>
<h3 id="_applicability_8" class="float">Applicability</h3>
<div class="paragraph">
<p>This extension applies to any table listed in the <code>gpkg_contents</code> table with a data_type of <code>tiles</code>.</p>
</div>
<h3 id="_scope_8" class="float">Scope</h3>
<div class="paragraph">
<p>Read-write</p>
</div>
<h3 id="_requirements_8" class="float">Requirements</h3>
<h4 id="_geopackage_8" class="float">GeoPackage</h4>
<div class="paragraph">
<p>The MIME type of values of the <code>tile_data</code> column in tile pyramid user data tables SHALL be <code>image/x-webp</code>.</p>
</div>
<h4 id="_geopackage_sqlite_configuration_8" class="float">GeoPackage SQLite Configuration</h4>
<div class="paragraph">
<p>None</p>
</div>
<h4 id="_geopackage_sqlite_extension_8" class="float">GeoPackage SQLite Extension</h4>
<div class="paragraph">
<p>None</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_normative_references_normative"> Annex Q: Normative References (Normative)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following normative documents contain provisions which, through reference in this text, constitute provisions of OGC 12-128.
For dated references, subsequent amendments to, or revisions of, any of these publications do not apply.
However, parties to agreements based on this part of OGC 12-128 are encouraged to investigate the possibility of applying the most recent editions of the normative documents indicated below.
For undated references, the latest edition of the normative document referred to applies.</p>
</div>
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="1"></a>[1] ISO/IEC 9075:1992 Information Technology - Database Language SQL (SQL92)</p>
</li>
<li>
<p><a id="2"></a>[2] ISO/IEC 9075-1:2011 Information Technology - Database Language SQL - Part 1: Framework</p>
</li>
<li>
<p><a id="3"></a>[3] ISO/IEC 9075-2:2011 Information Technology - Database Language SQL - Part 2: Foundation</p>
</li>
<li>
<p><a id="4"></a>[4] ISO/IEC 9075-3:2008 Information Technology - Database Language SQL - Part 3: Call- Level Interface (SQL/CLI)</p>
</li>
<li>
<p><a id="5"></a>[5] SQLite (all parts) <a href="http://www.sqlite.org/">http://www.sqlite.org/</a> (online) <a href="http://www.sqlite.org/sqlite-doc-3071300.zip">http://www.sqlite.org/sqlite-doc-3071300.zip</a> (offline)</p>
</li>
<li>
<p><a id="6"></a>[6] <a href="http://sqlite.org/fileformat2.html">http://sqlite.org/fileformat2.html</a></p>
</li>
<li>
<p><a id="7"></a>[7] <a href="http://www.sqlite.org/formatchng.html">http://www.sqlite.org/formatchng.html</a></p>
</li>
<li>
<p><a id="8"></a>[8] <a href="http://www.sqlite.org/download.html">http://www.sqlite.org/download.html</a></p>
</li>
<li>
<p><a id="9"></a>[9] OGC 06-103r4 OpenGIS® Implementation Standard for Geographic information - Simple feature access - Part 1: Common architecture Version: 1.2.1 2011-05-28 <a href="http://portal.opengeospatial.org/files/?artifact_id=25355">http://portal.opengeospatial.org/files/?artifact_id=25355</a> (also ISO/TC211 19125 Part 1)</p>
</li>
<li>
<p><a id="10"></a>[10] OGC 06-104r4 OpenGIS® Implementation Standard for Geographic information - Simple feature access - Part 2: SQL option Version: 1.2.1 2010-08-04 <a href="http://portal.opengeospatial.org/files/?artifact_id=25354">http://portal.opengeospatial.org/files/?artifact_id=25354</a> (also ISO/TC211 19125 Part 2)</p>
</li>
<li>
<p><a id="11"></a>[11] OGC 99-049 OpenGIS® Simple Features Specification for SQL Revision 1.1 5, 1999, Clause 2.3.8 <a href="http://portal.opengeospatial.org/files/?artifact_id=829">http://portal.opengeospatial.org/files/?artifact_id=829</a> May</p>
</li>
<li>
<p><a id="12"></a>[12] ISO/IEC 13249-3:2011 Information technology — SQL Multimedia and Application Packages - Part 3: Spatial (SQL/MM)</p>
</li>
<li>
<p><a id="13"></a>[13] <a href="http://www.epsg.org/Geodetic.html">http://www.epsg.org/Geodetic.html</a></p>
</li>
<li>
<p><a id="14"></a>[14] <a href="http://www.epsg-registry.org/">http://www.epsg-registry.org/</a></p>
</li>
<li>
<p><a id="15"></a>[15] MIL_STD_2401 DoD World Geodetic System 84 (WGS84), 11 January 1994</p>
</li>
<li>
<p><a id="16"></a>[16] OGC 07-057r7 OpenGIS® Web Map Tile Service Implementation Standard ersion 1.0.0 2010-04-06 (WMTS) <a href="http://portal.opengeospatial.org/files/?artifact_id=35326">http://portal.opengeospatial.org/files/?artifact_id=35326</a></p>
</li>
<li>
<p><a id="17"></a>[17] ITU-T Recommendation T.81 (09/92) with Corrigendum (JPEG)</p>
</li>
<li>
<p><a id="18"></a>[18] JPEG File Interchange Format Version 1.02, September 1, 1992 <a href="http://www.jpeg.org/public/jfif.pdf">http://www.jpeg.org/public/jfif.pdf</a></p>
</li>
<li>
<p><a id="19"></a>[19] IETF RFC 2046 Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types <a href="http://www.ietf.org/rfc/rfc2046.txt">http://www.ietf.org/rfc/rfc2046.txt</a></p>
</li>
<li>
<p><a id="20"></a>[20] Portable Network Graphics <a href="http://libpng.org/pub/png/">http://libpng.org/pub/png/</a></p>
</li>
<li>
<p><a id="21"></a>[21] MIME Media Types <a href="http://www.iana.org/assignments/media-types/index.html">http://www.iana.org/assignments/media-types/index.html</a></p>
</li>
<li>
<p><a id="22"></a>[22] WebP <a href="https://developers.google.com/speed/webp/">https://developers.google.com/speed/webp/</a></p>
</li>
<li>
<p><a id="23"></a>[23] IETF RFC 3986 Uniform Resource Identifier (URI): Generic Syntax <a href="http://www.ietf.org/rfc/rfc3986.txt">http://www.ietf.org/rfc/rfc3986.txt</a></p>
</li>
<li>
<p><a id="24"></a>[24] W3C Recommendation 26 November 2008 Extensible Markup Language (XML) 1.0 (Fifth Edition) <a href="http://www.w3.org/TR/xml/">http://www.w3.org/TR/xml/</a></p>
</li>
<li>
<p><a id="25"></a>[25] W3C Recommendation 28 October 2004 XML Schema Part 0: Primer Second Edition <a href="http://www.w3.org/TR/xmlschema-0/">http://www.w3.org/TR/xmlschema-0/</a></p>
</li>
<li>
<p><a id="26"></a>[26] W3C Recommendation 28 October 2004 XML Schema Part 1: Structures Second Edition <a href="http://www.w3.org/TR/xmlschema-1/">http://www.w3.org/TR/xmlschema-1/</a></p>
</li>
<li>
<p>[<a id="27"></a> W3C Recommendation 28 October 2004 XML Schema Part 2: Datatypes Second Edition <a href="http://www.w3.org/TR/xmlschema-2/">http://www.w3.org/TR/xmlschema-2/</a></p>
</li>
<li>
<p><a id="28"></a>[28] ISO 19115 Geographic information&#8201;&#8212;&#8201;Metadata, 8 May 2003, with Technical Corrigendum 1, 5 July 2006</p>
</li>
<li>
<p><a id="29"></a>[29] ISO 8601 Representation of dates and times <a href="http://www.iso.org/iso/catalogue_detail?csnumber=40874">http://www.iso.org/iso/catalogue_detail?csnumber=40874</a></p>
</li>
<li>
<p><a id="30"></a>[30] OGC® 10-100r3 Geography Markup Language (GML) simple features profile (with technical note) <a href="http://portal.opengeospatial.org/files/?artifact_id=42729">http://portal.opengeospatial.org/files/?artifact_id=42729</a></p>
</li>
<li>
<p><a id="31"></a>[31] SQLite R*Tree Module <a href="http://www.sqlite.org/rtree.html">http://www.sqlite.org/rtree.html</a></p>
</li>
<li>
<p><a id="32"></a>[32] OpenGIS® 01-009 Implementation Specification: Coordinate Transformation Services Revision 1.0  <a href="http://portal.opengeospatial.org/files/?artifact_id=999">http://portal.opengeospatial.org/files/?artifact_id=999</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_bibliography_informative"> Annex R: Bibliography (Informative)</h2>
<div class="sectionbody">
<div class="ulist bibliography">
<ul class="bibliography">
<li>
<p><a id="B1"></a>[B1] <a href="http://developer.android.com/guide/topics/data/data-storage.html#db">http://developer.android.com/guide/topics/data/data-storage.html#db</a></p>
</li>
<li>
<p><a id="B2"></a>[B2] <a href="https://developer.apple.com/technologies/ios/data-management.html">https://developer.apple.com/technologies/ios/data-management.html</a></p>
</li>
<li>
<p><a id="B3"></a>[B3] <a href="http://www.epsg.org/guides/docs/G7-1.pdf">http://www.epsg.org/guides/docs/G7-1.pdf</a></p>
</li>
<li>
<p><a id="B4"></a>[B4] <a href="http://en.wikipedia.org/wiki/ASCII">http://en.wikipedia.org/wiki/ASCII</a></p>
</li>
<li>
<p><a id="B5"></a>[B5] <a href="http://www.sqlite.org/lang_createtable.html#rowid">http://www.sqlite.org/lang_createtable.html#rowid</a></p>
</li>
<li>
<p><a id="B6"></a>[B6] ISO 19115-2 Geographic information - - Metadata - Part 2: Metadata for imagery and gridded data</p>
</li>
<li>
<p><a id="B7"></a>[B7] ISO 19139: Geographic information&#8201;&#8212;&#8201;Metadata&#8201;&#8212;&#8201;XML schema implementation</p>
</li>
<li>
<p><a id="B8"></a>[B8] Dublin Core Metadata Initiative <a href="http://dublincore.org/">http://dublincore.org/</a>  IETF RFC 5013</p>
</li>
<li>
<p><a id="B9"></a>[B9] ISO 15836:2009  <a href="http://www.iso.org/iso/home/store/catalogue_tc/catalogue_detail.htm?csnumber=52142">http://www.iso.org/iso/home/store/catalogue_tc/catalogue_detail.htm?csnumber=52142</a></p>
</li>
<li>
<p><a id="B10"></a>[B10] Content Standard for Digital Geospatial Metadata (CSDGM)</p>
</li>
<li>
<p><a id="B11"></a>[B11] <a href="http://www.fgdc.gov/standards/projects/FGDC-standards-projects/metadata/base-metadata/index_html">http://www.fgdc.gov/standards/projects/FGDC-standards-projects/metadata/base-metadata/index_html</a></p>
</li>
<li>
<p><a id="B12"></a>[B12] Department of Defense Discovery Metadata Specification (DDMS) <a href="http://metadata.ces.mil/mdr/irs/DDMS/">http://metadata.ces.mil/mdr/irs/DDMS/</a></p>
</li>
<li>
<p><a id="B13"></a>[B13] NMF NGA.STND.0012_2.0 /  NMIS NGA.STND.0018_1.0</p>
</li>
<li>
<p><a id="B14"></a>[B14] Unified Modeling Language (UML) <a href="http://www.uml.org/">http://www.uml.org/</a></p>
</li>
<li>
<p><a id="B15"></a>[B15] XML for Metadata Interchange (XMI) <a href="http://www.omg.org/spec/XMI/">http://www.omg.org/spec/XMI/</a></p>
</li>
<li>
<p><a id="B16"></a>[B16] IDEF1x Data Modeling Method <a href="http://www.idef.com/IDEF1x.htm">http://www.idef.com/IDEF1x.htm</a></p>
</li>
<li>
<p><a id="B17"></a>[B17] Geography Markup Language (GML) ISO 19136:2007</p>
</li>
<li>
<p><a id="B18"></a>[B18] ISO 19110 Geographic information – Methodology for feature cataloguing</p>
</li>
<li>
<p><a id="B19"></a>[B19] RDF Vocabulary Description Language 1.0: RDF Schema  <a href="http://www.w3.org/TR/rdf-schema/">http://www.w3.org/TR/rdf-schema/</a></p>
</li>
<li>
<p><a id="B20"></a>[B20] Web Ontology Language (OWL) <a href="http://www.w3.org/TR/2009/REC-owl2-xml-serialization-20091027/">http://www.w3.org/TR/2009/REC-owl2-xml-serialization-20091027/</a></p>
</li>
<li>
<p><a id="B21"></a>[B21] Simple Knowledge Organization System (SKOS) <a href="http://www.w3.org/TR/skos-reference/">http://www.w3.org/TR/skos-reference/</a></p>
</li>
<li>
<p><a id="B22"></a>[B22] STANAG 7074 Digital Geographic Information Exchange Standard (DIGEST) - AGeoP-3A, edition 1, 19 October 1994 <a href="http://www.dgiwg.org/dgiwg/htm/documents/historical_documents.htm">http://www.dgiwg.org/dgiwg/htm/documents/historical_documents.htm</a></p>
</li>
<li>
<p><a id="B23"></a>[B23] ISO 19109 Geographic information - Rules for application schema</p>
</li>
<li>
<p><a id="B24"></a>[B24] <a href="http://www.sqlite.org/changes.html">http://www.sqlite.org/changes.html</a></p>
</li>
<li>
<p><a id="B25"></a>[B25] <a href="http://sqlite.org/src4/doc/trunk/www/design.wiki">http://sqlite.org/src4/doc/trunk/www/design.wiki</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. SQLite version 4 (reference B25), which will be an alternative to version 3, not a replacement thereof, was not available when this specification was written. See Future Work clause in Annex B.
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. SQLite is in the public domain (see <a href="http://www.sqlite.org/copyright.html)">http://www.sqlite.org/copyright.html)</a>
</div>
<div class="footnote" id="_footnote_3">
<a href="#_footnoteref_3">3</a>. With SQLite versions 3.7.17 and later this value MAY be set with the "PRAGMA application_id=1196437808;" SQL statement, where 1196437808 is the 32-bit integer value of 0x47503130. With earlier versions of SQLite the application id can be set by writing the byte sequence 0x47, 0x50, 0x31, 0x30 at offset 68 in the SQLite database file (see <a href="http://www.sqlite.org/fileformat2.html#database_header">http://www.sqlite.org/fileformat2.html#database_header</a> for details).
</div>
<div class="footnote" id="_footnote_4">
<a href="#_footnoteref_4">4</a>. New applications should use the latest available SQLite version software <<8>>
</div>
<div class="footnote" id="_footnote_5">
<a href="#_footnoteref_5">5</a>. The following statement selects an ISO 8601timestamp value using the SQLite strftime function: SELECT (strftime('%Y-%m-%dT%H:%M:%fZ','now')).
</div>
<div class="footnote" id="_footnote_6">
<a href="#_footnoteref_6">6</a>. OGC WKB simple feature geometry types specified in <<13>> are a subset of the ISO WKB geometry types specified in <<16>>
</div>
<div class="footnote" id="_footnote_7">
<a href="#_footnoteref_7">7</a>. WKB geometry types are are restricted to 0, 1 and 2-dimensional geometric objects that exist in 2, 3 or 4-dimensional coordinate space; they are not geographic or geodesic geometry types.
</div>
<div class="footnote" id="_footnote_8">
<a href="#_footnoteref_8">8</a>. The axis order in WKB is always (x,y{,z}{,m}) where x is easting or longitude, y is northing or latitude, z is optional elevation and m is optional measure.
</div>
<div class="footnote" id="_footnote_9">
<a href="#_footnoteref_9">9</a>. A GeoPackage is not required to contain any feature data tables. Feature data tables in a GeoPackage MAY be empty.
</div>
<div class="footnote" id="_footnote_10">
<a href="#_footnoteref_10">10</a>. GeoPackage applications MAY use SQL triggers or tests in application code to meet this requirement
</div>
<div class="footnote" id="_footnote_11">
<a href="#_footnoteref_11">11</a>. Images of multiple MIME types MAY be stored in given table. For example, in a tiles table, image/png format tiles COULD be used for transparency where there is no data on the tile edges, and image/jpeg format tiles COULD be used for storage efficiency where there is image data for all pixels. Images of multiple bit depths of the same MIME type MAY also be stored in a given table, for example image/png tiles in both 8 and 24 bit depths.
</div>
<div class="footnote" id="_footnote_12">
<a href="#_footnoteref_12">12</a>. See clause 3.2.1.1.1 for use of other zoom levels as a registered extensions.
</div>
<div class="footnote" id="_footnote_13">
<a href="#_footnoteref_13">13</a>. See Clause 3.2.2 regarding use of the WebP alternative tile MIME type as a registered extension.
</div>
<div class="footnote" id="_footnote_14">
<a href="#_footnoteref_14">14</a>. See Clause 3.2.2 regarding use of the WebP alternative tile MIME type as a registered extension.
</div>
<div class="footnote" id="_footnote_15">
<a href="#_footnoteref_15">15</a>. GeoPackage applications MAY query the gpkg_tile_matrix table or the tile pyramid user data table to determine the minimum and maximum zoom levels for a given tile pyramid table.
</div>
<div class="footnote" id="_footnote_16">
<a href="#_footnoteref_16">16</a>. GeoPackage applications MAY query a tile pyramid user data table to determine which tiles are available at each zoom level.
</div>
<div class="footnote" id="_footnote_17">
<a href="#_footnoteref_17">17</a>. GeoPackage applications that insert, update, or delete tile pyramid user data table tiles row records are responsible for maintaining the corresponding descriptive contents of the gpkg_tile_matrix_metadata table.
</div>
<div class="footnote" id="_footnote_18">
<a href="#_footnoteref_18">18</a>. The `gpkg_tile_matrix_set` table contains coordinates that define a bounding box as the exact stated spatial extent for all tiles in a tile (matrix set) table. If the geographic extent of the image data contained in tiles at a particular zoom level is within but not equal to this bounding box, then the non-image area of matrix edge tiles must be padded with no-data values, preferably transparent ones.
</div>
<div class="footnote" id="_footnote_19">
<a href="#_footnoteref_19">19</a>. A GeoPackage is not required to contain any tile pyramid user data tables. Tile pyramid user data tables in a GeoPackage MAY be empty.
</div>
<div class="footnote" id="_footnote_20">
<a href="#_footnoteref_20">20</a>. The zoom_level / tile_column / tile_row unique key is automatically indexed, and allows tiles to be selected and accessed by "z, x, y", a common convention used by some implementations.  This table / view definition MAY also allow tiles to be selected based on a spatially indexed bounding box in a separate metadata table.
</div>
<div class="footnote" id="_footnote_21">
<a href="#_footnoteref_21">21</a>. A GeoPackage is not required to contain a gpkg_data_columns table. The gpkg_data_columns table in a GeoPackage MAY be empty.
</div>
<div class="footnote" id="_footnote_22">
<a href="#_footnoteref_22">22</a>. GeoPackages MAY contain MIME types other than the raster image types specified in clauses 2.2.4, 2.2.5, and 3.2.2 as feature attributes, but they are not required to do so.
</div>
<div class="footnote" id="_footnote_23">
<a href="#_footnoteref_23">23</a>. Informative examples of hierarchical metadata are provided in &lt;&lt;metadata_example_appendix&gt;&gt;
</div>
<div class="footnote" id="_footnote_24">
<a href="#_footnoteref_24">24</a>. An informative example of raster image metadata is provided in &lt;&lt;tiles_example_appendix&gt;&gt;
</div>
<div class="footnote" id="_footnote_25">
<a href="#_footnoteref_25">25</a>. For example, for ISO 19139 metadata the URI value should be the metadata schema namespace <a href="http://www.isotc211.org/2005/gmd">http://www.isotc211.org/2005/gmd</a>
</div>
<div class="footnote" id="_footnote_26">
<a href="#_footnoteref_26">26</a>. The scope codes in &lt;&lt;metadata_scopes&gt;&gt; include a very wide set of descriptive information types as “metadata” to describe data.
</div>
<div class="footnote" id="_footnote_27">
<a href="#_footnoteref_27">27</a>. ISO 19139 format metadata (B32) is recommended for general-purpose description of geospatial data at the series and dataset metadata scopes.
</div>
<div class="footnote" id="_footnote_28">
<a href="#_footnoteref_28">28</a>. The “catalog” md_scope MAY be used for Feature Catalog (B40) information stored as XML metadata that is linked to features stored in a GeoPackage.
</div>
<div class="footnote" id="_footnote_29">
<a href="#_footnoteref_29">29</a>. The “schema” md_scope MAY be used for Application Schema (B37)(B38)(B39)(B44) information stored as XML metadata that is linked to features stored in a GeoPackage.
</div>
<div class="footnote" id="_footnote_30">
<a href="#_footnoteref_30">30</a>. The “taxonomy” md_scope MAY be used for taxonomy or knowledge system (B41)(B42) “linked data” information stored as XML metadata that is linked to features stored in a GeoPackage.
</div>
<div class="footnote" id="_footnote_31">
<a href="#_footnoteref_31">31</a>. In SQLite, the rowid value is always equal to the value of a single-column primary key on an integer column [B30\] and is not changed by a database reorganization performed by the VACUUM SQL command.
</div>
<div class="footnote" id="_footnote_32">
<a href="#_footnoteref_32">32</a>. Such a metadata hierarchy MAY have only one level of defined metadata
</div>
<div class="footnote" id="_footnote_33">
<a href="#_footnoteref_33">33</a>. The following statement selects an ISO 8601timestamp value using the SQLite strftime function: SELECT (strftime('%Y-%m-%dT%H:%M:%fZ','now')).
</div>
<div class="footnote" id="_footnote_34">
<a href="#_footnoteref_34">34</a>. See Requirement 82.
</div>
<div class="footnote" id="_footnote_35">
<a href="#_footnoteref_35">35</a>. If an application process will make many updates, it is often faster to drop the indexes, do the updates, and then recreate the indexes.
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2014-06-11 19:26:47 CST
</div>
</div>
</body>
</html>